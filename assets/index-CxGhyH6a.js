(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Ll(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Au={exports:{}},zi={},Mu={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function Uv(){if(Dd)return _e;Dd=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function R(N,H,I){this.props=N,this.context=H,this.refs=_,this.updater=I||T}R.prototype.isReactComponent={},R.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function A(){}A.prototype=R.prototype;function z(N,H,I){this.props=N,this.context=H,this.refs=_,this.updater=I||T}var U=z.prototype=new A;U.constructor=z,E(U,R.prototype),U.isPureReactComponent=!0;var $=Array.isArray,J=Object.prototype.hasOwnProperty,L={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function ce(N,H,I){var ye,Ee={},ge=null,Re=null;if(H!=null)for(ye in H.ref!==void 0&&(Re=H.ref),H.key!==void 0&&(ge=""+H.key),H)J.call(H,ye)&&!K.hasOwnProperty(ye)&&(Ee[ye]=H[ye]);var we=arguments.length-2;if(we===1)Ee.children=I;else if(1<we){for(var Le=Array(we),Ke=0;Ke<we;Ke++)Le[Ke]=arguments[Ke+2];Ee.children=Le}if(N&&N.defaultProps)for(ye in we=N.defaultProps,we)Ee[ye]===void 0&&(Ee[ye]=we[ye]);return{$$typeof:n,type:N,key:ge,ref:Re,props:Ee,_owner:L.current}}function Z(N,H){return{$$typeof:n,type:N.type,key:H,ref:N.ref,props:N.props,_owner:N._owner}}function F(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ne(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(I){return H[I]})}var Q=/\/+/g;function te(N,H){return typeof N=="object"&&N!==null&&N.key!=null?ne(""+N.key):H.toString(36)}function re(N,H,I,ye,Ee){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(ge){case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case n:case e:Re=!0}}if(Re)return Re=N,Ee=Ee(Re),N=ye===""?"."+te(Re,0):ye,$(Ee)?(I="",N!=null&&(I=N.replace(Q,"$&/")+"/"),re(Ee,H,I,"",function(Ke){return Ke})):Ee!=null&&(F(Ee)&&(Ee=Z(Ee,I+(!Ee.key||Re&&Re.key===Ee.key?"":(""+Ee.key).replace(Q,"$&/")+"/")+N)),H.push(Ee)),1;if(Re=0,ye=ye===""?".":ye+":",$(N))for(var we=0;we<N.length;we++){ge=N[we];var Le=ye+te(ge,we);Re+=re(ge,H,I,Le,Ee)}else if(Le=C(N),typeof Le=="function")for(N=Le.call(N),we=0;!(ge=N.next()).done;)ge=ge.value,Le=ye+te(ge,we++),Re+=re(ge,H,I,Le,Ee);else if(ge==="object")throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Re}function fe(N,H,I){if(N==null)return N;var ye=[],Ee=0;return re(N,ye,"","",function(ge){return H.call(I,ge,Ee++)}),ye}function Te(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(I){(N._status===0||N._status===-1)&&(N._status=1,N._result=I)},function(I){(N._status===0||N._status===-1)&&(N._status=2,N._result=I)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var xe={current:null},j={transition:null},de={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:j,ReactCurrentOwner:L};function w(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:fe,forEach:function(N,H,I){fe(N,function(){H.apply(this,arguments)},I)},count:function(N){var H=0;return fe(N,function(){H++}),H},toArray:function(N){return fe(N,function(H){return H})||[]},only:function(N){if(!F(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},_e.Component=R,_e.Fragment=t,_e.Profiler=o,_e.PureComponent=z,_e.StrictMode=r,_e.Suspense=m,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,_e.act=w,_e.cloneElement=function(N,H,I){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ye=E({},N.props),Ee=N.key,ge=N.ref,Re=N._owner;if(H!=null){if(H.ref!==void 0&&(ge=H.ref,Re=L.current),H.key!==void 0&&(Ee=""+H.key),N.type&&N.type.defaultProps)var we=N.type.defaultProps;for(Le in H)J.call(H,Le)&&!K.hasOwnProperty(Le)&&(ye[Le]=H[Le]===void 0&&we!==void 0?we[Le]:H[Le])}var Le=arguments.length-2;if(Le===1)ye.children=I;else if(1<Le){we=Array(Le);for(var Ke=0;Ke<Le;Ke++)we[Ke]=arguments[Ke+2];ye.children=we}return{$$typeof:n,type:N.type,key:Ee,ref:ge,props:ye,_owner:Re}},_e.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:u,_context:N},N.Consumer=N},_e.createElement=ce,_e.createFactory=function(N){var H=ce.bind(null,N);return H.type=N,H},_e.createRef=function(){return{current:null}},_e.forwardRef=function(N){return{$$typeof:d,render:N}},_e.isValidElement=F,_e.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:Te}},_e.memo=function(N,H){return{$$typeof:p,type:N,compare:H===void 0?null:H}},_e.startTransition=function(N){var H=j.transition;j.transition={};try{N()}finally{j.transition=H}},_e.unstable_act=w,_e.useCallback=function(N,H){return xe.current.useCallback(N,H)},_e.useContext=function(N){return xe.current.useContext(N)},_e.useDebugValue=function(){},_e.useDeferredValue=function(N){return xe.current.useDeferredValue(N)},_e.useEffect=function(N,H){return xe.current.useEffect(N,H)},_e.useId=function(){return xe.current.useId()},_e.useImperativeHandle=function(N,H,I){return xe.current.useImperativeHandle(N,H,I)},_e.useInsertionEffect=function(N,H){return xe.current.useInsertionEffect(N,H)},_e.useLayoutEffect=function(N,H){return xe.current.useLayoutEffect(N,H)},_e.useMemo=function(N,H){return xe.current.useMemo(N,H)},_e.useReducer=function(N,H,I){return xe.current.useReducer(N,H,I)},_e.useRef=function(N){return xe.current.useRef(N)},_e.useState=function(N){return xe.current.useState(N)},_e.useSyncExternalStore=function(N,H,I){return xe.current.useSyncExternalStore(N,H,I)},_e.useTransition=function(){return xe.current.useTransition()},_e.version="18.3.1",_e}var Ld;function Ea(){return Ld||(Ld=1,Mu.exports=Uv()),Mu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function Vv(){if(Fd)return zi;Fd=1;var n=Ea(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(d,m,p){var g,y={},C=null,T=null;p!==void 0&&(C=""+p),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(T=m.ref);for(g in m)r.call(m,g)&&!u.hasOwnProperty(g)&&(y[g]=m[g]);if(d&&d.defaultProps)for(g in m=d.defaultProps,m)y[g]===void 0&&(y[g]=m[g]);return{$$typeof:e,type:d,key:C,ref:T,props:y,_owner:o.current}}return zi.Fragment=t,zi.jsx=c,zi.jsxs=c,zi}var Ud;function bv(){return Ud||(Ud=1,Au.exports=Vv()),Au.exports}var D=bv(),gn=Ea();const zv=Ll(gn);var hl={},Pu={exports:{}},En={},Ru={exports:{}},Nu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function Bv(){return Vd||(Vd=1,(function(n){function e(j,de){var w=j.length;j.push(de);e:for(;0<w;){var N=w-1>>>1,H=j[N];if(0<o(H,de))j[N]=de,j[w]=H,w=N;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var de=j[0],w=j.pop();if(w!==de){j[0]=w;e:for(var N=0,H=j.length,I=H>>>1;N<I;){var ye=2*(N+1)-1,Ee=j[ye],ge=ye+1,Re=j[ge];if(0>o(Ee,w))ge<H&&0>o(Re,Ee)?(j[N]=Re,j[ge]=w,N=ge):(j[N]=Ee,j[ye]=w,N=ye);else if(ge<H&&0>o(Re,w))j[N]=Re,j[ge]=w,N=ge;else break e}}return de}function o(j,de){var w=j.sortIndex-de.sortIndex;return w!==0?w:j.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],g=1,y=null,C=3,T=!1,E=!1,_=!1,R=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(j){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=j)r(p),de.sortIndex=de.expirationTime,e(m,de);else break;de=t(p)}}function $(j){if(_=!1,U(j),!E)if(t(m)!==null)E=!0,Te(J);else{var de=t(p);de!==null&&xe($,de.startTime-j)}}function J(j,de){E=!1,_&&(_=!1,A(ce),ce=-1),T=!0;var w=C;try{for(U(de),y=t(m);y!==null&&(!(y.expirationTime>de)||j&&!ne());){var N=y.callback;if(typeof N=="function"){y.callback=null,C=y.priorityLevel;var H=N(y.expirationTime<=de);de=n.unstable_now(),typeof H=="function"?y.callback=H:y===t(m)&&r(m),U(de)}else r(m);y=t(m)}if(y!==null)var I=!0;else{var ye=t(p);ye!==null&&xe($,ye.startTime-de),I=!1}return I}finally{y=null,C=w,T=!1}}var L=!1,K=null,ce=-1,Z=5,F=-1;function ne(){return!(n.unstable_now()-F<Z)}function Q(){if(K!==null){var j=n.unstable_now();F=j;var de=!0;try{de=K(!0,j)}finally{de?te():(L=!1,K=null)}}else L=!1}var te;if(typeof z=="function")te=function(){z(Q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,fe=re.port2;re.port1.onmessage=Q,te=function(){fe.postMessage(null)}}else te=function(){R(Q,0)};function Te(j){K=j,L||(L=!0,te())}function xe(j,de){ce=R(function(){j(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){E||T||(E=!0,Te(J))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(j){switch(C){case 1:case 2:case 3:var de=3;break;default:de=C}var w=C;C=de;try{return j()}finally{C=w}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,de){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var w=C;C=j;try{return de()}finally{C=w}},n.unstable_scheduleCallback=function(j,de,w){var N=n.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?N+w:N):w=N,j){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=w+H,j={id:g++,callback:de,priorityLevel:j,startTime:w,expirationTime:H,sortIndex:-1},w>N?(j.sortIndex=w,e(p,j),t(m)===null&&j===t(p)&&(_?(A(ce),ce=-1):_=!0,xe($,w-N))):(j.sortIndex=H,e(m,j),E||T||(E=!0,Te(J))),j},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(j){var de=C;return function(){var w=C;C=de;try{return j.apply(this,arguments)}finally{C=w}}}})(Nu)),Nu}var bd;function qv(){return bd||(bd=1,Ru.exports=Bv()),Ru.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function Hv(){if(zd)return En;zd=1;var n=Ea(),e=qv();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function u(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(o[i]=l,i=0;i<l.length;i++)r.add(l[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function C(i){return m.call(y,i)?!0:m.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function T(i,l,f,h){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function E(i,l,f,h){if(l===null||typeof l>"u"||T(i,l,f,h))return!0;if(h)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(i,l,f,h,v,x,S){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=x,this.removeEmptyString=S}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];R[l]=new _(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(A,z);R[l]=new _(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(A,z);R[l]=new _(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(A,z);R[l]=new _(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function U(i,l,f,h){var v=R.hasOwnProperty(l)?R[l]:null;(v!==null?v.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,f,v,h)&&(f=null),h||v===null?C(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):v.mustUseProperty?i[v.propertyName]=f===null?v.type===3?!1:"":f:(l=v.attributeName,h=v.attributeNamespace,f===null?i.removeAttribute(l):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,h?i.setAttributeNS(h,l,f):i.setAttribute(l,f))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),L=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),ne=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),j=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var w=Object.assign,N;function H(i){if(N===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);N=l&&l[1]||""}return`
`+N+i}var I=!1;function ye(i,l){if(!i||I)return"";I=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(B){var h=B}Reflect.construct(i,[],l)}else{try{l.call()}catch(B){h=B}i.call(l.prototype)}else{try{throw Error()}catch(B){h=B}i()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var v=B.stack.split(`
`),x=h.stack.split(`
`),S=v.length-1,k=x.length-1;1<=S&&0<=k&&v[S]!==x[k];)k--;for(;1<=S&&0<=k;S--,k--)if(v[S]!==x[k]){if(S!==1||k!==1)do if(S--,k--,0>k||v[S]!==x[k]){var M=`
`+v[S].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=S&&0<=k);break}}}finally{I=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?H(i):""}function Ee(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case L:return"Portal";case Z:return"Profiler";case ce:return"StrictMode";case te:return"Suspense";case re:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ne:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case Q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case fe:return l=i.displayName||null,l!==null?l:ge(i.type)||"Memo";case Te:l=i._payload,i=i._init;try{return ge(i(l))}catch{}}return null}function Re(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(l);case 8:return l===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function we(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Le(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ke(i){var l=Le(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,x=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(S){h=""+S,x.call(this,S)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function lt(i){i._valueTracker||(i._valueTracker=Ke(i))}function to(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),h="";return i&&(h=Le(i)?i.checked?"true":"false":i.value),i=h,i!==f?(l.setValue(i),!0):!1}function ar(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function jr(i,l){var f=l.checked;return w({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function ei(i,l){var f=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;f=we(l.value!=null?l.value:f),i._wrapperState={initialChecked:h,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ni(i,l){l=l.checked,l!=null&&U(i,"checked",l,!1)}function cr(i,l){ni(i,l);var f=we(l.value),h=l.type;if(f!=null)h==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?fr(i,l.type,f):l.hasOwnProperty("defaultValue")&&fr(i,l.type,we(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function ro(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function fr(i,l,f){(l!=="number"||ar(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var vt=Array.isArray;function Ct(i,l,f,h){if(i=i.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<i.length;f++)v=l.hasOwnProperty("$"+i[f].value),i[f].selected!==v&&(i[f].selected=v),v&&h&&(i[f].defaultSelected=!0)}else{for(f=""+we(f),l=null,v=0;v<i.length;v++){if(i[v].value===f){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function ti(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return w({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function io(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(t(92));if(vt(f)){if(1<f.length)throw Error(t(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:we(f)}}function oo(i,l){var f=we(l.value),h=we(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),h!=null&&(i.defaultValue=""+h)}function lo(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function q(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ee(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?q(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ve,ke=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,h,v){MSApp.execUnsafeLocalFunction(function(){return i(l,f,h,v)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ve.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Me(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(tn).forEach(function(i){st.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),tn[l]=tn[i]})});function Dn(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||tn.hasOwnProperty(i)&&tn[i]?(""+l).trim():l+"px"}function xt(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var h=f.indexOf("--")===0,v=Dn(f,l[f],h);f==="float"&&(f="cssFloat"),h?i.setProperty(f,v):i[f]=v}}var $t=w({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(i,l){if(l){if($t[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Xn(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _n=null;function $l(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gl=null,dr=null,pr=null;function Ya(i){if(i=wi(i)){if(typeof Gl!="function")throw Error(t(280));var l=i.stateNode;l&&(l=Po(l),Gl(i.stateNode,i.type,l))}}function Qa(i){dr?pr?pr.push(i):pr=[i]:dr=i}function Xa(){if(dr){var i=dr,l=pr;if(pr=dr=null,Ya(i),l)for(i=0;i<l.length;i++)Ya(l[i])}}function Za(i,l){return i(l)}function ja(){}var Ol=!1;function ec(i,l,f){if(Ol)return i(l,f);Ol=!0;try{return Za(i,l,f)}finally{Ol=!1,(dr!==null||pr!==null)&&(ja(),Xa())}}function ri(i,l){var f=i.stateNode;if(f===null)return null;var h=Po(f);if(h===null)return null;f=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(t(231,l,typeof f));return f}var Jl=!1;if(d)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{Jl=!1}function Hg(i,l,f,h,v,x,S,k,M){var B=Array.prototype.slice.call(arguments,3);try{l.apply(f,B)}catch(O){this.onError(O)}}var oi=!1,so=null,uo=!1,Wl=null,$g={onError:function(i){oi=!0,so=i}};function Gg(i,l,f,h,v,x,S,k,M){oi=!1,so=null,Hg.apply($g,arguments)}function Og(i,l,f,h,v,x,S,k,M){if(Gg.apply(this,arguments),oi){if(oi){var B=so;oi=!1,so=null}else throw Error(t(198));uo||(uo=!0,Wl=B)}}function Gt(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function nc(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function tc(i){if(Gt(i)!==i)throw Error(t(188))}function Jg(i){var l=i.alternate;if(!l){if(l=Gt(i),l===null)throw Error(t(188));return l!==i?null:i}for(var f=i,h=l;;){var v=f.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){f=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===f)return tc(v),i;if(x===h)return tc(v),l;x=x.sibling}throw Error(t(188))}if(f.return!==h.return)f=v,h=x;else{for(var S=!1,k=v.child;k;){if(k===f){S=!0,f=v,h=x;break}if(k===h){S=!0,h=v,f=x;break}k=k.sibling}if(!S){for(k=x.child;k;){if(k===f){S=!0,f=x,h=v;break}if(k===h){S=!0,h=x,f=v;break}k=k.sibling}if(!S)throw Error(t(189))}}if(f.alternate!==h)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?i:l}function rc(i){return i=Jg(i),i!==null?ic(i):null}function ic(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=ic(i);if(l!==null)return l;i=i.sibling}return null}var oc=e.unstable_scheduleCallback,lc=e.unstable_cancelCallback,Wg=e.unstable_shouldYield,Kg=e.unstable_requestPaint,Je=e.unstable_now,Yg=e.unstable_getCurrentPriorityLevel,Kl=e.unstable_ImmediatePriority,sc=e.unstable_UserBlockingPriority,ao=e.unstable_NormalPriority,Qg=e.unstable_LowPriority,uc=e.unstable_IdlePriority,co=null,Zn=null;function Xg(i){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(co,i,void 0,(i.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:ey,Zg=Math.log,jg=Math.LN2;function ey(i){return i>>>=0,i===0?32:31-(Zg(i)/jg|0)|0}var fo=64,po=4194304;function li(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function mo(i,l){var f=i.pendingLanes;if(f===0)return 0;var h=0,v=i.suspendedLanes,x=i.pingedLanes,S=f&268435455;if(S!==0){var k=S&~v;k!==0?h=li(k):(x&=S,x!==0&&(h=li(x)))}else S=f&~v,S!==0?h=li(S):x!==0&&(h=li(x));if(h===0)return 0;if(l!==0&&l!==h&&(l&v)===0&&(v=h&-h,x=l&-l,v>=x||v===16&&(x&4194240)!==0))return l;if((h&4)!==0&&(h|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=h;0<l;)f=31-Hn(l),v=1<<f,h|=i[f],l&=~v;return h}function ny(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ty(i,l){for(var f=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes;0<x;){var S=31-Hn(x),k=1<<S,M=v[S];M===-1?((k&f)===0||(k&h)!==0)&&(v[S]=ny(k,l)):M<=l&&(i.expiredLanes|=k),x&=~k}}function Yl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ac(){var i=fo;return fo<<=1,(fo&4194240)===0&&(fo=64),i}function Ql(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function si(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Hn(l),i[l]=f}function ry(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<f;){var v=31-Hn(f),x=1<<v;l[v]=0,h[v]=-1,i[v]=-1,f&=~x}}function Xl(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var h=31-Hn(f),v=1<<h;v&l|i[h]&l&&(i[h]|=l),f&=~v}}var Fe=0;function cc(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var fc,Zl,dc,pc,mc,jl=!1,ho=[],Tt=null,St=null,Et=null,ui=new Map,ai=new Map,wt=[],iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(i,l){switch(i){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":ui.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(l.pointerId)}}function ci(i,l,f,h,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:l,domEventName:f,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},l!==null&&(l=wi(l),l!==null&&Zl(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function oy(i,l,f,h,v){switch(l){case"focusin":return Tt=ci(Tt,i,l,f,h,v),!0;case"dragenter":return St=ci(St,i,l,f,h,v),!0;case"mouseover":return Et=ci(Et,i,l,f,h,v),!0;case"pointerover":var x=v.pointerId;return ui.set(x,ci(ui.get(x)||null,i,l,f,h,v)),!0;case"gotpointercapture":return x=v.pointerId,ai.set(x,ci(ai.get(x)||null,i,l,f,h,v)),!0}return!1}function gc(i){var l=Ot(i.target);if(l!==null){var f=Gt(l);if(f!==null){if(l=f.tag,l===13){if(l=nc(f),l!==null){i.blockedOn=l,mc(i.priority,function(){dc(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function go(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=ns(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var h=new f.constructor(f.type,f);_n=h,f.target.dispatchEvent(h),_n=null}else return l=wi(f),l!==null&&Zl(l),i.blockedOn=f,!1;l.shift()}return!0}function yc(i,l,f){go(i)&&f.delete(l)}function ly(){jl=!1,Tt!==null&&go(Tt)&&(Tt=null),St!==null&&go(St)&&(St=null),Et!==null&&go(Et)&&(Et=null),ui.forEach(yc),ai.forEach(yc)}function fi(i,l){i.blockedOn===l&&(i.blockedOn=null,jl||(jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ly)))}function di(i){function l(v){return fi(v,i)}if(0<ho.length){fi(ho[0],i);for(var f=1;f<ho.length;f++){var h=ho[f];h.blockedOn===i&&(h.blockedOn=null)}}for(Tt!==null&&fi(Tt,i),St!==null&&fi(St,i),Et!==null&&fi(Et,i),ui.forEach(l),ai.forEach(l),f=0;f<wt.length;f++)h=wt[f],h.blockedOn===i&&(h.blockedOn=null);for(;0<wt.length&&(f=wt[0],f.blockedOn===null);)gc(f),f.blockedOn===null&&wt.shift()}var mr=$.ReactCurrentBatchConfig,yo=!0;function sy(i,l,f,h){var v=Fe,x=mr.transition;mr.transition=null;try{Fe=1,es(i,l,f,h)}finally{Fe=v,mr.transition=x}}function uy(i,l,f,h){var v=Fe,x=mr.transition;mr.transition=null;try{Fe=4,es(i,l,f,h)}finally{Fe=v,mr.transition=x}}function es(i,l,f,h){if(yo){var v=ns(i,l,f,h);if(v===null)vs(i,l,h,vo,f),hc(i,h);else if(oy(v,i,l,f,h))h.stopPropagation();else if(hc(i,h),l&4&&-1<iy.indexOf(i)){for(;v!==null;){var x=wi(v);if(x!==null&&fc(x),x=ns(i,l,f,h),x===null&&vs(i,l,h,vo,f),x===v)break;v=x}v!==null&&h.stopPropagation()}else vs(i,l,h,null,f)}}var vo=null;function ns(i,l,f,h){if(vo=null,i=$l(h),i=Ot(i),i!==null)if(l=Gt(i),l===null)i=null;else if(f=l.tag,f===13){if(i=nc(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return vo=i,null}function vc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yg()){case Kl:return 1;case sc:return 4;case ao:case Qg:return 16;case uc:return 536870912;default:return 16}default:return 16}}var kt=null,ts=null,Co=null;function Cc(){if(Co)return Co;var i,l=ts,f=l.length,h,v="value"in kt?kt.value:kt.textContent,x=v.length;for(i=0;i<f&&l[i]===v[i];i++);var S=f-i;for(h=1;h<=S&&l[f-h]===v[x-h];h++);return Co=v.slice(i,1<h?1-h:void 0)}function xo(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function To(){return!0}function xc(){return!1}function In(i){function l(f,h,v,x,S){this._reactName=f,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(f=i[k],this[k]=f?f(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?To:xc,this.isPropagationStopped=xc,this}return w(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),l}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=In(hr),pi=w({},hr,{view:0,detail:0}),ay=In(pi),is,os,mi,So=w({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mi&&(mi&&i.type==="mousemove"?(is=i.screenX-mi.screenX,os=i.screenY-mi.screenY):os=is=0,mi=i),is)},movementY:function(i){return"movementY"in i?i.movementY:os}}),Tc=In(So),cy=w({},So,{dataTransfer:0}),fy=In(cy),dy=w({},pi,{relatedTarget:0}),ls=In(dy),py=w({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),my=In(py),hy=w({},hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gy=In(hy),yy=w({},hr,{data:0}),Sc=In(yy),vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=xy[i])?!!l[i]:!1}function ss(){return Ty}var Sy=w({},pi,{key:function(i){if(i.key){var l=vy[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(i){return i.type==="keypress"?xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ey=In(Sy),wy=w({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=In(wy),ky=w({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),_y=In(ky),Iy=w({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ay=In(Iy),My=w({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Py=In(My),Ry=[9,13,27,32],us=d&&"CompositionEvent"in window,hi=null;d&&"documentMode"in document&&(hi=document.documentMode);var Ny=d&&"TextEvent"in window&&!hi,wc=d&&(!us||hi&&8<hi&&11>=hi),kc=" ",_c=!1;function Ic(i,l){switch(i){case"keyup":return Ry.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gr=!1;function Dy(i,l){switch(i){case"compositionend":return Ac(l);case"keypress":return l.which!==32?null:(_c=!0,kc);case"textInput":return i=l.data,i===kc&&_c?null:i;default:return null}}function Ly(i,l){if(gr)return i==="compositionend"||!us&&Ic(i,l)?(i=Cc(),Co=ts=kt=null,gr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wc&&l.locale!=="ko"?null:l.data;default:return null}}var Fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Fy[i.type]:l==="textarea"}function Pc(i,l,f,h){Qa(h),l=Io(l,"onChange"),0<l.length&&(f=new rs("onChange","change",null,f,h),i.push({event:f,listeners:l}))}var gi=null,yi=null;function Uy(i){Kc(i,0)}function Eo(i){var l=Tr(i);if(to(l))return i}function Vy(i,l){if(i==="change")return l}var Rc=!1;if(d){var as;if(d){var cs="oninput"in document;if(!cs){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),cs=typeof Nc.oninput=="function"}as=cs}else as=!1;Rc=as&&(!document.documentMode||9<document.documentMode)}function Dc(){gi&&(gi.detachEvent("onpropertychange",Lc),yi=gi=null)}function Lc(i){if(i.propertyName==="value"&&Eo(yi)){var l=[];Pc(l,yi,i,$l(i)),ec(Uy,l)}}function by(i,l,f){i==="focusin"?(Dc(),gi=l,yi=f,gi.attachEvent("onpropertychange",Lc)):i==="focusout"&&Dc()}function zy(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Eo(yi)}function By(i,l){if(i==="click")return Eo(l)}function qy(i,l){if(i==="input"||i==="change")return Eo(l)}function Hy(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var $n=typeof Object.is=="function"?Object.is:Hy;function vi(i,l){if($n(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),h=Object.keys(l);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var v=f[h];if(!m.call(l,v)||!$n(i[v],l[v]))return!1}return!0}function Fc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uc(i,l){var f=Fc(i);i=0;for(var h;f;){if(f.nodeType===3){if(h=i+f.textContent.length,i<=l&&h>=l)return{node:f,offset:l-i};i=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Fc(f)}}function Vc(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Vc(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function bc(){for(var i=window,l=ar();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=ar(i.document)}return l}function fs(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function $y(i){var l=bc(),f=i.focusedElem,h=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&Vc(f.ownerDocument.documentElement,f)){if(h!==null&&fs(f)){if(l=h.start,i=h.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var v=f.textContent.length,x=Math.min(h.start,v);h=h.end===void 0?x:Math.min(h.end,v),!i.extend&&x>h&&(v=h,h=x,x=v),v=Uc(f,x);var S=Uc(f,h);v&&S&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),i.removeAllRanges(),x>h?(i.addRange(l),i.extend(S.node,S.offset)):(l.setEnd(S.node,S.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Gy=d&&"documentMode"in document&&11>=document.documentMode,yr=null,ds=null,Ci=null,ps=!1;function zc(i,l,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ps||yr==null||yr!==ar(h)||(h=yr,"selectionStart"in h&&fs(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ci&&vi(Ci,h)||(Ci=h,h=Io(ds,"onSelect"),0<h.length&&(l=new rs("onSelect","select",null,l,f),i.push({event:l,listeners:h}),l.target=yr)))}function wo(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var vr={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionend:wo("Transition","TransitionEnd")},ms={},Bc={};d&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function ko(i){if(ms[i])return ms[i];if(!vr[i])return i;var l=vr[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in Bc)return ms[i]=l[f];return i}var qc=ko("animationend"),Hc=ko("animationiteration"),$c=ko("animationstart"),Gc=ko("transitionend"),Oc=new Map,Jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _t(i,l){Oc.set(i,l),u(l,[i])}for(var hs=0;hs<Jc.length;hs++){var gs=Jc[hs],Oy=gs.toLowerCase(),Jy=gs[0].toUpperCase()+gs.slice(1);_t(Oy,"on"+Jy)}_t(qc,"onAnimationEnd"),_t(Hc,"onAnimationIteration"),_t($c,"onAnimationStart"),_t("dblclick","onDoubleClick"),_t("focusin","onFocus"),_t("focusout","onBlur"),_t(Gc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wy=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Wc(i,l,f){var h=i.type||"unknown-event";i.currentTarget=f,Og(h,l,void 0,i),i.currentTarget=null}function Kc(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var h=i[f],v=h.event;h=h.listeners;e:{var x=void 0;if(l)for(var S=h.length-1;0<=S;S--){var k=h[S],M=k.instance,B=k.currentTarget;if(k=k.listener,M!==x&&v.isPropagationStopped())break e;Wc(v,k,B),x=M}else for(S=0;S<h.length;S++){if(k=h[S],M=k.instance,B=k.currentTarget,k=k.listener,M!==x&&v.isPropagationStopped())break e;Wc(v,k,B),x=M}}}if(uo)throw i=Wl,uo=!1,Wl=null,i}function ze(i,l){var f=l[ws];f===void 0&&(f=l[ws]=new Set);var h=i+"__bubble";f.has(h)||(Yc(l,i,2,!1),f.add(h))}function ys(i,l,f){var h=0;l&&(h|=4),Yc(f,i,h,l)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Ti(i){if(!i[_o]){i[_o]=!0,r.forEach(function(f){f!=="selectionchange"&&(Wy.has(f)||ys(f,!1,i),ys(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[_o]||(l[_o]=!0,ys("selectionchange",!1,l))}}function Yc(i,l,f,h){switch(vc(l)){case 1:var v=sy;break;case 4:v=uy;break;default:v=es}f=v.bind(null,l,f,i),v=void 0,!Jl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(l,f,{capture:!0,passive:v}):i.addEventListener(l,f,!0):v!==void 0?i.addEventListener(l,f,{passive:v}):i.addEventListener(l,f,!1)}function vs(i,l,f,h,v){var x=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var k=h.stateNode.containerInfo;if(k===v||k.nodeType===8&&k.parentNode===v)break;if(S===4)for(S=h.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===v||M.nodeType===8&&M.parentNode===v))return;S=S.return}for(;k!==null;){if(S=Ot(k),S===null)return;if(M=S.tag,M===5||M===6){h=x=S;continue e}k=k.parentNode}}h=h.return}ec(function(){var B=x,O=$l(f),W=[];e:{var G=Oc.get(i);if(G!==void 0){var ie=rs,se=i;switch(i){case"keypress":if(xo(f)===0)break e;case"keydown":case"keyup":ie=Ey;break;case"focusin":se="focus",ie=ls;break;case"focusout":se="blur",ie=ls;break;case"beforeblur":case"afterblur":ie=ls;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_y;break;case qc:case Hc:case $c:ie=my;break;case Gc:ie=Ay;break;case"scroll":ie=ay;break;case"wheel":ie=Py;break;case"copy":case"cut":case"paste":ie=gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Ec}var ue=(l&4)!==0,We=!ue&&i==="scroll",V=ue?G!==null?G+"Capture":null:G;ue=[];for(var P=B,b;P!==null;){b=P;var X=b.stateNode;if(b.tag===5&&X!==null&&(b=X,V!==null&&(X=ri(P,V),X!=null&&ue.push(Si(P,X,b)))),We)break;P=P.return}0<ue.length&&(G=new ie(G,se,null,f,O),W.push({event:G,listeners:ue}))}}if((l&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",G&&f!==_n&&(se=f.relatedTarget||f.fromElement)&&(Ot(se)||se[ut]))break e;if((ie||G)&&(G=O.window===O?O:(G=O.ownerDocument)?G.defaultView||G.parentWindow:window,ie?(se=f.relatedTarget||f.toElement,ie=B,se=se?Ot(se):null,se!==null&&(We=Gt(se),se!==We||se.tag!==5&&se.tag!==6)&&(se=null)):(ie=null,se=B),ie!==se)){if(ue=Tc,X="onMouseLeave",V="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(ue=Ec,X="onPointerLeave",V="onPointerEnter",P="pointer"),We=ie==null?G:Tr(ie),b=se==null?G:Tr(se),G=new ue(X,P+"leave",ie,f,O),G.target=We,G.relatedTarget=b,X=null,Ot(O)===B&&(ue=new ue(V,P+"enter",se,f,O),ue.target=b,ue.relatedTarget=We,X=ue),We=X,ie&&se)n:{for(ue=ie,V=se,P=0,b=ue;b;b=Cr(b))P++;for(b=0,X=V;X;X=Cr(X))b++;for(;0<P-b;)ue=Cr(ue),P--;for(;0<b-P;)V=Cr(V),b--;for(;P--;){if(ue===V||V!==null&&ue===V.alternate)break n;ue=Cr(ue),V=Cr(V)}ue=null}else ue=null;ie!==null&&Qc(W,G,ie,ue,!1),se!==null&&We!==null&&Qc(W,We,se,ue,!0)}}e:{if(G=B?Tr(B):window,ie=G.nodeName&&G.nodeName.toLowerCase(),ie==="select"||ie==="input"&&G.type==="file")var ae=Vy;else if(Mc(G))if(Rc)ae=qy;else{ae=zy;var pe=by}else(ie=G.nodeName)&&ie.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ae=By);if(ae&&(ae=ae(i,B))){Pc(W,ae,f,O);break e}pe&&pe(i,G,B),i==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&fr(G,"number",G.value)}switch(pe=B?Tr(B):window,i){case"focusin":(Mc(pe)||pe.contentEditable==="true")&&(yr=pe,ds=B,Ci=null);break;case"focusout":Ci=ds=yr=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,zc(W,f,O);break;case"selectionchange":if(Gy)break;case"keydown":case"keyup":zc(W,f,O)}var me;if(us)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else gr?Ic(i,f)&&(Ce="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ce="onCompositionStart");Ce&&(wc&&f.locale!=="ko"&&(gr||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&gr&&(me=Cc()):(kt=O,ts="value"in kt?kt.value:kt.textContent,gr=!0)),pe=Io(B,Ce),0<pe.length&&(Ce=new Sc(Ce,i,null,f,O),W.push({event:Ce,listeners:pe}),me?Ce.data=me:(me=Ac(f),me!==null&&(Ce.data=me)))),(me=Ny?Dy(i,f):Ly(i,f))&&(B=Io(B,"onBeforeInput"),0<B.length&&(O=new Sc("onBeforeInput","beforeinput",null,f,O),W.push({event:O,listeners:B}),O.data=me))}Kc(W,l)})}function Si(i,l,f){return{instance:i,listener:l,currentTarget:f}}function Io(i,l){for(var f=l+"Capture",h=[];i!==null;){var v=i,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=ri(i,f),x!=null&&h.unshift(Si(i,x,v)),x=ri(i,l),x!=null&&h.push(Si(i,x,v))),i=i.return}return h}function Cr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Qc(i,l,f,h,v){for(var x=l._reactName,S=[];f!==null&&f!==h;){var k=f,M=k.alternate,B=k.stateNode;if(M!==null&&M===h)break;k.tag===5&&B!==null&&(k=B,v?(M=ri(f,x),M!=null&&S.unshift(Si(f,M,k))):v||(M=ri(f,x),M!=null&&S.push(Si(f,M,k)))),f=f.return}S.length!==0&&i.push({event:l,listeners:S})}var Ky=/\r\n?/g,Yy=/\u0000|\uFFFD/g;function Xc(i){return(typeof i=="string"?i:""+i).replace(Ky,`
`).replace(Yy,"")}function Ao(i,l,f){if(l=Xc(l),Xc(i)!==l&&f)throw Error(t(425))}function Mo(){}var Cs=null,xs=null;function Ts(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,Qy=typeof clearTimeout=="function"?clearTimeout:void 0,Zc=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Zc<"u"?function(i){return Zc.resolve(null).then(i).catch(Zy)}:Ss;function Zy(i){setTimeout(function(){throw i})}function Es(i,l){var f=l,h=0;do{var v=f.nextSibling;if(i.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(h===0){i.removeChild(v),di(l);return}h--}else f!=="$"&&f!=="$?"&&f!=="$!"||h++;f=v}while(f);di(l)}function It(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function jc(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var xr=Math.random().toString(36).slice(2),jn="__reactFiber$"+xr,Ei="__reactProps$"+xr,ut="__reactContainer$"+xr,ws="__reactEvents$"+xr,jy="__reactListeners$"+xr,ev="__reactHandles$"+xr;function Ot(i){var l=i[jn];if(l)return l;for(var f=i.parentNode;f;){if(l=f[ut]||f[jn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=jc(i);i!==null;){if(f=i[jn])return f;i=jc(i)}return l}i=f,f=i.parentNode}return null}function wi(i){return i=i[jn]||i[ut],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Tr(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Po(i){return i[Ei]||null}var ks=[],Sr=-1;function At(i){return{current:i}}function Be(i){0>Sr||(i.current=ks[Sr],ks[Sr]=null,Sr--)}function Ve(i,l){Sr++,ks[Sr]=i.current,i.current=l}var Mt={},sn=At(Mt),vn=At(!1),Jt=Mt;function Er(i,l){var f=i.type.contextTypes;if(!f)return Mt;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in f)v[x]=l[x];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=v),v}function Cn(i){return i=i.childContextTypes,i!=null}function Ro(){Be(vn),Be(sn)}function ef(i,l,f){if(sn.current!==Mt)throw Error(t(168));Ve(sn,l),Ve(vn,f)}function nf(i,l,f){var h=i.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return f;h=h.getChildContext();for(var v in h)if(!(v in l))throw Error(t(108,Re(i)||"Unknown",v));return w({},f,h)}function No(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Mt,Jt=sn.current,Ve(sn,i),Ve(vn,vn.current),!0}function tf(i,l,f){var h=i.stateNode;if(!h)throw Error(t(169));f?(i=nf(i,l,Jt),h.__reactInternalMemoizedMergedChildContext=i,Be(vn),Be(sn),Ve(sn,i)):Be(vn),Ve(vn,f)}var at=null,Do=!1,_s=!1;function rf(i){at===null?at=[i]:at.push(i)}function nv(i){Do=!0,rf(i)}function Pt(){if(!_s&&at!==null){_s=!0;var i=0,l=Fe;try{var f=at;for(Fe=1;i<f.length;i++){var h=f[i];do h=h(!0);while(h!==null)}at=null,Do=!1}catch(v){throw at!==null&&(at=at.slice(i+1)),oc(Kl,Pt),v}finally{Fe=l,_s=!1}}return null}var wr=[],kr=0,Lo=null,Fo=0,Ln=[],Fn=0,Wt=null,ct=1,ft="";function Kt(i,l){wr[kr++]=Fo,wr[kr++]=Lo,Lo=i,Fo=l}function of(i,l,f){Ln[Fn++]=ct,Ln[Fn++]=ft,Ln[Fn++]=Wt,Wt=i;var h=ct;i=ft;var v=32-Hn(h)-1;h&=~(1<<v),f+=1;var x=32-Hn(l)+v;if(30<x){var S=v-v%5;x=(h&(1<<S)-1).toString(32),h>>=S,v-=S,ct=1<<32-Hn(l)+v|f<<v|h,ft=x+i}else ct=1<<x|f<<v|h,ft=i}function Is(i){i.return!==null&&(Kt(i,1),of(i,1,0))}function As(i){for(;i===Lo;)Lo=wr[--kr],wr[kr]=null,Fo=wr[--kr],wr[kr]=null;for(;i===Wt;)Wt=Ln[--Fn],Ln[Fn]=null,ft=Ln[--Fn],Ln[Fn]=null,ct=Ln[--Fn],Ln[Fn]=null}var An=null,Mn=null,He=!1,Gn=null;function lf(i,l){var f=zn(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function sf(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,An=i,Mn=It(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,An=i,Mn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Wt!==null?{id:ct,overflow:ft}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=zn(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,An=i,Mn=null,!0):!1;default:return!1}}function Ms(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ps(i){if(He){var l=Mn;if(l){var f=l;if(!sf(i,l)){if(Ms(i))throw Error(t(418));l=It(f.nextSibling);var h=An;l&&sf(i,l)?lf(h,f):(i.flags=i.flags&-4097|2,He=!1,An=i)}}else{if(Ms(i))throw Error(t(418));i.flags=i.flags&-4097|2,He=!1,An=i}}}function uf(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;An=i}function Uo(i){if(i!==An)return!1;if(!He)return uf(i),He=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Ts(i.type,i.memoizedProps)),l&&(l=Mn)){if(Ms(i))throw af(),Error(t(418));for(;l;)lf(i,l),l=It(l.nextSibling)}if(uf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){Mn=It(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}Mn=null}}else Mn=An?It(i.stateNode.nextSibling):null;return!0}function af(){for(var i=Mn;i;)i=It(i.nextSibling)}function _r(){Mn=An=null,He=!1}function Rs(i){Gn===null?Gn=[i]:Gn.push(i)}var tv=$.ReactCurrentBatchConfig;function ki(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var h=f.stateNode}if(!h)throw Error(t(147,i));var v=h,x=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(S){var k=v.refs;S===null?delete k[x]:k[x]=S},l._stringRef=x,l)}if(typeof i!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,i))}return i}function Vo(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function cf(i){var l=i._init;return l(i._payload)}function ff(i){function l(V,P){if(i){var b=V.deletions;b===null?(V.deletions=[P],V.flags|=16):b.push(P)}}function f(V,P){if(!i)return null;for(;P!==null;)l(V,P),P=P.sibling;return null}function h(V,P){for(V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function v(V,P){return V=bt(V,P),V.index=0,V.sibling=null,V}function x(V,P,b){return V.index=b,i?(b=V.alternate,b!==null?(b=b.index,b<P?(V.flags|=2,P):b):(V.flags|=2,P)):(V.flags|=1048576,P)}function S(V){return i&&V.alternate===null&&(V.flags|=2),V}function k(V,P,b,X){return P===null||P.tag!==6?(P=Su(b,V.mode,X),P.return=V,P):(P=v(P,b),P.return=V,P)}function M(V,P,b,X){var ae=b.type;return ae===K?O(V,P,b.props.children,X,b.key):P!==null&&(P.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Te&&cf(ae)===P.type)?(X=v(P,b.props),X.ref=ki(V,P,b),X.return=V,X):(X=sl(b.type,b.key,b.props,null,V.mode,X),X.ref=ki(V,P,b),X.return=V,X)}function B(V,P,b,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==b.containerInfo||P.stateNode.implementation!==b.implementation?(P=Eu(b,V.mode,X),P.return=V,P):(P=v(P,b.children||[]),P.return=V,P)}function O(V,P,b,X,ae){return P===null||P.tag!==7?(P=tr(b,V.mode,X,ae),P.return=V,P):(P=v(P,b),P.return=V,P)}function W(V,P,b){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Su(""+P,V.mode,b),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case J:return b=sl(P.type,P.key,P.props,null,V.mode,b),b.ref=ki(V,null,P),b.return=V,b;case L:return P=Eu(P,V.mode,b),P.return=V,P;case Te:var X=P._init;return W(V,X(P._payload),b)}if(vt(P)||de(P))return P=tr(P,V.mode,b,null),P.return=V,P;Vo(V,P)}return null}function G(V,P,b,X){var ae=P!==null?P.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ae!==null?null:k(V,P,""+b,X);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case J:return b.key===ae?M(V,P,b,X):null;case L:return b.key===ae?B(V,P,b,X):null;case Te:return ae=b._init,G(V,P,ae(b._payload),X)}if(vt(b)||de(b))return ae!==null?null:O(V,P,b,X,null);Vo(V,b)}return null}function ie(V,P,b,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number")return V=V.get(b)||null,k(P,V,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case J:return V=V.get(X.key===null?b:X.key)||null,M(P,V,X,ae);case L:return V=V.get(X.key===null?b:X.key)||null,B(P,V,X,ae);case Te:var pe=X._init;return ie(V,P,b,pe(X._payload),ae)}if(vt(X)||de(X))return V=V.get(b)||null,O(P,V,X,ae,null);Vo(P,X)}return null}function se(V,P,b,X){for(var ae=null,pe=null,me=P,Ce=P=0,nn=null;me!==null&&Ce<b.length;Ce++){me.index>Ce?(nn=me,me=null):nn=me.sibling;var Ne=G(V,me,b[Ce],X);if(Ne===null){me===null&&(me=nn);break}i&&me&&Ne.alternate===null&&l(V,me),P=x(Ne,P,Ce),pe===null?ae=Ne:pe.sibling=Ne,pe=Ne,me=nn}if(Ce===b.length)return f(V,me),He&&Kt(V,Ce),ae;if(me===null){for(;Ce<b.length;Ce++)me=W(V,b[Ce],X),me!==null&&(P=x(me,P,Ce),pe===null?ae=me:pe.sibling=me,pe=me);return He&&Kt(V,Ce),ae}for(me=h(V,me);Ce<b.length;Ce++)nn=ie(me,V,Ce,b[Ce],X),nn!==null&&(i&&nn.alternate!==null&&me.delete(nn.key===null?Ce:nn.key),P=x(nn,P,Ce),pe===null?ae=nn:pe.sibling=nn,pe=nn);return i&&me.forEach(function(zt){return l(V,zt)}),He&&Kt(V,Ce),ae}function ue(V,P,b,X){var ae=de(b);if(typeof ae!="function")throw Error(t(150));if(b=ae.call(b),b==null)throw Error(t(151));for(var pe=ae=null,me=P,Ce=P=0,nn=null,Ne=b.next();me!==null&&!Ne.done;Ce++,Ne=b.next()){me.index>Ce?(nn=me,me=null):nn=me.sibling;var zt=G(V,me,Ne.value,X);if(zt===null){me===null&&(me=nn);break}i&&me&&zt.alternate===null&&l(V,me),P=x(zt,P,Ce),pe===null?ae=zt:pe.sibling=zt,pe=zt,me=nn}if(Ne.done)return f(V,me),He&&Kt(V,Ce),ae;if(me===null){for(;!Ne.done;Ce++,Ne=b.next())Ne=W(V,Ne.value,X),Ne!==null&&(P=x(Ne,P,Ce),pe===null?ae=Ne:pe.sibling=Ne,pe=Ne);return He&&Kt(V,Ce),ae}for(me=h(V,me);!Ne.done;Ce++,Ne=b.next())Ne=ie(me,V,Ce,Ne.value,X),Ne!==null&&(i&&Ne.alternate!==null&&me.delete(Ne.key===null?Ce:Ne.key),P=x(Ne,P,Ce),pe===null?ae=Ne:pe.sibling=Ne,pe=Ne);return i&&me.forEach(function(Fv){return l(V,Fv)}),He&&Kt(V,Ce),ae}function We(V,P,b,X){if(typeof b=="object"&&b!==null&&b.type===K&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case J:e:{for(var ae=b.key,pe=P;pe!==null;){if(pe.key===ae){if(ae=b.type,ae===K){if(pe.tag===7){f(V,pe.sibling),P=v(pe,b.props.children),P.return=V,V=P;break e}}else if(pe.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Te&&cf(ae)===pe.type){f(V,pe.sibling),P=v(pe,b.props),P.ref=ki(V,pe,b),P.return=V,V=P;break e}f(V,pe);break}else l(V,pe);pe=pe.sibling}b.type===K?(P=tr(b.props.children,V.mode,X,b.key),P.return=V,V=P):(X=sl(b.type,b.key,b.props,null,V.mode,X),X.ref=ki(V,P,b),X.return=V,V=X)}return S(V);case L:e:{for(pe=b.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===b.containerInfo&&P.stateNode.implementation===b.implementation){f(V,P.sibling),P=v(P,b.children||[]),P.return=V,V=P;break e}else{f(V,P);break}else l(V,P);P=P.sibling}P=Eu(b,V.mode,X),P.return=V,V=P}return S(V);case Te:return pe=b._init,We(V,P,pe(b._payload),X)}if(vt(b))return se(V,P,b,X);if(de(b))return ue(V,P,b,X);Vo(V,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,P!==null&&P.tag===6?(f(V,P.sibling),P=v(P,b),P.return=V,V=P):(f(V,P),P=Su(b,V.mode,X),P.return=V,V=P),S(V)):f(V,P)}return We}var Ir=ff(!0),df=ff(!1),bo=At(null),zo=null,Ar=null,Ns=null;function Ds(){Ns=Ar=zo=null}function Ls(i){var l=bo.current;Be(bo),i._currentValue=l}function Fs(i,l,f){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===f)break;i=i.return}}function Mr(i,l){zo=i,Ns=Ar=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(xn=!0),i.firstContext=null)}function Un(i){var l=i._currentValue;if(Ns!==i)if(i={context:i,memoizedValue:l,next:null},Ar===null){if(zo===null)throw Error(t(308));Ar=i,zo.dependencies={lanes:0,firstContext:i}}else Ar=Ar.next=i;return l}var Yt=null;function Us(i){Yt===null?Yt=[i]:Yt.push(i)}function pf(i,l,f,h){var v=l.interleaved;return v===null?(f.next=f,Us(l)):(f.next=v.next,v.next=f),l.interleaved=f,dt(i,h)}function dt(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var Rt=!1;function Vs(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function pt(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Nt(i,l,f){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Pe&2)!==0){var v=h.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),h.pending=l,dt(i,f)}return v=h.interleaved,v===null?(l.next=l,Us(h)):(l.next=v.next,v.next=l),h.interleaved=l,dt(i,f)}function Bo(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var h=l.lanes;h&=i.pendingLanes,f|=h,l.lanes=f,Xl(i,f)}}function hf(i,l){var f=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var v=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var S={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};x===null?v=x=S:x=x.next=S,f=f.next}while(f!==null);x===null?v=x=l:x=x.next=l}else v=x=l;f={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,effects:h.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function qo(i,l,f,h){var v=i.updateQueue;Rt=!1;var x=v.firstBaseUpdate,S=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var M=k,B=M.next;M.next=null,S===null?x=B:S.next=B,S=M;var O=i.alternate;O!==null&&(O=O.updateQueue,k=O.lastBaseUpdate,k!==S&&(k===null?O.firstBaseUpdate=B:k.next=B,O.lastBaseUpdate=M))}if(x!==null){var W=v.baseState;S=0,O=B=M=null,k=x;do{var G=k.lane,ie=k.eventTime;if((h&G)===G){O!==null&&(O=O.next={eventTime:ie,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var se=i,ue=k;switch(G=l,ie=f,ue.tag){case 1:if(se=ue.payload,typeof se=="function"){W=se.call(ie,W,G);break e}W=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ue.payload,G=typeof se=="function"?se.call(ie,W,G):se,G==null)break e;W=w({},W,G);break e;case 2:Rt=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,G=v.effects,G===null?v.effects=[k]:G.push(k))}else ie={eventTime:ie,lane:G,tag:k.tag,payload:k.payload,callback:k.callback,next:null},O===null?(B=O=ie,M=W):O=O.next=ie,S|=G;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;G=k,k=G.next,G.next=null,v.lastBaseUpdate=G,v.shared.pending=null}}while(!0);if(O===null&&(M=W),v.baseState=M,v.firstBaseUpdate=B,v.lastBaseUpdate=O,l=v.shared.interleaved,l!==null){v=l;do S|=v.lane,v=v.next;while(v!==l)}else x===null&&(v.shared.lanes=0);Zt|=S,i.lanes=S,i.memoizedState=W}}function gf(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var h=i[l],v=h.callback;if(v!==null){if(h.callback=null,h=f,typeof v!="function")throw Error(t(191,v));v.call(h)}}}var _i={},et=At(_i),Ii=At(_i),Ai=At(_i);function Qt(i){if(i===_i)throw Error(t(174));return i}function bs(i,l){switch(Ve(Ai,l),Ve(Ii,i),Ve(et,_i),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ee(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ee(l,i)}Be(et),Ve(et,l)}function Pr(){Be(et),Be(Ii),Be(Ai)}function yf(i){Qt(Ai.current);var l=Qt(et.current),f=ee(l,i.type);l!==f&&(Ve(Ii,i),Ve(et,f))}function zs(i){Ii.current===i&&(Be(et),Be(Ii))}var $e=At(0);function Ho(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Bs=[];function qs(){for(var i=0;i<Bs.length;i++)Bs[i]._workInProgressVersionPrimary=null;Bs.length=0}var $o=$.ReactCurrentDispatcher,Hs=$.ReactCurrentBatchConfig,Xt=0,Ge=null,Xe=null,je=null,Go=!1,Mi=!1,Pi=0,rv=0;function un(){throw Error(t(321))}function $s(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!$n(i[f],l[f]))return!1;return!0}function Gs(i,l,f,h,v,x){if(Xt=x,Ge=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$o.current=i===null||i.memoizedState===null?sv:uv,i=f(h,v),Mi){x=0;do{if(Mi=!1,Pi=0,25<=x)throw Error(t(301));x+=1,je=Xe=null,l.updateQueue=null,$o.current=av,i=f(h,v)}while(Mi)}if($o.current=Wo,l=Xe!==null&&Xe.next!==null,Xt=0,je=Xe=Ge=null,Go=!1,l)throw Error(t(300));return i}function Os(){var i=Pi!==0;return Pi=0,i}function nt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ge.memoizedState=je=i:je=je.next=i,je}function Vn(){if(Xe===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var l=je===null?Ge.memoizedState:je.next;if(l!==null)je=l,Xe=i;else{if(i===null)throw Error(t(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},je===null?Ge.memoizedState=je=i:je=je.next=i}return je}function Ri(i,l){return typeof l=="function"?l(i):l}function Js(i){var l=Vn(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=i;var h=Xe,v=h.baseQueue,x=f.pending;if(x!==null){if(v!==null){var S=v.next;v.next=x.next,x.next=S}h.baseQueue=v=x,f.pending=null}if(v!==null){x=v.next,h=h.baseState;var k=S=null,M=null,B=x;do{var O=B.lane;if((Xt&O)===O)M!==null&&(M=M.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:i(h,B.action);else{var W={lane:O,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};M===null?(k=M=W,S=h):M=M.next=W,Ge.lanes|=O,Zt|=O}B=B.next}while(B!==null&&B!==x);M===null?S=h:M.next=k,$n(h,l.memoizedState)||(xn=!0),l.memoizedState=h,l.baseState=S,l.baseQueue=M,f.lastRenderedState=h}if(i=f.interleaved,i!==null){v=i;do x=v.lane,Ge.lanes|=x,Zt|=x,v=v.next;while(v!==i)}else v===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Ws(i){var l=Vn(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=i;var h=f.dispatch,v=f.pending,x=l.memoizedState;if(v!==null){f.pending=null;var S=v=v.next;do x=i(x,S.action),S=S.next;while(S!==v);$n(x,l.memoizedState)||(xn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),f.lastRenderedState=x}return[x,h]}function vf(){}function Cf(i,l){var f=Ge,h=Vn(),v=l(),x=!$n(h.memoizedState,v);if(x&&(h.memoizedState=v,xn=!0),h=h.queue,Ks(Sf.bind(null,f,h,i),[i]),h.getSnapshot!==l||x||je!==null&&je.memoizedState.tag&1){if(f.flags|=2048,Ni(9,Tf.bind(null,f,h,v,l),void 0,null),en===null)throw Error(t(349));(Xt&30)!==0||xf(f,l,v)}return v}function xf(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=Ge.updateQueue,l===null?(l={lastEffect:null,stores:null},Ge.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function Tf(i,l,f,h){l.value=f,l.getSnapshot=h,Ef(l)&&wf(i)}function Sf(i,l,f){return f(function(){Ef(l)&&wf(i)})}function Ef(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!$n(i,f)}catch{return!0}}function wf(i){var l=dt(i,1);l!==null&&Kn(l,i,1,-1)}function kf(i){var l=nt();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},l.queue=i,i=i.dispatch=lv.bind(null,Ge,i),[l.memoizedState,i]}function Ni(i,l,f,h){return i={tag:i,create:l,destroy:f,deps:h,next:null},l=Ge.updateQueue,l===null?(l={lastEffect:null,stores:null},Ge.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(h=f.next,f.next=i,i.next=h,l.lastEffect=i)),i}function _f(){return Vn().memoizedState}function Oo(i,l,f,h){var v=nt();Ge.flags|=i,v.memoizedState=Ni(1|l,f,void 0,h===void 0?null:h)}function Jo(i,l,f,h){var v=Vn();h=h===void 0?null:h;var x=void 0;if(Xe!==null){var S=Xe.memoizedState;if(x=S.destroy,h!==null&&$s(h,S.deps)){v.memoizedState=Ni(l,f,x,h);return}}Ge.flags|=i,v.memoizedState=Ni(1|l,f,x,h)}function If(i,l){return Oo(8390656,8,i,l)}function Ks(i,l){return Jo(2048,8,i,l)}function Af(i,l){return Jo(4,2,i,l)}function Mf(i,l){return Jo(4,4,i,l)}function Pf(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Rf(i,l,f){return f=f!=null?f.concat([i]):null,Jo(4,4,Pf.bind(null,l,i),f)}function Ys(){}function Nf(i,l){var f=Vn();l=l===void 0?null:l;var h=f.memoizedState;return h!==null&&l!==null&&$s(l,h[1])?h[0]:(f.memoizedState=[i,l],i)}function Df(i,l){var f=Vn();l=l===void 0?null:l;var h=f.memoizedState;return h!==null&&l!==null&&$s(l,h[1])?h[0]:(i=i(),f.memoizedState=[i,l],i)}function Lf(i,l,f){return(Xt&21)===0?(i.baseState&&(i.baseState=!1,xn=!0),i.memoizedState=f):($n(f,l)||(f=ac(),Ge.lanes|=f,Zt|=f,i.baseState=!0),l)}function iv(i,l){var f=Fe;Fe=f!==0&&4>f?f:4,i(!0);var h=Hs.transition;Hs.transition={};try{i(!1),l()}finally{Fe=f,Hs.transition=h}}function Ff(){return Vn().memoizedState}function ov(i,l,f){var h=Ut(i);if(f={lane:h,action:f,hasEagerState:!1,eagerState:null,next:null},Uf(i))Vf(l,f);else if(f=pf(i,l,f,h),f!==null){var v=hn();Kn(f,i,h,v),bf(f,l,h)}}function lv(i,l,f){var h=Ut(i),v={lane:h,action:f,hasEagerState:!1,eagerState:null,next:null};if(Uf(i))Vf(l,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var S=l.lastRenderedState,k=x(S,f);if(v.hasEagerState=!0,v.eagerState=k,$n(k,S)){var M=l.interleaved;M===null?(v.next=v,Us(l)):(v.next=M.next,M.next=v),l.interleaved=v;return}}catch{}finally{}f=pf(i,l,v,h),f!==null&&(v=hn(),Kn(f,i,h,v),bf(f,l,h))}}function Uf(i){var l=i.alternate;return i===Ge||l!==null&&l===Ge}function Vf(i,l){Mi=Go=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function bf(i,l,f){if((f&4194240)!==0){var h=l.lanes;h&=i.pendingLanes,f|=h,l.lanes=f,Xl(i,f)}}var Wo={readContext:Un,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},sv={readContext:Un,useCallback:function(i,l){return nt().memoizedState=[i,l===void 0?null:l],i},useContext:Un,useEffect:If,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,Oo(4194308,4,Pf.bind(null,l,i),f)},useLayoutEffect:function(i,l){return Oo(4194308,4,i,l)},useInsertionEffect:function(i,l){return Oo(4,2,i,l)},useMemo:function(i,l){var f=nt();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var h=nt();return l=f!==void 0?f(l):l,h.memoizedState=h.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},h.queue=i,i=i.dispatch=ov.bind(null,Ge,i),[h.memoizedState,i]},useRef:function(i){var l=nt();return i={current:i},l.memoizedState=i},useState:kf,useDebugValue:Ys,useDeferredValue:function(i){return nt().memoizedState=i},useTransition:function(){var i=kf(!1),l=i[0];return i=iv.bind(null,i[1]),nt().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var h=Ge,v=nt();if(He){if(f===void 0)throw Error(t(407));f=f()}else{if(f=l(),en===null)throw Error(t(349));(Xt&30)!==0||xf(h,l,f)}v.memoizedState=f;var x={value:f,getSnapshot:l};return v.queue=x,If(Sf.bind(null,h,x,i),[i]),h.flags|=2048,Ni(9,Tf.bind(null,h,x,f,l),void 0,null),f},useId:function(){var i=nt(),l=en.identifierPrefix;if(He){var f=ft,h=ct;f=(h&~(1<<32-Hn(h)-1)).toString(32)+f,l=":"+l+"R"+f,f=Pi++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=rv++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},uv={readContext:Un,useCallback:Nf,useContext:Un,useEffect:Ks,useImperativeHandle:Rf,useInsertionEffect:Af,useLayoutEffect:Mf,useMemo:Df,useReducer:Js,useRef:_f,useState:function(){return Js(Ri)},useDebugValue:Ys,useDeferredValue:function(i){var l=Vn();return Lf(l,Xe.memoizedState,i)},useTransition:function(){var i=Js(Ri)[0],l=Vn().memoizedState;return[i,l]},useMutableSource:vf,useSyncExternalStore:Cf,useId:Ff,unstable_isNewReconciler:!1},av={readContext:Un,useCallback:Nf,useContext:Un,useEffect:Ks,useImperativeHandle:Rf,useInsertionEffect:Af,useLayoutEffect:Mf,useMemo:Df,useReducer:Ws,useRef:_f,useState:function(){return Ws(Ri)},useDebugValue:Ys,useDeferredValue:function(i){var l=Vn();return Xe===null?l.memoizedState=i:Lf(l,Xe.memoizedState,i)},useTransition:function(){var i=Ws(Ri)[0],l=Vn().memoizedState;return[i,l]},useMutableSource:vf,useSyncExternalStore:Cf,useId:Ff,unstable_isNewReconciler:!1};function On(i,l){if(i&&i.defaultProps){l=w({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function Qs(i,l,f,h){l=i.memoizedState,f=f(h,l),f=f==null?l:w({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Ko={isMounted:function(i){return(i=i._reactInternals)?Gt(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var h=hn(),v=Ut(i),x=pt(h,v);x.payload=l,f!=null&&(x.callback=f),l=Nt(i,x,v),l!==null&&(Kn(l,i,v,h),Bo(l,i,v))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var h=hn(),v=Ut(i),x=pt(h,v);x.tag=1,x.payload=l,f!=null&&(x.callback=f),l=Nt(i,x,v),l!==null&&(Kn(l,i,v,h),Bo(l,i,v))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=hn(),h=Ut(i),v=pt(f,h);v.tag=2,l!=null&&(v.callback=l),l=Nt(i,v,h),l!==null&&(Kn(l,i,h,f),Bo(l,i,h))}};function zf(i,l,f,h,v,x,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,x,S):l.prototype&&l.prototype.isPureReactComponent?!vi(f,h)||!vi(v,x):!0}function Bf(i,l,f){var h=!1,v=Mt,x=l.contextType;return typeof x=="object"&&x!==null?x=Un(x):(v=Cn(l)?Jt:sn.current,h=l.contextTypes,x=(h=h!=null)?Er(i,v):Mt),l=new l(f,x),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ko,i.stateNode=l,l._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=x),l}function qf(i,l,f,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,h),l.state!==i&&Ko.enqueueReplaceState(l,l.state,null)}function Xs(i,l,f,h){var v=i.stateNode;v.props=f,v.state=i.memoizedState,v.refs={},Vs(i);var x=l.contextType;typeof x=="object"&&x!==null?v.context=Un(x):(x=Cn(l)?Jt:sn.current,v.context=Er(i,x)),v.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Qs(i,l,x,f),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&Ko.enqueueReplaceState(v,v.state,null),qo(i,f,v,h),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Rr(i,l){try{var f="",h=l;do f+=Ee(h),h=h.return;while(h);var v=f}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:l,stack:v,digest:null}}function Zs(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function js(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var cv=typeof WeakMap=="function"?WeakMap:Map;function Hf(i,l,f){f=pt(-1,f),f.tag=3,f.payload={element:null};var h=l.value;return f.callback=function(){nl||(nl=!0,mu=h),js(i,l)},f}function $f(i,l,f){f=pt(-1,f),f.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var v=l.value;f.payload=function(){return h(v)},f.callback=function(){js(i,l)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(f.callback=function(){js(i,l),typeof h!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})}),f}function Gf(i,l,f){var h=i.pingCache;if(h===null){h=i.pingCache=new cv;var v=new Set;h.set(l,v)}else v=h.get(l),v===void 0&&(v=new Set,h.set(l,v));v.has(f)||(v.add(f),i=wv.bind(null,i,l,f),l.then(i,i))}function Of(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Jf(i,l,f,h,v){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=pt(-1,1),l.tag=2,Nt(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var fv=$.ReactCurrentOwner,xn=!1;function mn(i,l,f,h){l.child=i===null?df(l,null,f,h):Ir(l,i.child,f,h)}function Wf(i,l,f,h,v){f=f.render;var x=l.ref;return Mr(l,v),h=Gs(i,l,f,h,x,v),f=Os(),i!==null&&!xn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,mt(i,l,v)):(He&&f&&Is(l),l.flags|=1,mn(i,l,h,v),l.child)}function Kf(i,l,f,h,v){if(i===null){var x=f.type;return typeof x=="function"&&!Tu(x)&&x.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=x,Yf(i,l,x,h,v)):(i=sl(f.type,null,h,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(x=i.child,(i.lanes&v)===0){var S=x.memoizedProps;if(f=f.compare,f=f!==null?f:vi,f(S,h)&&i.ref===l.ref)return mt(i,l,v)}return l.flags|=1,i=bt(x,h),i.ref=l.ref,i.return=l,l.child=i}function Yf(i,l,f,h,v){if(i!==null){var x=i.memoizedProps;if(vi(x,h)&&i.ref===l.ref)if(xn=!1,l.pendingProps=h=x,(i.lanes&v)!==0)(i.flags&131072)!==0&&(xn=!0);else return l.lanes=i.lanes,mt(i,l,v)}return eu(i,l,f,h,v)}function Qf(i,l,f){var h=l.pendingProps,v=h.children,x=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Dr,Pn),Pn|=f;else{if((f&1073741824)===0)return i=x!==null?x.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ve(Dr,Pn),Pn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:f,Ve(Dr,Pn),Pn|=h}else x!==null?(h=x.baseLanes|f,l.memoizedState=null):h=f,Ve(Dr,Pn),Pn|=h;return mn(i,l,v,f),l.child}function Xf(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function eu(i,l,f,h,v){var x=Cn(f)?Jt:sn.current;return x=Er(l,x),Mr(l,v),f=Gs(i,l,f,h,x,v),h=Os(),i!==null&&!xn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,mt(i,l,v)):(He&&h&&Is(l),l.flags|=1,mn(i,l,f,v),l.child)}function Zf(i,l,f,h,v){if(Cn(f)){var x=!0;No(l)}else x=!1;if(Mr(l,v),l.stateNode===null)Qo(i,l),Bf(l,f,h),Xs(l,f,h,v),h=!0;else if(i===null){var S=l.stateNode,k=l.memoizedProps;S.props=k;var M=S.context,B=f.contextType;typeof B=="object"&&B!==null?B=Un(B):(B=Cn(f)?Jt:sn.current,B=Er(l,B));var O=f.getDerivedStateFromProps,W=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function";W||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==h||M!==B)&&qf(l,S,h,B),Rt=!1;var G=l.memoizedState;S.state=G,qo(l,h,S,v),M=l.memoizedState,k!==h||G!==M||vn.current||Rt?(typeof O=="function"&&(Qs(l,f,O,h),M=l.memoizedState),(k=Rt||zf(l,f,k,h,G,M,B))?(W||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=M),S.props=h,S.state=M,S.context=B,h=k):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{S=l.stateNode,mf(i,l),k=l.memoizedProps,B=l.type===l.elementType?k:On(l.type,k),S.props=B,W=l.pendingProps,G=S.context,M=f.contextType,typeof M=="object"&&M!==null?M=Un(M):(M=Cn(f)?Jt:sn.current,M=Er(l,M));var ie=f.getDerivedStateFromProps;(O=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==W||G!==M)&&qf(l,S,h,M),Rt=!1,G=l.memoizedState,S.state=G,qo(l,h,S,v);var se=l.memoizedState;k!==W||G!==se||vn.current||Rt?(typeof ie=="function"&&(Qs(l,f,ie,h),se=l.memoizedState),(B=Rt||zf(l,f,B,h,G,se,M)||!1)?(O||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,se,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,se,M)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&G===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&G===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=se),S.props=h,S.state=se,S.context=M,h=B):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&G===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&G===i.memoizedState||(l.flags|=1024),h=!1)}return nu(i,l,f,h,x,v)}function nu(i,l,f,h,v,x){Xf(i,l);var S=(l.flags&128)!==0;if(!h&&!S)return v&&tf(l,f,!1),mt(i,l,x);h=l.stateNode,fv.current=l;var k=S&&typeof f.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,i!==null&&S?(l.child=Ir(l,i.child,null,x),l.child=Ir(l,null,k,x)):mn(i,l,k,x),l.memoizedState=h.state,v&&tf(l,f,!0),l.child}function jf(i){var l=i.stateNode;l.pendingContext?ef(i,l.pendingContext,l.pendingContext!==l.context):l.context&&ef(i,l.context,!1),bs(i,l.containerInfo)}function ed(i,l,f,h,v){return _r(),Rs(v),l.flags|=256,mn(i,l,f,h),l.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function ru(i){return{baseLanes:i,cachePool:null,transitions:null}}function nd(i,l,f){var h=l.pendingProps,v=$e.current,x=!1,S=(l.flags&128)!==0,k;if((k=S)||(k=i!==null&&i.memoizedState===null?!1:(v&2)!==0),k?(x=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),Ve($e,v&1),i===null)return Ps(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(S=h.children,i=h.fallback,x?(h=l.mode,x=l.child,S={mode:"hidden",children:S},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=ul(S,h,0,null),i=tr(i,h,f,null),x.return=l,i.return=l,x.sibling=i,l.child=x,l.child.memoizedState=ru(f),l.memoizedState=tu,i):iu(l,S));if(v=i.memoizedState,v!==null&&(k=v.dehydrated,k!==null))return dv(i,l,S,h,k,v,f);if(x){x=h.fallback,S=l.mode,v=i.child,k=v.sibling;var M={mode:"hidden",children:h.children};return(S&1)===0&&l.child!==v?(h=l.child,h.childLanes=0,h.pendingProps=M,l.deletions=null):(h=bt(v,M),h.subtreeFlags=v.subtreeFlags&14680064),k!==null?x=bt(k,x):(x=tr(x,S,f,null),x.flags|=2),x.return=l,h.return=l,h.sibling=x,l.child=h,h=x,x=l.child,S=i.child.memoizedState,S=S===null?ru(f):{baseLanes:S.baseLanes|f,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=i.childLanes&~f,l.memoizedState=tu,h}return x=i.child,i=x.sibling,h=bt(x,{mode:"visible",children:h.children}),(l.mode&1)===0&&(h.lanes=f),h.return=l,h.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=h,l.memoizedState=null,h}function iu(i,l){return l=ul({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Yo(i,l,f,h){return h!==null&&Rs(h),Ir(l,i.child,null,f),i=iu(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function dv(i,l,f,h,v,x,S){if(f)return l.flags&256?(l.flags&=-257,h=Zs(Error(t(422))),Yo(i,l,S,h)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(x=h.fallback,v=l.mode,h=ul({mode:"visible",children:h.children},v,0,null),x=tr(x,v,S,null),x.flags|=2,h.return=l,x.return=l,h.sibling=x,l.child=h,(l.mode&1)!==0&&Ir(l,i.child,null,S),l.child.memoizedState=ru(S),l.memoizedState=tu,x);if((l.mode&1)===0)return Yo(i,l,S,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var k=h.dgst;return h=k,x=Error(t(419)),h=Zs(x,h,void 0),Yo(i,l,S,h)}if(k=(S&i.childLanes)!==0,xn||k){if(h=en,h!==null){switch(S&-S){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|S))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,dt(i,v),Kn(h,i,v,-1))}return xu(),h=Zs(Error(t(421))),Yo(i,l,S,h)}return v.data==="$?"?(l.flags|=128,l.child=i.child,l=kv.bind(null,i),v._reactRetry=l,null):(i=x.treeContext,Mn=It(v.nextSibling),An=l,He=!0,Gn=null,i!==null&&(Ln[Fn++]=ct,Ln[Fn++]=ft,Ln[Fn++]=Wt,ct=i.id,ft=i.overflow,Wt=l),l=iu(l,h.children),l.flags|=4096,l)}function td(i,l,f){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),Fs(i.return,l,f)}function ou(i,l,f,h,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:v}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=f,x.tailMode=v)}function rd(i,l,f){var h=l.pendingProps,v=h.revealOrder,x=h.tail;if(mn(i,l,h.children,f),h=$e.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&td(i,f,l);else if(i.tag===19)td(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ve($e,h),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(f=l.child,v=null;f!==null;)i=f.alternate,i!==null&&Ho(i)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),ou(l,!1,v,f,x);break;case"backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&Ho(i)===null){l.child=v;break}i=v.sibling,v.sibling=f,f=v,v=i}ou(l,!0,f,null,x);break;case"together":ou(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qo(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function mt(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),Zt|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,f=bt(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=bt(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function pv(i,l,f){switch(l.tag){case 3:jf(l),_r();break;case 5:yf(l);break;case 1:Cn(l.type)&&No(l);break;case 4:bs(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,v=l.memoizedProps.value;Ve(bo,h._currentValue),h._currentValue=v;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(Ve($e,$e.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?nd(i,l,f):(Ve($e,$e.current&1),i=mt(i,l,f),i!==null?i.sibling:null);Ve($e,$e.current&1);break;case 19:if(h=(f&l.childLanes)!==0,(i.flags&128)!==0){if(h)return rd(i,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ve($e,$e.current),h)break;return null;case 22:case 23:return l.lanes=0,Qf(i,l,f)}return mt(i,l,f)}var id,lu,od,ld;id=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},lu=function(){},od=function(i,l,f,h){var v=i.memoizedProps;if(v!==h){i=l.stateNode,Qt(et.current);var x=null;switch(f){case"input":v=jr(i,v),h=jr(i,h),x=[];break;case"select":v=w({},v,{value:void 0}),h=w({},h,{value:void 0}),x=[];break;case"textarea":v=ti(i,v),h=ti(i,h),x=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Mo)}rn(f,h);var S;f=null;for(B in v)if(!h.hasOwnProperty(B)&&v.hasOwnProperty(B)&&v[B]!=null)if(B==="style"){var k=v[B];for(S in k)k.hasOwnProperty(S)&&(f||(f={}),f[S]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?x||(x=[]):(x=x||[]).push(B,null));for(B in h){var M=h[B];if(k=v!=null?v[B]:void 0,h.hasOwnProperty(B)&&M!==k&&(M!=null||k!=null))if(B==="style")if(k){for(S in k)!k.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(f||(f={}),f[S]="");for(S in M)M.hasOwnProperty(S)&&k[S]!==M[S]&&(f||(f={}),f[S]=M[S])}else f||(x||(x=[]),x.push(B,f)),f=M;else B==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(x=x||[]).push(B,M)):B==="children"?typeof M!="string"&&typeof M!="number"||(x=x||[]).push(B,""+M):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(M!=null&&B==="onScroll"&&ze("scroll",i),x||k===M||(x=[])):(x=x||[]).push(B,M))}f&&(x=x||[]).push("style",f);var B=x;(l.updateQueue=B)&&(l.flags|=4)}},ld=function(i,l,f,h){f!==h&&(l.flags|=4)};function Di(i,l){if(!He)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function an(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,h=0;if(l)for(var v=i.child;v!==null;)f|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)f|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=f,l}function mv(i,l,f){var h=l.pendingProps;switch(As(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(l),null;case 1:return Cn(l.type)&&Ro(),an(l),null;case 3:return h=l.stateNode,Pr(),Be(vn),Be(sn),qs(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Uo(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Gn!==null&&(yu(Gn),Gn=null))),lu(i,l),an(l),null;case 5:zs(l);var v=Qt(Ai.current);if(f=l.type,i!==null&&l.stateNode!=null)od(i,l,f,h,v),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(t(166));return an(l),null}if(i=Qt(et.current),Uo(l)){h=l.stateNode,f=l.type;var x=l.memoizedProps;switch(h[jn]=l,h[Ei]=x,i=(l.mode&1)!==0,f){case"dialog":ze("cancel",h),ze("close",h);break;case"iframe":case"object":case"embed":ze("load",h);break;case"video":case"audio":for(v=0;v<xi.length;v++)ze(xi[v],h);break;case"source":ze("error",h);break;case"img":case"image":case"link":ze("error",h),ze("load",h);break;case"details":ze("toggle",h);break;case"input":ei(h,x),ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},ze("invalid",h);break;case"textarea":io(h,x),ze("invalid",h)}rn(f,x),v=null;for(var S in x)if(x.hasOwnProperty(S)){var k=x[S];S==="children"?typeof k=="string"?h.textContent!==k&&(x.suppressHydrationWarning!==!0&&Ao(h.textContent,k,i),v=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(x.suppressHydrationWarning!==!0&&Ao(h.textContent,k,i),v=["children",""+k]):o.hasOwnProperty(S)&&k!=null&&S==="onScroll"&&ze("scroll",h)}switch(f){case"input":lt(h),ro(h,x,!0);break;case"textarea":lt(h),lo(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=Mo)}h=v,l.updateQueue=h,h!==null&&(l.flags|=4)}else{S=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=q(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(f,{is:h.is}):(i=S.createElement(f),f==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,f),i[jn]=l,i[Ei]=h,id(i,l,!1,!1),l.stateNode=i;e:{switch(S=Xn(f,h),f){case"dialog":ze("cancel",i),ze("close",i),v=h;break;case"iframe":case"object":case"embed":ze("load",i),v=h;break;case"video":case"audio":for(v=0;v<xi.length;v++)ze(xi[v],i);v=h;break;case"source":ze("error",i),v=h;break;case"img":case"image":case"link":ze("error",i),ze("load",i),v=h;break;case"details":ze("toggle",i),v=h;break;case"input":ei(i,h),v=jr(i,h),ze("invalid",i);break;case"option":v=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},v=w({},h,{value:void 0}),ze("invalid",i);break;case"textarea":io(i,h),v=ti(i,h),ze("invalid",i);break;default:v=h}rn(f,v),k=v;for(x in k)if(k.hasOwnProperty(x)){var M=k[x];x==="style"?xt(i,M):x==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ke(i,M)):x==="children"?typeof M=="string"?(f!=="textarea"||M!=="")&&Me(i,M):typeof M=="number"&&Me(i,""+M):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?M!=null&&x==="onScroll"&&ze("scroll",i):M!=null&&U(i,x,M,S))}switch(f){case"input":lt(i),ro(i,h,!1);break;case"textarea":lt(i),lo(i);break;case"option":h.value!=null&&i.setAttribute("value",""+we(h.value));break;case"select":i.multiple=!!h.multiple,x=h.value,x!=null?Ct(i,!!h.multiple,x,!1):h.defaultValue!=null&&Ct(i,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=Mo)}switch(f){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return an(l),null;case 6:if(i&&l.stateNode!=null)ld(i,l,i.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(t(166));if(f=Qt(Ai.current),Qt(et.current),Uo(l)){if(h=l.stateNode,f=l.memoizedProps,h[jn]=l,(x=h.nodeValue!==f)&&(i=An,i!==null))switch(i.tag){case 3:Ao(h.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ao(h.nodeValue,f,(i.mode&1)!==0)}x&&(l.flags|=4)}else h=(f.nodeType===9?f:f.ownerDocument).createTextNode(h),h[jn]=l,l.stateNode=h}return an(l),null;case 13:if(Be($e),h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(He&&Mn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)af(),_r(),l.flags|=98560,x=!1;else if(x=Uo(l),h!==null&&h.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[jn]=l}else _r(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;an(l),x=!1}else Gn!==null&&(yu(Gn),Gn=null),x=!0;if(!x)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||($e.current&1)!==0?Ze===0&&(Ze=3):xu())),l.updateQueue!==null&&(l.flags|=4),an(l),null);case 4:return Pr(),lu(i,l),i===null&&Ti(l.stateNode.containerInfo),an(l),null;case 10:return Ls(l.type._context),an(l),null;case 17:return Cn(l.type)&&Ro(),an(l),null;case 19:if(Be($e),x=l.memoizedState,x===null)return an(l),null;if(h=(l.flags&128)!==0,S=x.rendering,S===null)if(h)Di(x,!1);else{if(Ze!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(S=Ho(i),S!==null){for(l.flags|=128,Di(x,!1),h=S.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=f,f=l.child;f!==null;)x=f,i=h,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,i=S.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return Ve($e,$e.current&1|2),l.child}i=i.sibling}x.tail!==null&&Je()>Lr&&(l.flags|=128,h=!0,Di(x,!1),l.lanes=4194304)}else{if(!h)if(i=Ho(S),i!==null){if(l.flags|=128,h=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Di(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!He)return an(l),null}else 2*Je()-x.renderingStartTime>Lr&&f!==1073741824&&(l.flags|=128,h=!0,Di(x,!1),l.lanes=4194304);x.isBackwards?(S.sibling=l.child,l.child=S):(f=x.last,f!==null?f.sibling=S:l.child=S,x.last=S)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Je(),l.sibling=null,f=$e.current,Ve($e,h?f&1|2:f&1),l):(an(l),null);case 22:case 23:return Cu(),h=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(l.flags|=8192),h&&(l.mode&1)!==0?(Pn&1073741824)!==0&&(an(l),l.subtreeFlags&6&&(l.flags|=8192)):an(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function hv(i,l){switch(As(l),l.tag){case 1:return Cn(l.type)&&Ro(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Pr(),Be(vn),Be(sn),qs(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return zs(l),null;case 13:if(Be($e),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));_r()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Be($e),null;case 4:return Pr(),null;case 10:return Ls(l.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var Xo=!1,cn=!1,gv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Nr(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(h){Oe(i,l,h)}else f.current=null}function su(i,l,f){try{f()}catch(h){Oe(i,l,h)}}var sd=!1;function yv(i,l){if(Cs=yo,i=bc(),fs(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var S=0,k=-1,M=-1,B=0,O=0,W=i,G=null;n:for(;;){for(var ie;W!==f||v!==0&&W.nodeType!==3||(k=S+v),W!==x||h!==0&&W.nodeType!==3||(M=S+h),W.nodeType===3&&(S+=W.nodeValue.length),(ie=W.firstChild)!==null;)G=W,W=ie;for(;;){if(W===i)break n;if(G===f&&++B===v&&(k=S),G===x&&++O===h&&(M=S),(ie=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=ie}f=k===-1||M===-1?null:{start:k,end:M}}else f=null}f=f||{start:0,end:0}}else f=null;for(xs={focusedElem:i,selectionRange:f},yo=!1,oe=l;oe!==null;)if(l=oe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,oe=i;else for(;oe!==null;){l=oe;try{var se=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ue=se.memoizedProps,We=se.memoizedState,V=l.stateNode,P=V.getSnapshotBeforeUpdate(l.elementType===l.type?ue:On(l.type,ue),We);V.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var b=l.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){Oe(l,l.return,X)}if(i=l.sibling,i!==null){i.return=l.return,oe=i;break}oe=l.return}return se=sd,sd=!1,se}function Li(i,l,f){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&i)===i){var x=v.destroy;v.destroy=void 0,x!==void 0&&su(l,f,x)}v=v.next}while(v!==h)}}function Zo(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var h=f.create;f.destroy=h()}f=f.next}while(f!==l)}}function uu(i){var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof l=="function"?l(i):l.current=i}}function ud(i){var l=i.alternate;l!==null&&(i.alternate=null,ud(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[jn],delete l[Ei],delete l[ws],delete l[jy],delete l[ev])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ad(i){return i.tag===5||i.tag===3||i.tag===4}function cd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ad(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function au(i,l,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Mo));else if(h!==4&&(i=i.child,i!==null))for(au(i,l,f),i=i.sibling;i!==null;)au(i,l,f),i=i.sibling}function cu(i,l,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(cu(i,l,f),i=i.sibling;i!==null;)cu(i,l,f),i=i.sibling}var on=null,Jn=!1;function Dt(i,l,f){for(f=f.child;f!==null;)fd(i,l,f),f=f.sibling}function fd(i,l,f){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(co,f)}catch{}switch(f.tag){case 5:cn||Nr(f,l);case 6:var h=on,v=Jn;on=null,Dt(i,l,f),on=h,Jn=v,on!==null&&(Jn?(i=on,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):on.removeChild(f.stateNode));break;case 18:on!==null&&(Jn?(i=on,f=f.stateNode,i.nodeType===8?Es(i.parentNode,f):i.nodeType===1&&Es(i,f),di(i)):Es(on,f.stateNode));break;case 4:h=on,v=Jn,on=f.stateNode.containerInfo,Jn=!0,Dt(i,l,f),on=h,Jn=v;break;case 0:case 11:case 14:case 15:if(!cn&&(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var x=v,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&su(f,l,S),v=v.next}while(v!==h)}Dt(i,l,f);break;case 1:if(!cn&&(Nr(f,l),h=f.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(k){Oe(f,l,k)}Dt(i,l,f);break;case 21:Dt(i,l,f);break;case 22:f.mode&1?(cn=(h=cn)||f.memoizedState!==null,Dt(i,l,f),cn=h):Dt(i,l,f);break;default:Dt(i,l,f)}}function dd(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new gv),l.forEach(function(h){var v=_v.bind(null,i,h);f.has(h)||(f.add(h),h.then(v,v))})}}function Wn(i,l){var f=l.deletions;if(f!==null)for(var h=0;h<f.length;h++){var v=f[h];try{var x=i,S=l,k=S;e:for(;k!==null;){switch(k.tag){case 5:on=k.stateNode,Jn=!1;break e;case 3:on=k.stateNode.containerInfo,Jn=!0;break e;case 4:on=k.stateNode.containerInfo,Jn=!0;break e}k=k.return}if(on===null)throw Error(t(160));fd(x,S,v),on=null,Jn=!1;var M=v.alternate;M!==null&&(M.return=null),v.return=null}catch(B){Oe(v,l,B)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)pd(l,i),l=l.sibling}function pd(i,l){var f=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Wn(l,i),tt(i),h&4){try{Li(3,i,i.return),Zo(3,i)}catch(ue){Oe(i,i.return,ue)}try{Li(5,i,i.return)}catch(ue){Oe(i,i.return,ue)}}break;case 1:Wn(l,i),tt(i),h&512&&f!==null&&Nr(f,f.return);break;case 5:if(Wn(l,i),tt(i),h&512&&f!==null&&Nr(f,f.return),i.flags&32){var v=i.stateNode;try{Me(v,"")}catch(ue){Oe(i,i.return,ue)}}if(h&4&&(v=i.stateNode,v!=null)){var x=i.memoizedProps,S=f!==null?f.memoizedProps:x,k=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{k==="input"&&x.type==="radio"&&x.name!=null&&ni(v,x),Xn(k,S);var B=Xn(k,x);for(S=0;S<M.length;S+=2){var O=M[S],W=M[S+1];O==="style"?xt(v,W):O==="dangerouslySetInnerHTML"?ke(v,W):O==="children"?Me(v,W):U(v,O,W,B)}switch(k){case"input":cr(v,x);break;case"textarea":oo(v,x);break;case"select":var G=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var ie=x.value;ie!=null?Ct(v,!!x.multiple,ie,!1):G!==!!x.multiple&&(x.defaultValue!=null?Ct(v,!!x.multiple,x.defaultValue,!0):Ct(v,!!x.multiple,x.multiple?[]:"",!1))}v[Ei]=x}catch(ue){Oe(i,i.return,ue)}}break;case 6:if(Wn(l,i),tt(i),h&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,x=i.memoizedProps;try{v.nodeValue=x}catch(ue){Oe(i,i.return,ue)}}break;case 3:if(Wn(l,i),tt(i),h&4&&f!==null&&f.memoizedState.isDehydrated)try{di(l.containerInfo)}catch(ue){Oe(i,i.return,ue)}break;case 4:Wn(l,i),tt(i);break;case 13:Wn(l,i),tt(i),v=i.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(pu=Je())),h&4&&dd(i);break;case 22:if(O=f!==null&&f.memoizedState!==null,i.mode&1?(cn=(B=cn)||O,Wn(l,i),cn=B):Wn(l,i),tt(i),h&8192){if(B=i.memoizedState!==null,(i.stateNode.isHidden=B)&&!O&&(i.mode&1)!==0)for(oe=i,O=i.child;O!==null;){for(W=oe=O;oe!==null;){switch(G=oe,ie=G.child,G.tag){case 0:case 11:case 14:case 15:Li(4,G,G.return);break;case 1:Nr(G,G.return);var se=G.stateNode;if(typeof se.componentWillUnmount=="function"){h=G,f=G.return;try{l=h,se.props=l.memoizedProps,se.state=l.memoizedState,se.componentWillUnmount()}catch(ue){Oe(h,f,ue)}}break;case 5:Nr(G,G.return);break;case 22:if(G.memoizedState!==null){gd(W);continue}}ie!==null?(ie.return=G,oe=ie):gd(W)}O=O.sibling}e:for(O=null,W=i;;){if(W.tag===5){if(O===null){O=W;try{v=W.stateNode,B?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(k=W.stateNode,M=W.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=Dn("display",S))}catch(ue){Oe(i,i.return,ue)}}}else if(W.tag===6){if(O===null)try{W.stateNode.nodeValue=B?"":W.memoizedProps}catch(ue){Oe(i,i.return,ue)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===i)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===i)break e;for(;W.sibling===null;){if(W.return===null||W.return===i)break e;O===W&&(O=null),W=W.return}O===W&&(O=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Wn(l,i),tt(i),h&4&&dd(i);break;case 21:break;default:Wn(l,i),tt(i)}}function tt(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(ad(f)){var h=f;break e}f=f.return}throw Error(t(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(Me(v,""),h.flags&=-33);var x=cd(i);cu(i,x,v);break;case 3:case 4:var S=h.stateNode.containerInfo,k=cd(i);au(i,k,S);break;default:throw Error(t(161))}}catch(M){Oe(i,i.return,M)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function vv(i,l,f){oe=i,md(i)}function md(i,l,f){for(var h=(i.mode&1)!==0;oe!==null;){var v=oe,x=v.child;if(v.tag===22&&h){var S=v.memoizedState!==null||Xo;if(!S){var k=v.alternate,M=k!==null&&k.memoizedState!==null||cn;k=Xo;var B=cn;if(Xo=S,(cn=M)&&!B)for(oe=v;oe!==null;)S=oe,M=S.child,S.tag===22&&S.memoizedState!==null?yd(v):M!==null?(M.return=S,oe=M):yd(v);for(;x!==null;)oe=x,md(x),x=x.sibling;oe=v,Xo=k,cn=B}hd(i)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,oe=x):hd(i)}}function hd(i){for(;oe!==null;){var l=oe;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:cn||Zo(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!cn)if(f===null)h.componentDidMount();else{var v=l.elementType===l.type?f.memoizedProps:On(l.type,f.memoizedProps);h.componentDidUpdate(v,f.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&gf(l,x,h);break;case 3:var S=l.updateQueue;if(S!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}gf(l,S,f)}break;case 5:var k=l.stateNode;if(f===null&&l.flags&4){f=k;var M=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&f.focus();break;case"img":M.src&&(f.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var B=l.alternate;if(B!==null){var O=B.memoizedState;if(O!==null){var W=O.dehydrated;W!==null&&di(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||l.flags&512&&uu(l)}catch(G){Oe(l,l.return,G)}}if(l===i){oe=null;break}if(f=l.sibling,f!==null){f.return=l.return,oe=f;break}oe=l.return}}function gd(i){for(;oe!==null;){var l=oe;if(l===i){oe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,oe=f;break}oe=l.return}}function yd(i){for(;oe!==null;){var l=oe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Zo(4,l)}catch(M){Oe(l,f,M)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var v=l.return;try{h.componentDidMount()}catch(M){Oe(l,v,M)}}var x=l.return;try{uu(l)}catch(M){Oe(l,x,M)}break;case 5:var S=l.return;try{uu(l)}catch(M){Oe(l,S,M)}}}catch(M){Oe(l,l.return,M)}if(l===i){oe=null;break}var k=l.sibling;if(k!==null){k.return=l.return,oe=k;break}oe=l.return}}var Cv=Math.ceil,jo=$.ReactCurrentDispatcher,fu=$.ReactCurrentOwner,bn=$.ReactCurrentBatchConfig,Pe=0,en=null,Ye=null,ln=0,Pn=0,Dr=At(0),Ze=0,Fi=null,Zt=0,el=0,du=0,Ui=null,Tn=null,pu=0,Lr=1/0,ht=null,nl=!1,mu=null,Lt=null,tl=!1,Ft=null,rl=0,Vi=0,hu=null,il=-1,ol=0;function hn(){return(Pe&6)!==0?Je():il!==-1?il:il=Je()}function Ut(i){return(i.mode&1)===0?1:(Pe&2)!==0&&ln!==0?ln&-ln:tv.transition!==null?(ol===0&&(ol=ac()),ol):(i=Fe,i!==0||(i=window.event,i=i===void 0?16:vc(i.type)),i)}function Kn(i,l,f,h){if(50<Vi)throw Vi=0,hu=null,Error(t(185));si(i,f,h),((Pe&2)===0||i!==en)&&(i===en&&((Pe&2)===0&&(el|=f),Ze===4&&Vt(i,ln)),Sn(i,h),f===1&&Pe===0&&(l.mode&1)===0&&(Lr=Je()+500,Do&&Pt()))}function Sn(i,l){var f=i.callbackNode;ty(i,l);var h=mo(i,i===en?ln:0);if(h===0)f!==null&&lc(f),i.callbackNode=null,i.callbackPriority=0;else if(l=h&-h,i.callbackPriority!==l){if(f!=null&&lc(f),l===1)i.tag===0?nv(Cd.bind(null,i)):rf(Cd.bind(null,i)),Xy(function(){(Pe&6)===0&&Pt()}),f=null;else{switch(cc(h)){case 1:f=Kl;break;case 4:f=sc;break;case 16:f=ao;break;case 536870912:f=uc;break;default:f=ao}f=Id(f,vd.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function vd(i,l){if(il=-1,ol=0,(Pe&6)!==0)throw Error(t(327));var f=i.callbackNode;if(Fr()&&i.callbackNode!==f)return null;var h=mo(i,i===en?ln:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||l)l=ll(i,h);else{l=h;var v=Pe;Pe|=2;var x=Td();(en!==i||ln!==l)&&(ht=null,Lr=Je()+500,er(i,l));do try{Sv();break}catch(k){xd(i,k)}while(!0);Ds(),jo.current=x,Pe=v,Ye!==null?l=0:(en=null,ln=0,l=Ze)}if(l!==0){if(l===2&&(v=Yl(i),v!==0&&(h=v,l=gu(i,v))),l===1)throw f=Fi,er(i,0),Vt(i,h),Sn(i,Je()),f;if(l===6)Vt(i,h);else{if(v=i.current.alternate,(h&30)===0&&!xv(v)&&(l=ll(i,h),l===2&&(x=Yl(i),x!==0&&(h=x,l=gu(i,x))),l===1))throw f=Fi,er(i,0),Vt(i,h),Sn(i,Je()),f;switch(i.finishedWork=v,i.finishedLanes=h,l){case 0:case 1:throw Error(t(345));case 2:nr(i,Tn,ht);break;case 3:if(Vt(i,h),(h&130023424)===h&&(l=pu+500-Je(),10<l)){if(mo(i,0)!==0)break;if(v=i.suspendedLanes,(v&h)!==h){hn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Ss(nr.bind(null,i,Tn,ht),l);break}nr(i,Tn,ht);break;case 4:if(Vt(i,h),(h&4194240)===h)break;for(l=i.eventTimes,v=-1;0<h;){var S=31-Hn(h);x=1<<S,S=l[S],S>v&&(v=S),h&=~x}if(h=v,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Cv(h/1960))-h,10<h){i.timeoutHandle=Ss(nr.bind(null,i,Tn,ht),h);break}nr(i,Tn,ht);break;case 5:nr(i,Tn,ht);break;default:throw Error(t(329))}}}return Sn(i,Je()),i.callbackNode===f?vd.bind(null,i):null}function gu(i,l){var f=Ui;return i.current.memoizedState.isDehydrated&&(er(i,l).flags|=256),i=ll(i,l),i!==2&&(l=Tn,Tn=f,l!==null&&yu(l)),i}function yu(i){Tn===null?Tn=i:Tn.push.apply(Tn,i)}function xv(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var h=0;h<f.length;h++){var v=f[h],x=v.getSnapshot;v=v.value;try{if(!$n(x(),v))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Vt(i,l){for(l&=~du,l&=~el,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-Hn(l),h=1<<f;i[f]=-1,l&=~h}}function Cd(i){if((Pe&6)!==0)throw Error(t(327));Fr();var l=mo(i,0);if((l&1)===0)return Sn(i,Je()),null;var f=ll(i,l);if(i.tag!==0&&f===2){var h=Yl(i);h!==0&&(l=h,f=gu(i,h))}if(f===1)throw f=Fi,er(i,0),Vt(i,l),Sn(i,Je()),f;if(f===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,nr(i,Tn,ht),Sn(i,Je()),null}function vu(i,l){var f=Pe;Pe|=1;try{return i(l)}finally{Pe=f,Pe===0&&(Lr=Je()+500,Do&&Pt())}}function jt(i){Ft!==null&&Ft.tag===0&&(Pe&6)===0&&Fr();var l=Pe;Pe|=1;var f=bn.transition,h=Fe;try{if(bn.transition=null,Fe=1,i)return i()}finally{Fe=h,bn.transition=f,Pe=l,(Pe&6)===0&&Pt()}}function Cu(){Pn=Dr.current,Be(Dr)}function er(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,Qy(f)),Ye!==null)for(f=Ye.return;f!==null;){var h=f;switch(As(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ro();break;case 3:Pr(),Be(vn),Be(sn),qs();break;case 5:zs(h);break;case 4:Pr();break;case 13:Be($e);break;case 19:Be($e);break;case 10:Ls(h.type._context);break;case 22:case 23:Cu()}f=f.return}if(en=i,Ye=i=bt(i.current,null),ln=Pn=l,Ze=0,Fi=null,du=el=Zt=0,Tn=Ui=null,Yt!==null){for(l=0;l<Yt.length;l++)if(f=Yt[l],h=f.interleaved,h!==null){f.interleaved=null;var v=h.next,x=f.pending;if(x!==null){var S=x.next;x.next=v,h.next=S}f.pending=h}Yt=null}return i}function xd(i,l){do{var f=Ye;try{if(Ds(),$o.current=Wo,Go){for(var h=Ge.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}Go=!1}if(Xt=0,je=Xe=Ge=null,Mi=!1,Pi=0,fu.current=null,f===null||f.return===null){Ze=1,Fi=l,Ye=null;break}e:{var x=i,S=f.return,k=f,M=l;if(l=ln,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var B=M,O=k,W=O.tag;if((O.mode&1)===0&&(W===0||W===11||W===15)){var G=O.alternate;G?(O.updateQueue=G.updateQueue,O.memoizedState=G.memoizedState,O.lanes=G.lanes):(O.updateQueue=null,O.memoizedState=null)}var ie=Of(S);if(ie!==null){ie.flags&=-257,Jf(ie,S,k,x,l),ie.mode&1&&Gf(x,B,l),l=ie,M=B;var se=l.updateQueue;if(se===null){var ue=new Set;ue.add(M),l.updateQueue=ue}else se.add(M);break e}else{if((l&1)===0){Gf(x,B,l),xu();break e}M=Error(t(426))}}else if(He&&k.mode&1){var We=Of(S);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),Jf(We,S,k,x,l),Rs(Rr(M,k));break e}}x=M=Rr(M,k),Ze!==4&&(Ze=2),Ui===null?Ui=[x]:Ui.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l;var V=Hf(x,M,l);hf(x,V);break e;case 1:k=M;var P=x.type,b=x.stateNode;if((x.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Lt===null||!Lt.has(b)))){x.flags|=65536,l&=-l,x.lanes|=l;var X=$f(x,k,l);hf(x,X);break e}}x=x.return}while(x!==null)}Ed(f)}catch(ae){l=ae,Ye===f&&f!==null&&(Ye=f=f.return);continue}break}while(!0)}function Td(){var i=jo.current;return jo.current=Wo,i===null?Wo:i}function xu(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),en===null||(Zt&268435455)===0&&(el&268435455)===0||Vt(en,ln)}function ll(i,l){var f=Pe;Pe|=2;var h=Td();(en!==i||ln!==l)&&(ht=null,er(i,l));do try{Tv();break}catch(v){xd(i,v)}while(!0);if(Ds(),Pe=f,jo.current=h,Ye!==null)throw Error(t(261));return en=null,ln=0,Ze}function Tv(){for(;Ye!==null;)Sd(Ye)}function Sv(){for(;Ye!==null&&!Wg();)Sd(Ye)}function Sd(i){var l=_d(i.alternate,i,Pn);i.memoizedProps=i.pendingProps,l===null?Ed(i):Ye=l,fu.current=null}function Ed(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=mv(f,l,Pn),f!==null){Ye=f;return}}else{if(f=hv(f,l),f!==null){f.flags&=32767,Ye=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ze=6,Ye=null;return}}if(l=l.sibling,l!==null){Ye=l;return}Ye=l=i}while(l!==null);Ze===0&&(Ze=5)}function nr(i,l,f){var h=Fe,v=bn.transition;try{bn.transition=null,Fe=1,Ev(i,l,f,h)}finally{bn.transition=v,Fe=h}return null}function Ev(i,l,f,h){do Fr();while(Ft!==null);if((Pe&6)!==0)throw Error(t(327));f=i.finishedWork;var v=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=f.lanes|f.childLanes;if(ry(i,x),i===en&&(Ye=en=null,ln=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||tl||(tl=!0,Id(ao,function(){return Fr(),null})),x=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||x){x=bn.transition,bn.transition=null;var S=Fe;Fe=1;var k=Pe;Pe|=4,fu.current=null,yv(i,f),pd(f,i),$y(xs),yo=!!Cs,xs=Cs=null,i.current=f,vv(f),Kg(),Pe=k,Fe=S,bn.transition=x}else i.current=f;if(tl&&(tl=!1,Ft=i,rl=v),x=i.pendingLanes,x===0&&(Lt=null),Xg(f.stateNode),Sn(i,Je()),l!==null)for(h=i.onRecoverableError,f=0;f<l.length;f++)v=l[f],h(v.value,{componentStack:v.stack,digest:v.digest});if(nl)throw nl=!1,i=mu,mu=null,i;return(rl&1)!==0&&i.tag!==0&&Fr(),x=i.pendingLanes,(x&1)!==0?i===hu?Vi++:(Vi=0,hu=i):Vi=0,Pt(),null}function Fr(){if(Ft!==null){var i=cc(rl),l=bn.transition,f=Fe;try{if(bn.transition=null,Fe=16>i?16:i,Ft===null)var h=!1;else{if(i=Ft,Ft=null,rl=0,(Pe&6)!==0)throw Error(t(331));var v=Pe;for(Pe|=4,oe=i.current;oe!==null;){var x=oe,S=x.child;if((oe.flags&16)!==0){var k=x.deletions;if(k!==null){for(var M=0;M<k.length;M++){var B=k[M];for(oe=B;oe!==null;){var O=oe;switch(O.tag){case 0:case 11:case 15:Li(8,O,x)}var W=O.child;if(W!==null)W.return=O,oe=W;else for(;oe!==null;){O=oe;var G=O.sibling,ie=O.return;if(ud(O),O===B){oe=null;break}if(G!==null){G.return=ie,oe=G;break}oe=ie}}}var se=x.alternate;if(se!==null){var ue=se.child;if(ue!==null){se.child=null;do{var We=ue.sibling;ue.sibling=null,ue=We}while(ue!==null)}}oe=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,oe=S;else e:for(;oe!==null;){if(x=oe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Li(9,x,x.return)}var V=x.sibling;if(V!==null){V.return=x.return,oe=V;break e}oe=x.return}}var P=i.current;for(oe=P;oe!==null;){S=oe;var b=S.child;if((S.subtreeFlags&2064)!==0&&b!==null)b.return=S,oe=b;else e:for(S=P;oe!==null;){if(k=oe,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Zo(9,k)}}catch(ae){Oe(k,k.return,ae)}if(k===S){oe=null;break e}var X=k.sibling;if(X!==null){X.return=k.return,oe=X;break e}oe=k.return}}if(Pe=v,Pt(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(co,i)}catch{}h=!0}return h}finally{Fe=f,bn.transition=l}}return!1}function wd(i,l,f){l=Rr(f,l),l=Hf(i,l,1),i=Nt(i,l,1),l=hn(),i!==null&&(si(i,1,l),Sn(i,l))}function Oe(i,l,f){if(i.tag===3)wd(i,i,f);else for(;l!==null;){if(l.tag===3){wd(l,i,f);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Lt===null||!Lt.has(h))){i=Rr(f,i),i=$f(l,i,1),l=Nt(l,i,1),i=hn(),l!==null&&(si(l,1,i),Sn(l,i));break}}l=l.return}}function wv(i,l,f){var h=i.pingCache;h!==null&&h.delete(l),l=hn(),i.pingedLanes|=i.suspendedLanes&f,en===i&&(ln&f)===f&&(Ze===4||Ze===3&&(ln&130023424)===ln&&500>Je()-pu?er(i,0):du|=f),Sn(i,l)}function kd(i,l){l===0&&((i.mode&1)===0?l=1:(l=po,po<<=1,(po&130023424)===0&&(po=4194304)));var f=hn();i=dt(i,l),i!==null&&(si(i,l,f),Sn(i,f))}function kv(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),kd(i,f)}function _v(i,l){var f=0;switch(i.tag){case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(f=v.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(l),kd(i,f)}var _d;_d=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||vn.current)xn=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return xn=!1,pv(i,l,f);xn=(i.flags&131072)!==0}else xn=!1,He&&(l.flags&1048576)!==0&&of(l,Fo,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;Qo(i,l),i=l.pendingProps;var v=Er(l,sn.current);Mr(l,f),v=Gs(null,l,h,i,v,f);var x=Os();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Cn(h)?(x=!0,No(l)):x=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Vs(l),v.updater=Ko,l.stateNode=v,v._reactInternals=l,Xs(l,h,i,f),l=nu(null,l,h,!0,x,f)):(l.tag=0,He&&x&&Is(l),mn(null,l,v,f),l=l.child),l;case 16:h=l.elementType;e:{switch(Qo(i,l),i=l.pendingProps,v=h._init,h=v(h._payload),l.type=h,v=l.tag=Av(h),i=On(h,i),v){case 0:l=eu(null,l,h,i,f);break e;case 1:l=Zf(null,l,h,i,f);break e;case 11:l=Wf(null,l,h,i,f);break e;case 14:l=Kf(null,l,h,On(h.type,i),f);break e}throw Error(t(306,h,""))}return l;case 0:return h=l.type,v=l.pendingProps,v=l.elementType===h?v:On(h,v),eu(i,l,h,v,f);case 1:return h=l.type,v=l.pendingProps,v=l.elementType===h?v:On(h,v),Zf(i,l,h,v,f);case 3:e:{if(jf(l),i===null)throw Error(t(387));h=l.pendingProps,x=l.memoizedState,v=x.element,mf(i,l),qo(l,h,null,f);var S=l.memoizedState;if(h=S.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){v=Rr(Error(t(423)),l),l=ed(i,l,h,f,v);break e}else if(h!==v){v=Rr(Error(t(424)),l),l=ed(i,l,h,f,v);break e}else for(Mn=It(l.stateNode.containerInfo.firstChild),An=l,He=!0,Gn=null,f=df(l,null,h,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(_r(),h===v){l=mt(i,l,f);break e}mn(i,l,h,f)}l=l.child}return l;case 5:return yf(l),i===null&&Ps(l),h=l.type,v=l.pendingProps,x=i!==null?i.memoizedProps:null,S=v.children,Ts(h,v)?S=null:x!==null&&Ts(h,x)&&(l.flags|=32),Xf(i,l),mn(i,l,S,f),l.child;case 6:return i===null&&Ps(l),null;case 13:return nd(i,l,f);case 4:return bs(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=Ir(l,null,h,f):mn(i,l,h,f),l.child;case 11:return h=l.type,v=l.pendingProps,v=l.elementType===h?v:On(h,v),Wf(i,l,h,v,f);case 7:return mn(i,l,l.pendingProps,f),l.child;case 8:return mn(i,l,l.pendingProps.children,f),l.child;case 12:return mn(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(h=l.type._context,v=l.pendingProps,x=l.memoizedProps,S=v.value,Ve(bo,h._currentValue),h._currentValue=S,x!==null)if($n(x.value,S)){if(x.children===v.children&&!vn.current){l=mt(i,l,f);break e}}else for(x=l.child,x!==null&&(x.return=l);x!==null;){var k=x.dependencies;if(k!==null){S=x.child;for(var M=k.firstContext;M!==null;){if(M.context===h){if(x.tag===1){M=pt(-1,f&-f),M.tag=2;var B=x.updateQueue;if(B!==null){B=B.shared;var O=B.pending;O===null?M.next=M:(M.next=O.next,O.next=M),B.pending=M}}x.lanes|=f,M=x.alternate,M!==null&&(M.lanes|=f),Fs(x.return,f,l),k.lanes|=f;break}M=M.next}}else if(x.tag===10)S=x.type===l.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(t(341));S.lanes|=f,k=S.alternate,k!==null&&(k.lanes|=f),Fs(S,f,l),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===l){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}mn(i,l,v.children,f),l=l.child}return l;case 9:return v=l.type,h=l.pendingProps.children,Mr(l,f),v=Un(v),h=h(v),l.flags|=1,mn(i,l,h,f),l.child;case 14:return h=l.type,v=On(h,l.pendingProps),v=On(h.type,v),Kf(i,l,h,v,f);case 15:return Yf(i,l,l.type,l.pendingProps,f);case 17:return h=l.type,v=l.pendingProps,v=l.elementType===h?v:On(h,v),Qo(i,l),l.tag=1,Cn(h)?(i=!0,No(l)):i=!1,Mr(l,f),Bf(l,h,v),Xs(l,h,v,f),nu(null,l,h,!0,i,f);case 19:return rd(i,l,f);case 22:return Qf(i,l,f)}throw Error(t(156,l.tag))};function Id(i,l){return oc(i,l)}function Iv(i,l,f,h){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,l,f,h){return new Iv(i,l,f,h)}function Tu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Av(i){if(typeof i=="function")return Tu(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===fe)return 14}return 2}function bt(i,l){var f=i.alternate;return f===null?(f=zn(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function sl(i,l,f,h,v,x){var S=2;if(h=i,typeof i=="function")Tu(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case K:return tr(f.children,v,x,l);case ce:S=8,v|=8;break;case Z:return i=zn(12,f,l,v|2),i.elementType=Z,i.lanes=x,i;case te:return i=zn(13,f,l,v),i.elementType=te,i.lanes=x,i;case re:return i=zn(19,f,l,v),i.elementType=re,i.lanes=x,i;case xe:return ul(f,v,x,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:S=10;break e;case ne:S=9;break e;case Q:S=11;break e;case fe:S=14;break e;case Te:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=zn(S,f,l,v),l.elementType=i,l.type=h,l.lanes=x,l}function tr(i,l,f,h){return i=zn(7,i,h,l),i.lanes=f,i}function ul(i,l,f,h){return i=zn(22,i,h,l),i.elementType=xe,i.lanes=f,i.stateNode={isHidden:!1},i}function Su(i,l,f){return i=zn(6,i,null,l),i.lanes=f,i}function Eu(i,l,f){return l=zn(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function Mv(i,l,f,h,v){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function wu(i,l,f,h,v,x,S,k,M){return i=new Mv(i,l,f,k,M),l===1?(l=1,x===!0&&(l|=8)):l=0,x=zn(3,null,null,l),i.current=x,x.stateNode=i,x.memoizedState={element:h,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vs(x),i}function Pv(i,l,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:i,containerInfo:l,implementation:f}}function Ad(i){if(!i)return Mt;i=i._reactInternals;e:{if(Gt(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Cn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var f=i.type;if(Cn(f))return nf(i,f,l)}return l}function Md(i,l,f,h,v,x,S,k,M){return i=wu(f,h,!0,i,v,x,S,k,M),i.context=Ad(null),f=i.current,h=hn(),v=Ut(f),x=pt(h,v),x.callback=l??null,Nt(f,x,v),i.current.lanes=v,si(i,v,h),Sn(i,h),i}function al(i,l,f,h){var v=l.current,x=hn(),S=Ut(v);return f=Ad(f),l.context===null?l.context=f:l.pendingContext=f,l=pt(x,S),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=Nt(v,l,S),i!==null&&(Kn(i,v,S,x),Bo(i,v,S)),S}function cl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Pd(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function ku(i,l){Pd(i,l),(i=i.alternate)&&Pd(i,l)}function Rv(){return null}var Rd=typeof reportError=="function"?reportError:function(i){console.error(i)};function _u(i){this._internalRoot=i}fl.prototype.render=_u.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));al(i,l,null,null)},fl.prototype.unmount=_u.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;jt(function(){al(null,i,null,null)}),l[ut]=null}};function fl(i){this._internalRoot=i}fl.prototype.unstable_scheduleHydration=function(i){if(i){var l=pc();i={blockedOn:null,target:i,priority:l};for(var f=0;f<wt.length&&l!==0&&l<wt[f].priority;f++);wt.splice(f,0,i),f===0&&gc(i)}};function Iu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function dl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Nd(){}function Nv(i,l,f,h,v){if(v){if(typeof h=="function"){var x=h;h=function(){var B=cl(S);x.call(B)}}var S=Md(l,h,i,0,null,!1,!1,"",Nd);return i._reactRootContainer=S,i[ut]=S.current,Ti(i.nodeType===8?i.parentNode:i),jt(),S}for(;v=i.lastChild;)i.removeChild(v);if(typeof h=="function"){var k=h;h=function(){var B=cl(M);k.call(B)}}var M=wu(i,0,!1,null,null,!1,!1,"",Nd);return i._reactRootContainer=M,i[ut]=M.current,Ti(i.nodeType===8?i.parentNode:i),jt(function(){al(l,M,f,h)}),M}function pl(i,l,f,h,v){var x=f._reactRootContainer;if(x){var S=x;if(typeof v=="function"){var k=v;v=function(){var M=cl(S);k.call(M)}}al(l,S,i,v)}else S=Nv(f,l,i,v,h);return cl(S)}fc=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=li(l.pendingLanes);f!==0&&(Xl(l,f|1),Sn(l,Je()),(Pe&6)===0&&(Lr=Je()+500,Pt()))}break;case 13:jt(function(){var h=dt(i,1);if(h!==null){var v=hn();Kn(h,i,1,v)}}),ku(i,1)}},Zl=function(i){if(i.tag===13){var l=dt(i,134217728);if(l!==null){var f=hn();Kn(l,i,134217728,f)}ku(i,134217728)}},dc=function(i){if(i.tag===13){var l=Ut(i),f=dt(i,l);if(f!==null){var h=hn();Kn(f,i,l,h)}ku(i,l)}},pc=function(){return Fe},mc=function(i,l){var f=Fe;try{return Fe=i,l()}finally{Fe=f}},Gl=function(i,l,f){switch(l){case"input":if(cr(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var h=f[l];if(h!==i&&h.form===i.form){var v=Po(h);if(!v)throw Error(t(90));to(h),cr(h,v)}}}break;case"textarea":oo(i,f);break;case"select":l=f.value,l!=null&&Ct(i,!!f.multiple,l,!1)}},Za=vu,ja=jt;var Dv={usingClientEntryPoint:!1,Events:[wi,Tr,Po,Qa,Xa,vu]},bi={findFiberByHostInstance:Ot,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lv={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=rc(i),i===null?null:i.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||Rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{co=ml.inject(Lv),Zn=ml}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dv,En.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(l))throw Error(t(200));return Pv(i,l,null,f)},En.createRoot=function(i,l){if(!Iu(i))throw Error(t(299));var f=!1,h="",v=Rd;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=wu(i,1,!1,null,null,f,!1,h,v),i[ut]=l.current,Ti(i.nodeType===8?i.parentNode:i),new _u(l)},En.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=rc(l),i=i===null?null:i.stateNode,i},En.flushSync=function(i){return jt(i)},En.hydrate=function(i,l,f){if(!dl(l))throw Error(t(200));return pl(null,i,l,!0,f)},En.hydrateRoot=function(i,l,f){if(!Iu(i))throw Error(t(405));var h=f!=null&&f.hydratedSources||null,v=!1,x="",S=Rd;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onRecoverableError!==void 0&&(S=f.onRecoverableError)),l=Md(l,null,i,1,f??null,v,!1,x,S),i[ut]=l.current,Ti(i),h)for(i=0;i<h.length;i++)f=h[i],v=f._getVersion,v=v(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,v]:l.mutableSourceEagerHydrationData.push(f,v);return new fl(l)},En.render=function(i,l,f){if(!dl(l))throw Error(t(200));return pl(null,i,l,!1,f)},En.unmountComponentAtNode=function(i){if(!dl(i))throw Error(t(40));return i._reactRootContainer?(jt(function(){pl(null,null,i,!1,function(){i._reactRootContainer=null,i[ut]=null})}),!0):!1},En.unstable_batchedUpdates=vu,En.unstable_renderSubtreeIntoContainer=function(i,l,f,h){if(!dl(f))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return pl(i,l,f,!1,h)},En.version="18.3.1-next-f1338f8080-20240426",En}var Bd;function $v(){if(Bd)return Pu.exports;Bd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pu.exports=Hv(),Pu.exports}var qd;function Gv(){if(qd)return hl;qd=1;var n=$v();return hl.createRoot=n.createRoot,hl.hydrateRoot=n.hydrateRoot,hl}var Ov=Gv();const Jv=Ll(Ov),Bi={USER:"user",MODEL:"model"};function Wv(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Kv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qv={};function Hd(n,e){return(Qv.jsx?Yv:Kv).test(n)}const Xv=/[ \t\n\f\r]/g;function Zv(n){return typeof n=="object"?n.type==="text"?$d(n.value):!1:$d(n)}function $d(n){return n.replace(Xv,"")===""}class Zi{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}Zi.prototype.normal={};Zi.prototype.property={};Zi.prototype.space=void 0;function rh(n,e){const t={},r={};for(const o of n)Object.assign(t,o.property),Object.assign(r,o.normal);return new Zi(t,r,e)}function na(n){return n.toLowerCase()}class kn{constructor(e,t){this.attribute=t,this.property=e}}kn.prototype.attribute="";kn.prototype.booleanish=!1;kn.prototype.boolean=!1;kn.prototype.commaOrSpaceSeparated=!1;kn.prototype.commaSeparated=!1;kn.prototype.defined=!1;kn.prototype.mustUseProperty=!1;kn.prototype.number=!1;kn.prototype.overloadedBoolean=!1;kn.prototype.property="";kn.prototype.spaceSeparated=!1;kn.prototype.space=void 0;let jv=0;const Se=lr(),Qe=lr(),ta=lr(),Y=lr(),be=lr(),Hr=lr(),Rn=lr();function lr(){return 2**++jv}const ra=Object.freeze(Object.defineProperty({__proto__:null,boolean:Se,booleanish:Qe,commaOrSpaceSeparated:Rn,commaSeparated:Hr,number:Y,overloadedBoolean:ta,spaceSeparated:be},Symbol.toStringTag,{value:"Module"})),Du=Object.keys(ra);class wa extends kn{constructor(e,t,r,o){let u=-1;if(super(e,t),Gd(this,"space",o),typeof r=="number")for(;++u<Du.length;){const c=Du[u];Gd(this,Du[u],(r&ra[c])===ra[c])}}}wa.prototype.defined=!0;function Gd(n,e,t){t&&(n[e]=t)}function Wr(n){const e={},t={};for(const[r,o]of Object.entries(n.properties)){const u=new wa(r,n.transform(n.attributes||{},r),o,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(u.mustUseProperty=!0),e[r]=u,t[na(r)]=r,t[na(u.attribute)]=r}return new Zi(e,t,n.space)}const ih=Wr({properties:{ariaActiveDescendant:null,ariaAtomic:Qe,ariaAutoComplete:null,ariaBusy:Qe,ariaChecked:Qe,ariaColCount:Y,ariaColIndex:Y,ariaColSpan:Y,ariaControls:be,ariaCurrent:null,ariaDescribedBy:be,ariaDetails:null,ariaDisabled:Qe,ariaDropEffect:be,ariaErrorMessage:null,ariaExpanded:Qe,ariaFlowTo:be,ariaGrabbed:Qe,ariaHasPopup:null,ariaHidden:Qe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:be,ariaLevel:Y,ariaLive:null,ariaModal:Qe,ariaMultiLine:Qe,ariaMultiSelectable:Qe,ariaOrientation:null,ariaOwns:be,ariaPlaceholder:null,ariaPosInSet:Y,ariaPressed:Qe,ariaReadOnly:Qe,ariaRelevant:null,ariaRequired:Qe,ariaRoleDescription:be,ariaRowCount:Y,ariaRowIndex:Y,ariaRowSpan:Y,ariaSelected:Qe,ariaSetSize:Y,ariaSort:null,ariaValueMax:Y,ariaValueMin:Y,ariaValueNow:Y,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function oh(n,e){return e in n?n[e]:e}function lh(n,e){return oh(n,e.toLowerCase())}const eC=Wr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hr,acceptCharset:be,accessKey:be,action:null,allow:null,allowFullScreen:Se,allowPaymentRequest:Se,allowUserMedia:Se,alt:null,as:null,async:Se,autoCapitalize:null,autoComplete:be,autoFocus:Se,autoPlay:Se,blocking:be,capture:null,charSet:null,checked:Se,cite:null,className:be,cols:Y,colSpan:null,content:null,contentEditable:Qe,controls:Se,controlsList:be,coords:Y|Hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Se,defer:Se,dir:null,dirName:null,disabled:Se,download:ta,draggable:Qe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Se,formTarget:null,headers:be,height:Y,hidden:ta,high:Y,href:null,hrefLang:null,htmlFor:be,httpEquiv:be,id:null,imageSizes:null,imageSrcSet:null,inert:Se,inputMode:null,integrity:null,is:null,isMap:Se,itemId:null,itemProp:be,itemRef:be,itemScope:Se,itemType:be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Se,low:Y,manifest:null,max:null,maxLength:Y,media:null,method:null,min:null,minLength:Y,multiple:Se,muted:Se,name:null,nonce:null,noModule:Se,noValidate:Se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Se,optimum:Y,pattern:null,ping:be,placeholder:null,playsInline:Se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Se,referrerPolicy:null,rel:be,required:Se,reversed:Se,rows:Y,rowSpan:Y,sandbox:be,scope:null,scoped:Se,seamless:Se,selected:Se,shadowRootClonable:Se,shadowRootDelegatesFocus:Se,shadowRootMode:null,shape:null,size:Y,sizes:null,slot:null,span:Y,spellCheck:Qe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Y,step:null,style:null,tabIndex:Y,target:null,title:null,translate:null,type:null,typeMustMatch:Se,useMap:null,value:Qe,width:Y,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:be,axis:null,background:null,bgColor:null,border:Y,borderColor:null,bottomMargin:Y,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Se,declare:Se,event:null,face:null,frame:null,frameBorder:null,hSpace:Y,leftMargin:Y,link:null,longDesc:null,lowSrc:null,marginHeight:Y,marginWidth:Y,noResize:Se,noHref:Se,noShade:Se,noWrap:Se,object:null,profile:null,prompt:null,rev:null,rightMargin:Y,rules:null,scheme:null,scrolling:Qe,standby:null,summary:null,text:null,topMargin:Y,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Y,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Se,disableRemotePlayback:Se,prefix:null,property:null,results:Y,security:null,unselectable:null},space:"html",transform:lh}),nC=Wr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Rn,accentHeight:Y,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Y,amplitude:Y,arabicForm:null,ascent:Y,attributeName:null,attributeType:null,azimuth:Y,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Y,by:null,calcMode:null,capHeight:Y,className:be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Y,diffuseConstant:Y,direction:null,display:null,dur:null,divisor:Y,dominantBaseline:null,download:Se,dx:null,dy:null,edgeMode:null,editable:null,elevation:Y,enableBackground:null,end:null,event:null,exponent:Y,externalResourcesRequired:null,fill:null,fillOpacity:Y,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hr,g2:Hr,glyphName:Hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Y,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Y,horizOriginX:Y,horizOriginY:Y,id:null,ideographic:Y,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Y,k:Y,k1:Y,k2:Y,k3:Y,k4:Y,kernelMatrix:Rn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Y,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Y,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Y,overlineThickness:Y,paintOrder:null,panose1:null,path:null,pathLength:Y,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Y,pointsAtY:Y,pointsAtZ:Y,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Rn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Rn,rev:Rn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Rn,requiredFeatures:Rn,requiredFonts:Rn,requiredFormats:Rn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Y,specularExponent:Y,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Y,strikethroughThickness:Y,string:null,stroke:null,strokeDashArray:Rn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Y,strokeOpacity:Y,strokeWidth:null,style:null,surfaceScale:Y,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Rn,tabIndex:Y,tableValues:null,target:null,targetX:Y,targetY:Y,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Rn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Y,underlineThickness:Y,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Y,values:null,vAlphabetic:Y,vMathematical:Y,vectorEffect:null,vHanging:Y,vIdeographic:Y,version:null,vertAdvY:Y,vertOriginX:Y,vertOriginY:Y,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Y,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:oh}),sh=Wr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),uh=Wr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lh}),ah=Wr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),tC={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rC=/[A-Z]/g,Od=/-[a-z]/g,iC=/^data[-\w.:]+$/i;function oC(n,e){const t=na(e);let r=e,o=kn;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&iC.test(e)){if(e.charAt(4)==="-"){const u=e.slice(5).replace(Od,sC);r="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!Od.test(u)){let c=u.replace(rC,lC);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}o=wa}return new o(r,e)}function lC(n){return"-"+n.toLowerCase()}function sC(n){return n.charAt(1).toUpperCase()}const uC=rh([ih,eC,sh,uh,ah],"html"),ka=rh([ih,nC,sh,uh,ah],"svg");function aC(n){return n.join(" ").trim()}var Ur={},Lu,Jd;function cC(){if(Jd)return Lu;Jd=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,m=`
`,p="/",g="*",y="",C="comment",T="declaration";Lu=function(_,R){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];R=R||{};var A=1,z=1;function U(te){var re=te.match(e);re&&(A+=re.length);var fe=te.lastIndexOf(m);z=~fe?te.length-fe:z+te.length}function $(){var te={line:A,column:z};return function(re){return re.position=new J(te),ce(),re}}function J(te){this.start=te,this.end={line:A,column:z},this.source=R.source}J.prototype.content=_;function L(te){var re=new Error(R.source+":"+A+":"+z+": "+te);if(re.reason=te,re.filename=R.source,re.line=A,re.column=z,re.source=_,!R.silent)throw re}function K(te){var re=te.exec(_);if(re){var fe=re[0];return U(fe),_=_.slice(fe.length),re}}function ce(){K(t)}function Z(te){var re;for(te=te||[];re=F();)re!==!1&&te.push(re);return te}function F(){var te=$();if(!(p!=_.charAt(0)||g!=_.charAt(1))){for(var re=2;y!=_.charAt(re)&&(g!=_.charAt(re)||p!=_.charAt(re+1));)++re;if(re+=2,y===_.charAt(re-1))return L("End of comment missing");var fe=_.slice(2,re-2);return z+=2,U(fe),_=_.slice(re),z+=2,te({type:C,comment:fe})}}function ne(){var te=$(),re=K(r);if(re){if(F(),!K(o))return L("property missing ':'");var fe=K(u),Te=te({type:T,property:E(re[0].replace(n,y)),value:fe?E(fe[0].replace(n,y)):y});return K(c),Te}}function Q(){var te=[];Z(te);for(var re;re=ne();)re!==!1&&(te.push(re),Z(te));return te}return ce(),Q()};function E(_){return _?_.replace(d,y):y}return Lu}var Wd;function fC(){if(Wd)return Ur;Wd=1;var n=Ur&&Ur.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.default=t;var e=n(cC());function t(r,o){var u=null;if(!r||typeof r!="string")return u;var c=(0,e.default)(r),d=typeof o=="function";return c.forEach(function(m){if(m.type==="declaration"){var p=m.property,g=m.value;d?o(p,g,m):g&&(u=u||{},u[p]=g)}}),u}return Ur}var qi={},Kd;function dC(){if(Kd)return qi;Kd=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(p){return!p||t.test(p)||n.test(p)},c=function(p,g){return g.toUpperCase()},d=function(p,g){return"".concat(g,"-")},m=function(p,g){return g===void 0&&(g={}),u(p)?p:(p=p.toLowerCase(),g.reactCompat?p=p.replace(o,d):p=p.replace(r,d),p.replace(e,c))};return qi.camelCase=m,qi}var Hi,Yd;function pC(){if(Yd)return Hi;Yd=1;var n=Hi&&Hi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=n(fC()),t=dC();function r(o,u){var c={};return!o||typeof o!="string"||(0,e.default)(o,function(d,m){d&&m&&(c[(0,t.camelCase)(d,u)]=m)}),c}return r.default=r,Hi=r,Hi}var mC=pC();const hC=Ll(mC),ch=fh("end"),_a=fh("start");function fh(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function gC(n){const e=_a(n),t=ch(n);if(e&&t)return{start:e,end:t}}function Ji(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Qd(n.position):"start"in n||"end"in n?Qd(n):"line"in n||"column"in n?ia(n):""}function ia(n){return Xd(n&&n.line)+":"+Xd(n&&n.column)}function Qd(n){return ia(n&&n.start)+"-"+ia(n&&n.end)}function Xd(n){return n&&typeof n=="number"?n:1}class pn extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let o="",u={},c=!1;if(t&&("line"in t&&"column"in t?u={place:t}:"start"in t&&"end"in t?u={place:t}:"type"in t?u={ancestors:[t],place:t.position}:u={...t}),typeof e=="string"?o=e:!u.cause&&e&&(c=!0,o=e.message,u.cause=e),!u.ruleId&&!u.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?u.ruleId=r:(u.source=r.slice(0,m),u.ruleId=r.slice(m+1))}if(!u.place&&u.ancestors&&u.ancestors){const m=u.ancestors[u.ancestors.length-1];m&&(u.place=m.position)}const d=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=d?d.line:void 0,this.name=Ji(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pn.prototype.file="";pn.prototype.name="";pn.prototype.reason="";pn.prototype.message="";pn.prototype.stack="";pn.prototype.column=void 0;pn.prototype.line=void 0;pn.prototype.ancestors=void 0;pn.prototype.cause=void 0;pn.prototype.fatal=void 0;pn.prototype.place=void 0;pn.prototype.ruleId=void 0;pn.prototype.source=void 0;const Ia={}.hasOwnProperty,yC=new Map,vC=/[A-Z]/g,CC=new Set(["table","tbody","thead","tfoot","tr"]),xC=new Set(["td","th"]),dh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function TC(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=MC(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=AC(t,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ka:uC,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},u=ph(o,n,void 0);return u&&typeof u!="string"?u:o.create(n,o.Fragment,{children:u||void 0},void 0)}function ph(n,e,t){if(e.type==="element")return SC(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return EC(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return kC(n,e,t);if(e.type==="mdxjsEsm")return wC(n,e);if(e.type==="root")return _C(n,e,t);if(e.type==="text")return IC(n,e)}function SC(n,e,t){const r=n.schema;let o=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=ka,n.schema=o),n.ancestors.push(e);const u=hh(n,e.tagName,!1),c=PC(n,e);let d=Ma(n,e);return CC.has(e.tagName)&&(d=d.filter(function(m){return typeof m=="string"?!Zv(m):!0})),mh(n,c,u,e),Aa(c,d),n.ancestors.pop(),n.schema=r,n.create(e,u,c,t)}function EC(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}Qi(n,e.position)}function wC(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Qi(n,e.position)}function kC(n,e,t){const r=n.schema;let o=r;e.name==="svg"&&r.space==="html"&&(o=ka,n.schema=o),n.ancestors.push(e);const u=e.name===null?n.Fragment:hh(n,e.name,!0),c=RC(n,e),d=Ma(n,e);return mh(n,c,u,e),Aa(c,d),n.ancestors.pop(),n.schema=r,n.create(e,u,c,t)}function _C(n,e,t){const r={};return Aa(r,Ma(n,e)),n.create(e,n.Fragment,r,t)}function IC(n,e){return e.value}function mh(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function Aa(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function AC(n,e,t){return r;function r(o,u,c,d){const p=Array.isArray(c.children)?t:e;return d?p(u,c,d):p(u,c)}}function MC(n,e){return t;function t(r,o,u,c){const d=Array.isArray(u.children),m=_a(r);return e(o,u,c,d,{columnNumber:m?m.column-1:void 0,fileName:n,lineNumber:m?m.line:void 0},void 0)}}function PC(n,e){const t={};let r,o;for(o in e.properties)if(o!=="children"&&Ia.call(e.properties,o)){const u=NC(n,o,e.properties[o]);if(u){const[c,d]=u;n.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&xC.has(e.tagName)?r=d:t[c]=d}}if(r){const u=t.style||(t.style={});u[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function RC(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const u=r.data.estree.body[0];u.type;const c=u.expression;c.type;const d=c.properties[0];d.type,Object.assign(t,n.evaluater.evaluateExpression(d.argument))}else Qi(n,e.position);else{const o=r.name;let u;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const d=r.value.data.estree.body[0];d.type,u=n.evaluater.evaluateExpression(d.expression)}else Qi(n,e.position);else u=r.value===null?!0:r.value;t[o]=u}return t}function Ma(n,e){const t=[];let r=-1;const o=n.passKeys?new Map:yC;for(;++r<e.children.length;){const u=e.children[r];let c;if(n.passKeys){const m=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(m){const p=o.get(m)||0;c=m+"-"+p,o.set(m,p+1)}}const d=ph(n,u,c);d!==void 0&&t.push(d)}return t}function NC(n,e,t){const r=oC(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?Wv(t):aC(t)),r.property==="style"){let o=typeof t=="object"?t:DC(n,String(t));return n.stylePropertyNameCase==="css"&&(o=LC(o)),["style",o]}return[n.elementAttributeNameCase==="react"&&r.space?tC[r.property]||r.property:r.attribute,t]}}function DC(n,e){try{return hC(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,o=new pn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=n.filePath||void 0,o.url=dh+"#cannot-parse-style-attribute",o}}function hh(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let u=-1,c;for(;++u<o.length;){const d=Hd(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(u&&d.type==="Literal"),optional:!1}:d}r=c}else r=Hd(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const o=r.value;return Ia.call(n.components,o)?n.components[o]:o}if(n.evaluater)return n.evaluater.evaluateExpression(r);Qi(n)}function Qi(n,e){const t=new pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=dh+"#cannot-handle-mdx-estrees-without-createevaluater",t}function LC(n){const e={};let t;for(t in n)Ia.call(n,t)&&(e[FC(t)]=n[t]);return e}function FC(n){let e=n.replace(vC,UC);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function UC(n){return"-"+n.toLowerCase()}const Fu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},VC={};function Pa(n,e){const t=VC,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,o=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return gh(n,r,o)}function gh(n,e,t){if(bC(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Zd(n.children,e,t)}return Array.isArray(n)?Zd(n,e,t):""}function Zd(n,e,t){const r=[];let o=-1;for(;++o<n.length;)r[o]=gh(n[o],e,t);return r.join("")}function bC(n){return!!(n&&typeof n=="object")}const jd=document.createElement("i");function Ra(n){const e="&"+n+";";jd.innerHTML=e;const t=jd.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Nn(n,e,t,r){const o=n.length;let u=0,c;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,t=t>0?t:0,r.length<1e4)c=Array.from(r),c.unshift(e,t),n.splice(...c);else for(t&&n.splice(e,t);u<r.length;)c=r.slice(u,u+1e4),c.unshift(e,0),n.splice(...c),u+=1e4,e+=1e4}function Bn(n,e){return n.length>0?(Nn(n,n.length,0,e),n):e}const ep={}.hasOwnProperty;function yh(n){const e={};let t=-1;for(;++t<n.length;)zC(e,n[t]);return e}function zC(n,e){let t;for(t in e){const o=(ep.call(n,t)?n[t]:void 0)||(n[t]={}),u=e[t];let c;if(u)for(c in u){ep.call(o,c)||(o[c]=[]);const d=u[c];BC(o[c],Array.isArray(d)?d:d?[d]:[])}}}function BC(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Nn(n,0,0,r)}function vh(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}function Yn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yn=Ht(/[A-Za-z]/),fn=Ht(/[\dA-Za-z]/),qC=Ht(/[#-'*+\--9=?A-Z^-~]/);function _l(n){return n!==null&&(n<32||n===127)}const oa=Ht(/\d/),HC=Ht(/[\dA-Fa-f]/),$C=Ht(/[!-/:-@[-`{-~]/);function he(n){return n!==null&&n<-2}function Ue(n){return n!==null&&(n<0||n===32)}function Ie(n){return n===-2||n===-1||n===32}const Fl=Ht(new RegExp("\\p{P}|\\p{S}","u")),ir=Ht(/\s/);function Ht(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Kr(n){const e=[];let t=-1,r=0,o=0;for(;++t<n.length;){const u=n.charCodeAt(t);let c="";if(u===37&&fn(n.charCodeAt(t+1))&&fn(n.charCodeAt(t+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const d=n.charCodeAt(t+1);u<56320&&d>56319&&d<57344?(c=String.fromCharCode(u,d),o=1):c="�"}else c=String.fromCharCode(u);c&&(e.push(n.slice(r,t),encodeURIComponent(c)),r=t+o+1,c=""),o&&(t+=o,o=0)}return e.join("")+n.slice(r)}function Ae(n,e,t,r){const o=r?r-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(m){return Ie(m)?(n.enter(t),d(m)):e(m)}function d(m){return Ie(m)&&u++<o?(n.consume(m),d):(n.exit(t),e(m))}}const GC={tokenize:OC};function OC(n){const e=n.attempt(this.parser.constructs.contentInitial,r,o);let t;return e;function r(d){if(d===null){n.consume(d);return}return n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),Ae(n,e,"linePrefix")}function o(d){return n.enter("paragraph"),u(d)}function u(d){const m=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=m),t=m,c(d)}function c(d){if(d===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(d);return}return he(d)?(n.consume(d),n.exit("chunkText"),u):(n.consume(d),c)}}const JC={tokenize:WC},np={tokenize:KC};function WC(n){const e=this,t=[];let r=0,o,u,c;return d;function d(U){if(r<t.length){const $=t[r];return e.containerState=$[1],n.attempt($[0].continuation,m,p)(U)}return p(U)}function m(U){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&z();const $=e.events.length;let J=$,L;for(;J--;)if(e.events[J][0]==="exit"&&e.events[J][1].type==="chunkFlow"){L=e.events[J][1].end;break}A(r);let K=$;for(;K<e.events.length;)e.events[K][1].end={...L},K++;return Nn(e.events,J+1,0,e.events.slice($)),e.events.length=K,p(U)}return d(U)}function p(U){if(r===t.length){if(!o)return C(U);if(o.currentConstruct&&o.currentConstruct.concrete)return E(U);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(np,g,y)(U)}function g(U){return o&&z(),A(r),C(U)}function y(U){return e.parser.lazy[e.now().line]=r!==t.length,c=e.now().offset,E(U)}function C(U){return e.containerState={},n.attempt(np,T,E)(U)}function T(U){return r++,t.push([e.currentConstruct,e.containerState]),C(U)}function E(U){if(U===null){o&&z(),A(0),n.consume(U);return}return o=o||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),_(U)}function _(U){if(U===null){R(n.exit("chunkFlow"),!0),A(0),n.consume(U);return}return he(U)?(n.consume(U),R(n.exit("chunkFlow")),r=0,e.interrupt=void 0,d):(n.consume(U),_)}function R(U,$){const J=e.sliceStream(U);if($&&J.push(null),U.previous=u,u&&(u.next=U),u=U,o.defineSkip(U.start),o.write(J),e.parser.lazy[U.start.line]){let L=o.events.length;for(;L--;)if(o.events[L][1].start.offset<c&&(!o.events[L][1].end||o.events[L][1].end.offset>c))return;const K=e.events.length;let ce=K,Z,F;for(;ce--;)if(e.events[ce][0]==="exit"&&e.events[ce][1].type==="chunkFlow"){if(Z){F=e.events[ce][1].end;break}Z=!0}for(A(r),L=K;L<e.events.length;)e.events[L][1].end={...F},L++;Nn(e.events,ce+1,0,e.events.slice(K)),e.events.length=L}}function A(U){let $=t.length;for(;$-- >U;){const J=t[$];e.containerState=J[1],J[0].exit.call(e,n)}t.length=U}function z(){o.write([null]),u=void 0,o=void 0,e.containerState._closeFlow=void 0}}function KC(n,e,t){return Ae(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Jr(n){if(n===null||Ue(n)||ir(n))return 1;if(Fl(n))return 2}function Ul(n,e,t){const r=[];let o=-1;for(;++o<n.length;){const u=n[o].resolveAll;u&&!r.includes(u)&&(e=u(e,t),r.push(u))}return e}const la={name:"attention",resolveAll:YC,tokenize:QC};function YC(n,e){let t=-1,r,o,u,c,d,m,p,g;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;m=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const y={...n[r][1].end},C={...n[t][1].start};tp(y,-m),tp(C,m),c={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...n[r][1].end}},d={type:m>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:C},u={type:m>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},o={type:m>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},n[r][1].end={...c.start},n[t][1].start={...d.end},p=[],n[r][1].end.offset-n[r][1].start.offset&&(p=Bn(p,[["enter",n[r][1],e],["exit",n[r][1],e]])),p=Bn(p,[["enter",o,e],["enter",c,e],["exit",c,e],["enter",u,e]]),p=Bn(p,Ul(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),p=Bn(p,[["exit",u,e],["enter",d,e],["exit",d,e],["exit",o,e]]),n[t][1].end.offset-n[t][1].start.offset?(g=2,p=Bn(p,[["enter",n[t][1],e],["exit",n[t][1],e]])):g=0,Nn(n,r-1,t-r+3,p),t=r+p.length-g-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function QC(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Jr(r);let u;return c;function c(m){return u=m,n.enter("attentionSequence"),d(m)}function d(m){if(m===u)return n.consume(m),d;const p=n.exit("attentionSequence"),g=Jr(m),y=!g||g===2&&o||t.includes(m),C=!o||o===2&&g||t.includes(r);return p._open=!!(u===42?y:y&&(o||!C)),p._close=!!(u===42?C:C&&(g||!y)),e(m)}}function tp(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const XC={name:"autolink",tokenize:ZC};function ZC(n,e,t){let r=0;return o;function o(T){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(T),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),u}function u(T){return yn(T)?(n.consume(T),c):T===64?t(T):p(T)}function c(T){return T===43||T===45||T===46||fn(T)?(r=1,d(T)):p(T)}function d(T){return T===58?(n.consume(T),r=0,m):(T===43||T===45||T===46||fn(T))&&r++<32?(n.consume(T),d):(r=0,p(T))}function m(T){return T===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(T),n.exit("autolinkMarker"),n.exit("autolink"),e):T===null||T===32||T===60||_l(T)?t(T):(n.consume(T),m)}function p(T){return T===64?(n.consume(T),g):qC(T)?(n.consume(T),p):t(T)}function g(T){return fn(T)?y(T):t(T)}function y(T){return T===46?(n.consume(T),r=0,g):T===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(T),n.exit("autolinkMarker"),n.exit("autolink"),e):C(T)}function C(T){if((T===45||fn(T))&&r++<63){const E=T===45?C:y;return n.consume(T),E}return t(T)}}const ji={partial:!0,tokenize:jC};function jC(n,e,t){return r;function r(u){return Ie(u)?Ae(n,o,"linePrefix")(u):o(u)}function o(u){return u===null||he(u)?e(u):t(u)}}const Ch={continuation:{tokenize:nx},exit:tx,name:"blockQuote",tokenize:ex};function ex(n,e,t){const r=this;return o;function o(c){if(c===62){const d=r.containerState;return d.open||(n.enter("blockQuote",{_container:!0}),d.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(c),n.exit("blockQuoteMarker"),u}return t(c)}function u(c){return Ie(c)?(n.enter("blockQuotePrefixWhitespace"),n.consume(c),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(c))}}function nx(n,e,t){const r=this;return o;function o(c){return Ie(c)?Ae(n,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return n.attempt(Ch,e,t)(c)}}function tx(n){n.exit("blockQuote")}const xh={name:"characterEscape",tokenize:rx};function rx(n,e,t){return r;function r(u){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(u),n.exit("escapeMarker"),o}function o(u){return $C(u)?(n.enter("characterEscapeValue"),n.consume(u),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(u)}}const Th={name:"characterReference",tokenize:ix};function ix(n,e,t){const r=this;let o=0,u,c;return d;function d(y){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),m}function m(y){return y===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(y),n.exit("characterReferenceMarkerNumeric"),p):(n.enter("characterReferenceValue"),u=31,c=fn,g(y))}function p(y){return y===88||y===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(y),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),u=6,c=HC,g):(n.enter("characterReferenceValue"),u=7,c=oa,g(y))}function g(y){if(y===59&&o){const C=n.exit("characterReferenceValue");return c===fn&&!Ra(r.sliceSerialize(C))?t(y):(n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return c(y)&&o++<u?(n.consume(y),g):t(y)}}const rp={partial:!0,tokenize:lx},ip={concrete:!0,name:"codeFenced",tokenize:ox};function ox(n,e,t){const r=this,o={partial:!0,tokenize:J};let u=0,c=0,d;return m;function m(L){return p(L)}function p(L){const K=r.events[r.events.length-1];return u=K&&K[1].type==="linePrefix"?K[2].sliceSerialize(K[1],!0).length:0,d=L,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),g(L)}function g(L){return L===d?(c++,n.consume(L),g):c<3?t(L):(n.exit("codeFencedFenceSequence"),Ie(L)?Ae(n,y,"whitespace")(L):y(L))}function y(L){return L===null||he(L)?(n.exit("codeFencedFence"),r.interrupt?e(L):n.check(rp,_,$)(L)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),C(L))}function C(L){return L===null||he(L)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),y(L)):Ie(L)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ae(n,T,"whitespace")(L)):L===96&&L===d?t(L):(n.consume(L),C)}function T(L){return L===null||he(L)?y(L):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),E(L))}function E(L){return L===null||he(L)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),y(L)):L===96&&L===d?t(L):(n.consume(L),E)}function _(L){return n.attempt(o,$,R)(L)}function R(L){return n.enter("lineEnding"),n.consume(L),n.exit("lineEnding"),A}function A(L){return u>0&&Ie(L)?Ae(n,z,"linePrefix",u+1)(L):z(L)}function z(L){return L===null||he(L)?n.check(rp,_,$)(L):(n.enter("codeFlowValue"),U(L))}function U(L){return L===null||he(L)?(n.exit("codeFlowValue"),z(L)):(n.consume(L),U)}function $(L){return n.exit("codeFenced"),e(L)}function J(L,K,ce){let Z=0;return F;function F(fe){return L.enter("lineEnding"),L.consume(fe),L.exit("lineEnding"),ne}function ne(fe){return L.enter("codeFencedFence"),Ie(fe)?Ae(L,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):Q(fe)}function Q(fe){return fe===d?(L.enter("codeFencedFenceSequence"),te(fe)):ce(fe)}function te(fe){return fe===d?(Z++,L.consume(fe),te):Z>=c?(L.exit("codeFencedFenceSequence"),Ie(fe)?Ae(L,re,"whitespace")(fe):re(fe)):ce(fe)}function re(fe){return fe===null||he(fe)?(L.exit("codeFencedFence"),K(fe)):ce(fe)}}}function lx(n,e,t){const r=this;return o;function o(c){return c===null?t(c):(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),u)}function u(c){return r.parser.lazy[r.now().line]?t(c):e(c)}}const Uu={name:"codeIndented",tokenize:ux},sx={partial:!0,tokenize:ax};function ux(n,e,t){const r=this;return o;function o(p){return n.enter("codeIndented"),Ae(n,u,"linePrefix",5)(p)}function u(p){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?c(p):t(p)}function c(p){return p===null?m(p):he(p)?n.attempt(sx,c,m)(p):(n.enter("codeFlowValue"),d(p))}function d(p){return p===null||he(p)?(n.exit("codeFlowValue"),c(p)):(n.consume(p),d)}function m(p){return n.exit("codeIndented"),e(p)}}function ax(n,e,t){const r=this;return o;function o(c){return r.parser.lazy[r.now().line]?t(c):he(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),o):Ae(n,u,"linePrefix",5)(c)}function u(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):he(c)?o(c):t(c)}}const cx={name:"codeText",previous:dx,resolve:fx,tokenize:px};function fx(n){let e=n.length-4,t=3,r,o;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)o===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(o=r):(r===e||n[r][1].type==="lineEnding")&&(n[o][1].type="codeTextData",r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return n}function dx(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function px(n,e,t){let r=0,o,u;return c;function c(y){return n.enter("codeText"),n.enter("codeTextSequence"),d(y)}function d(y){return y===96?(n.consume(y),r++,d):(n.exit("codeTextSequence"),m(y))}function m(y){return y===null?t(y):y===32?(n.enter("space"),n.consume(y),n.exit("space"),m):y===96?(u=n.enter("codeTextSequence"),o=0,g(y)):he(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),m):(n.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||he(y)?(n.exit("codeTextData"),m(y)):(n.consume(y),p)}function g(y){return y===96?(n.consume(y),o++,g):o===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(y)):(u.type="codeTextData",p(y))}}class mx{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const o=t||0;this.setCursor(Math.trunc(e));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&$i(this.left,r),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),$i(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),$i(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);$i(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);$i(this.left,t.reverse())}}}function $i(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function Sh(n){const e={};let t=-1,r,o,u,c,d,m,p;const g=new mx(n);for(;++t<g.length;){for(;t in e;)t=e[t];if(r=g.get(t),t&&r[1].type==="chunkFlow"&&g.get(t-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,u=0,u<m.length&&m[u][1].type==="lineEndingBlank"&&(u+=2),u<m.length&&m[u][1].type==="content"))for(;++u<m.length&&m[u][1].type!=="content";)m[u][1].type==="chunkText"&&(m[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,hx(g,t)),t=e[t],p=!0);else if(r[1]._container){for(u=t,o=void 0;u--;)if(c=g.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(g.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(r[1].end={...g.get(o)[1].start},d=g.slice(o,t),d.unshift(r),g.splice(o,t-o+1,d))}}return Nn(n,0,Number.POSITIVE_INFINITY,g.slice(0)),!p}function hx(n,e){const t=n.get(e)[1],r=n.get(e)[2];let o=e-1;const u=[];let c=t._tokenizer;c||(c=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,m=[],p={};let g,y,C=-1,T=t,E=0,_=0;const R=[_];for(;T;){for(;n.get(++o)[1]!==T;);u.push(o),T._tokenizer||(g=r.sliceStream(T),T.next||g.push(null),y&&c.defineSkip(T.start),T._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),T._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=T,T=T.next}for(T=t;++C<d.length;)d[C][0]==="exit"&&d[C-1][0]==="enter"&&d[C][1].type===d[C-1][1].type&&d[C][1].start.line!==d[C][1].end.line&&(_=C+1,R.push(_),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(c.events=[],T?(T._tokenizer=void 0,T.previous=void 0):R.pop(),C=R.length;C--;){const A=d.slice(R[C],R[C+1]),z=u.pop();m.push([z,z+A.length-1]),n.splice(z,2,A)}for(m.reverse(),C=-1;++C<m.length;)p[E+m[C][0]]=E+m[C][1],E+=m[C][1]-m[C][0]-1;return p}const gx={resolve:vx,tokenize:Cx},yx={partial:!0,tokenize:xx};function vx(n){return Sh(n),n}function Cx(n,e){let t;return r;function r(d){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?u(d):he(d)?n.check(yx,c,u)(d):(n.consume(d),o)}function u(d){return n.exit("chunkContent"),n.exit("content"),e(d)}function c(d){return n.consume(d),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,o}}function xx(n,e,t){const r=this;return o;function o(c){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),Ae(n,u,"linePrefix")}function u(c){if(c===null||he(c))return t(c);const d=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):n.interrupt(r.parser.constructs.flow,t,e)(c)}}function Eh(n,e,t,r,o,u,c,d,m){const p=m||Number.POSITIVE_INFINITY;let g=0;return y;function y(A){return A===60?(n.enter(r),n.enter(o),n.enter(u),n.consume(A),n.exit(u),C):A===null||A===32||A===41||_l(A)?t(A):(n.enter(r),n.enter(c),n.enter(d),n.enter("chunkString",{contentType:"string"}),_(A))}function C(A){return A===62?(n.enter(u),n.consume(A),n.exit(u),n.exit(o),n.exit(r),e):(n.enter(d),n.enter("chunkString",{contentType:"string"}),T(A))}function T(A){return A===62?(n.exit("chunkString"),n.exit(d),C(A)):A===null||A===60||he(A)?t(A):(n.consume(A),A===92?E:T)}function E(A){return A===60||A===62||A===92?(n.consume(A),T):T(A)}function _(A){return!g&&(A===null||A===41||Ue(A))?(n.exit("chunkString"),n.exit(d),n.exit(c),n.exit(r),e(A)):g<p&&A===40?(n.consume(A),g++,_):A===41?(n.consume(A),g--,_):A===null||A===32||A===40||_l(A)?t(A):(n.consume(A),A===92?R:_)}function R(A){return A===40||A===41||A===92?(n.consume(A),_):_(A)}}function wh(n,e,t,r,o,u){const c=this;let d=0,m;return p;function p(T){return n.enter(r),n.enter(o),n.consume(T),n.exit(o),n.enter(u),g}function g(T){return d>999||T===null||T===91||T===93&&!m||T===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?t(T):T===93?(n.exit(u),n.enter(o),n.consume(T),n.exit(o),n.exit(r),e):he(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),g):(n.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||T===91||T===93||he(T)||d++>999?(n.exit("chunkString"),g(T)):(n.consume(T),m||(m=!Ie(T)),T===92?C:y)}function C(T){return T===91||T===92||T===93?(n.consume(T),d++,y):y(T)}}function kh(n,e,t,r,o,u){let c;return d;function d(C){return C===34||C===39||C===40?(n.enter(r),n.enter(o),n.consume(C),n.exit(o),c=C===40?41:C,m):t(C)}function m(C){return C===c?(n.enter(o),n.consume(C),n.exit(o),n.exit(r),e):(n.enter(u),p(C))}function p(C){return C===c?(n.exit(u),m(c)):C===null?t(C):he(C)?(n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),Ae(n,p,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===c||C===null||he(C)?(n.exit("chunkString"),p(C)):(n.consume(C),C===92?y:g)}function y(C){return C===c||C===92?(n.consume(C),g):g(C)}}function Wi(n,e){let t;return r;function r(o){return he(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),t=!0,r):Ie(o)?Ae(n,r,t?"linePrefix":"lineSuffix")(o):e(o)}}const Tx={name:"definition",tokenize:Ex},Sx={partial:!0,tokenize:wx};function Ex(n,e,t){const r=this;let o;return u;function u(T){return n.enter("definition"),c(T)}function c(T){return wh.call(r,n,d,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function d(T){return o=Yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),T===58?(n.enter("definitionMarker"),n.consume(T),n.exit("definitionMarker"),m):t(T)}function m(T){return Ue(T)?Wi(n,p)(T):p(T)}function p(T){return Eh(n,g,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function g(T){return n.attempt(Sx,y,y)(T)}function y(T){return Ie(T)?Ae(n,C,"whitespace")(T):C(T)}function C(T){return T===null||he(T)?(n.exit("definition"),r.parser.defined.push(o),e(T)):t(T)}}function wx(n,e,t){return r;function r(d){return Ue(d)?Wi(n,o)(d):t(d)}function o(d){return kh(n,u,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function u(d){return Ie(d)?Ae(n,c,"whitespace")(d):c(d)}function c(d){return d===null||he(d)?e(d):t(d)}}const kx={name:"hardBreakEscape",tokenize:_x};function _x(n,e,t){return r;function r(u){return n.enter("hardBreakEscape"),n.consume(u),o}function o(u){return he(u)?(n.exit("hardBreakEscape"),e(u)):t(u)}}const Ix={name:"headingAtx",resolve:Ax,tokenize:Mx};function Ax(n,e){let t=n.length-2,r=3,o,u;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(o={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},u={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Nn(n,r,t-r+1,[["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e]])),n}function Mx(n,e,t){let r=0;return o;function o(g){return n.enter("atxHeading"),u(g)}function u(g){return n.enter("atxHeadingSequence"),c(g)}function c(g){return g===35&&r++<6?(n.consume(g),c):g===null||Ue(g)?(n.exit("atxHeadingSequence"),d(g)):t(g)}function d(g){return g===35?(n.enter("atxHeadingSequence"),m(g)):g===null||he(g)?(n.exit("atxHeading"),e(g)):Ie(g)?Ae(n,d,"whitespace")(g):(n.enter("atxHeadingText"),p(g))}function m(g){return g===35?(n.consume(g),m):(n.exit("atxHeadingSequence"),d(g))}function p(g){return g===null||g===35||Ue(g)?(n.exit("atxHeadingText"),d(g)):(n.consume(g),p)}}const Px=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],op=["pre","script","style","textarea"],Rx={concrete:!0,name:"htmlFlow",resolveTo:Lx,tokenize:Fx},Nx={partial:!0,tokenize:Vx},Dx={partial:!0,tokenize:Ux};function Lx(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function Fx(n,e,t){const r=this;let o,u,c,d,m;return p;function p(I){return g(I)}function g(I){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(I),y}function y(I){return I===33?(n.consume(I),C):I===47?(n.consume(I),u=!0,_):I===63?(n.consume(I),o=3,r.interrupt?e:w):yn(I)?(n.consume(I),c=String.fromCharCode(I),R):t(I)}function C(I){return I===45?(n.consume(I),o=2,T):I===91?(n.consume(I),o=5,d=0,E):yn(I)?(n.consume(I),o=4,r.interrupt?e:w):t(I)}function T(I){return I===45?(n.consume(I),r.interrupt?e:w):t(I)}function E(I){const ye="CDATA[";return I===ye.charCodeAt(d++)?(n.consume(I),d===ye.length?r.interrupt?e:Q:E):t(I)}function _(I){return yn(I)?(n.consume(I),c=String.fromCharCode(I),R):t(I)}function R(I){if(I===null||I===47||I===62||Ue(I)){const ye=I===47,Ee=c.toLowerCase();return!ye&&!u&&op.includes(Ee)?(o=1,r.interrupt?e(I):Q(I)):Px.includes(c.toLowerCase())?(o=6,ye?(n.consume(I),A):r.interrupt?e(I):Q(I)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(I):u?z(I):U(I))}return I===45||fn(I)?(n.consume(I),c+=String.fromCharCode(I),R):t(I)}function A(I){return I===62?(n.consume(I),r.interrupt?e:Q):t(I)}function z(I){return Ie(I)?(n.consume(I),z):F(I)}function U(I){return I===47?(n.consume(I),F):I===58||I===95||yn(I)?(n.consume(I),$):Ie(I)?(n.consume(I),U):F(I)}function $(I){return I===45||I===46||I===58||I===95||fn(I)?(n.consume(I),$):J(I)}function J(I){return I===61?(n.consume(I),L):Ie(I)?(n.consume(I),J):U(I)}function L(I){return I===null||I===60||I===61||I===62||I===96?t(I):I===34||I===39?(n.consume(I),m=I,K):Ie(I)?(n.consume(I),L):ce(I)}function K(I){return I===m?(n.consume(I),m=null,Z):I===null||he(I)?t(I):(n.consume(I),K)}function ce(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Ue(I)?J(I):(n.consume(I),ce)}function Z(I){return I===47||I===62||Ie(I)?U(I):t(I)}function F(I){return I===62?(n.consume(I),ne):t(I)}function ne(I){return I===null||he(I)?Q(I):Ie(I)?(n.consume(I),ne):t(I)}function Q(I){return I===45&&o===2?(n.consume(I),Te):I===60&&o===1?(n.consume(I),xe):I===62&&o===4?(n.consume(I),N):I===63&&o===3?(n.consume(I),w):I===93&&o===5?(n.consume(I),de):he(I)&&(o===6||o===7)?(n.exit("htmlFlowData"),n.check(Nx,H,te)(I)):I===null||he(I)?(n.exit("htmlFlowData"),te(I)):(n.consume(I),Q)}function te(I){return n.check(Dx,re,H)(I)}function re(I){return n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),fe}function fe(I){return I===null||he(I)?te(I):(n.enter("htmlFlowData"),Q(I))}function Te(I){return I===45?(n.consume(I),w):Q(I)}function xe(I){return I===47?(n.consume(I),c="",j):Q(I)}function j(I){if(I===62){const ye=c.toLowerCase();return op.includes(ye)?(n.consume(I),N):Q(I)}return yn(I)&&c.length<8?(n.consume(I),c+=String.fromCharCode(I),j):Q(I)}function de(I){return I===93?(n.consume(I),w):Q(I)}function w(I){return I===62?(n.consume(I),N):I===45&&o===2?(n.consume(I),w):Q(I)}function N(I){return I===null||he(I)?(n.exit("htmlFlowData"),H(I)):(n.consume(I),N)}function H(I){return n.exit("htmlFlow"),e(I)}}function Ux(n,e,t){const r=this;return o;function o(c){return he(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),u):t(c)}function u(c){return r.parser.lazy[r.now().line]?t(c):e(c)}}function Vx(n,e,t){return r;function r(o){return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),n.attempt(ji,e,t)}}const bx={name:"htmlText",tokenize:zx};function zx(n,e,t){const r=this;let o,u,c;return d;function d(w){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(w),m}function m(w){return w===33?(n.consume(w),p):w===47?(n.consume(w),J):w===63?(n.consume(w),U):yn(w)?(n.consume(w),ce):t(w)}function p(w){return w===45?(n.consume(w),g):w===91?(n.consume(w),u=0,E):yn(w)?(n.consume(w),z):t(w)}function g(w){return w===45?(n.consume(w),T):t(w)}function y(w){return w===null?t(w):w===45?(n.consume(w),C):he(w)?(c=y,xe(w)):(n.consume(w),y)}function C(w){return w===45?(n.consume(w),T):y(w)}function T(w){return w===62?Te(w):w===45?C(w):y(w)}function E(w){const N="CDATA[";return w===N.charCodeAt(u++)?(n.consume(w),u===N.length?_:E):t(w)}function _(w){return w===null?t(w):w===93?(n.consume(w),R):he(w)?(c=_,xe(w)):(n.consume(w),_)}function R(w){return w===93?(n.consume(w),A):_(w)}function A(w){return w===62?Te(w):w===93?(n.consume(w),A):_(w)}function z(w){return w===null||w===62?Te(w):he(w)?(c=z,xe(w)):(n.consume(w),z)}function U(w){return w===null?t(w):w===63?(n.consume(w),$):he(w)?(c=U,xe(w)):(n.consume(w),U)}function $(w){return w===62?Te(w):U(w)}function J(w){return yn(w)?(n.consume(w),L):t(w)}function L(w){return w===45||fn(w)?(n.consume(w),L):K(w)}function K(w){return he(w)?(c=K,xe(w)):Ie(w)?(n.consume(w),K):Te(w)}function ce(w){return w===45||fn(w)?(n.consume(w),ce):w===47||w===62||Ue(w)?Z(w):t(w)}function Z(w){return w===47?(n.consume(w),Te):w===58||w===95||yn(w)?(n.consume(w),F):he(w)?(c=Z,xe(w)):Ie(w)?(n.consume(w),Z):Te(w)}function F(w){return w===45||w===46||w===58||w===95||fn(w)?(n.consume(w),F):ne(w)}function ne(w){return w===61?(n.consume(w),Q):he(w)?(c=ne,xe(w)):Ie(w)?(n.consume(w),ne):Z(w)}function Q(w){return w===null||w===60||w===61||w===62||w===96?t(w):w===34||w===39?(n.consume(w),o=w,te):he(w)?(c=Q,xe(w)):Ie(w)?(n.consume(w),Q):(n.consume(w),re)}function te(w){return w===o?(n.consume(w),o=void 0,fe):w===null?t(w):he(w)?(c=te,xe(w)):(n.consume(w),te)}function re(w){return w===null||w===34||w===39||w===60||w===61||w===96?t(w):w===47||w===62||Ue(w)?Z(w):(n.consume(w),re)}function fe(w){return w===47||w===62||Ue(w)?Z(w):t(w)}function Te(w){return w===62?(n.consume(w),n.exit("htmlTextData"),n.exit("htmlText"),e):t(w)}function xe(w){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),j}function j(w){return Ie(w)?Ae(n,de,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):de(w)}function de(w){return n.enter("htmlTextData"),c(w)}}const Na={name:"labelEnd",resolveAll:$x,resolveTo:Gx,tokenize:Ox},Bx={tokenize:Jx},qx={tokenize:Wx},Hx={tokenize:Kx};function $x(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return n.length!==t.length&&Nn(n,0,n.length,t),n}function Gx(n,e){let t=n.length,r=0,o,u,c,d;for(;t--;)if(o=n[t][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;n[t][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(n[t][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=t,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(c=t);const m={type:n[u][1].type==="labelLink"?"link":"image",start:{...n[u][1].start},end:{...n[n.length-1][1].end}},p={type:"label",start:{...n[u][1].start},end:{...n[c][1].end}},g={type:"labelText",start:{...n[u+r+2][1].end},end:{...n[c-2][1].start}};return d=[["enter",m,e],["enter",p,e]],d=Bn(d,n.slice(u+1,u+r+3)),d=Bn(d,[["enter",g,e]]),d=Bn(d,Ul(e.parser.constructs.insideSpan.null,n.slice(u+r+4,c-3),e)),d=Bn(d,[["exit",g,e],n[c-2],n[c-1],["exit",p,e]]),d=Bn(d,n.slice(c+1)),d=Bn(d,[["exit",m,e]]),Nn(n,u,n.length,d),n}function Ox(n,e,t){const r=this;let o=r.events.length,u,c;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){u=r.events[o][1];break}return d;function d(C){return u?u._inactive?y(C):(c=r.parser.defined.includes(Yn(r.sliceSerialize({start:u.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(C),n.exit("labelMarker"),n.exit("labelEnd"),m):t(C)}function m(C){return C===40?n.attempt(Bx,g,c?g:y)(C):C===91?n.attempt(qx,g,c?p:y)(C):c?g(C):y(C)}function p(C){return n.attempt(Hx,g,y)(C)}function g(C){return e(C)}function y(C){return u._balanced=!0,t(C)}}function Jx(n,e,t){return r;function r(y){return n.enter("resource"),n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),o}function o(y){return Ue(y)?Wi(n,u)(y):u(y)}function u(y){return y===41?g(y):Eh(n,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return Ue(y)?Wi(n,m)(y):g(y)}function d(y){return t(y)}function m(y){return y===34||y===39||y===40?kh(n,p,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function p(y){return Ue(y)?Wi(n,g)(y):g(y)}function g(y){return y===41?(n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),n.exit("resource"),e):t(y)}}function Wx(n,e,t){const r=this;return o;function o(d){return wh.call(r,n,u,c,"reference","referenceMarker","referenceString")(d)}function u(d){return r.parser.defined.includes(Yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(d):t(d)}function c(d){return t(d)}}function Kx(n,e,t){return r;function r(u){return n.enter("reference"),n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),o}function o(u){return u===93?(n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),n.exit("reference"),e):t(u)}}const Yx={name:"labelStartImage",resolveAll:Na.resolveAll,tokenize:Qx};function Qx(n,e,t){const r=this;return o;function o(d){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(d),n.exit("labelImageMarker"),u}function u(d){return d===91?(n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelImage"),c):t(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(d):e(d)}}const Xx={name:"labelStartLink",resolveAll:Na.resolveAll,tokenize:Zx};function Zx(n,e,t){const r=this;return o;function o(c){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(c):e(c)}}const Vu={name:"lineEnding",tokenize:jx};function jx(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),Ae(n,e,"linePrefix")}}const El={name:"thematicBreak",tokenize:eT};function eT(n,e,t){let r=0,o;return u;function u(p){return n.enter("thematicBreak"),c(p)}function c(p){return o=p,d(p)}function d(p){return p===o?(n.enter("thematicBreakSequence"),m(p)):r>=3&&(p===null||he(p))?(n.exit("thematicBreak"),e(p)):t(p)}function m(p){return p===o?(n.consume(p),r++,m):(n.exit("thematicBreakSequence"),Ie(p)?Ae(n,d,"whitespace")(p):d(p))}}const wn={continuation:{tokenize:iT},exit:lT,name:"list",tokenize:rT},nT={partial:!0,tokenize:sT},tT={partial:!0,tokenize:oT};function rT(n,e,t){const r=this,o=r.events[r.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return d;function d(T){const E=r.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||T===r.containerState.marker:oa(T)){if(r.containerState.type||(r.containerState.type=E,n.enter(E,{_container:!0})),E==="listUnordered")return n.enter("listItemPrefix"),T===42||T===45?n.check(El,t,p)(T):p(T);if(!r.interrupt||T===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),m(T)}return t(T)}function m(T){return oa(T)&&++c<10?(n.consume(T),m):(!r.interrupt||c<2)&&(r.containerState.marker?T===r.containerState.marker:T===41||T===46)?(n.exit("listItemValue"),p(T)):t(T)}function p(T){return n.enter("listItemMarker"),n.consume(T),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||T,n.check(ji,r.interrupt?t:g,n.attempt(nT,C,y))}function g(T){return r.containerState.initialBlankLine=!0,u++,C(T)}function y(T){return Ie(T)?(n.enter("listItemPrefixWhitespace"),n.consume(T),n.exit("listItemPrefixWhitespace"),C):t(T)}function C(T){return r.containerState.size=u+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(T)}}function iT(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(ji,o,u);function o(d){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ae(n,e,"listItemIndent",r.containerState.size+1)(d)}function u(d){return r.containerState.furtherBlankLines||!Ie(d)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(d)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(tT,e,c)(d))}function c(d){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ae(n,n.attempt(wn,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function oT(n,e,t){const r=this;return Ae(n,o,"listItemIndent",r.containerState.size+1);function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?e(u):t(u)}}function lT(n){n.exit(this.containerState.type)}function sT(n,e,t){const r=this;return Ae(n,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const c=r.events[r.events.length-1];return!Ie(u)&&c&&c[1].type==="listItemPrefixWhitespace"?e(u):t(u)}}const lp={name:"setextUnderline",resolveTo:uT,tokenize:aT};function uT(n,e){let t=n.length,r,o,u;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(o=t)}else n[t][1].type==="content"&&n.splice(t,1),!u&&n[t][1].type==="definition"&&(u=t);const c={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[o][1].type="setextHeadingText",u?(n.splice(o,0,["enter",c,e]),n.splice(u+1,0,["exit",n[r][1],e]),n[r][1].end={...n[u][1].end}):n[r][1]=c,n.push(["exit",c,e]),n}function aT(n,e,t){const r=this;let o;return u;function u(p){let g=r.events.length,y;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){y=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(n.enter("setextHeadingLine"),o=p,c(p)):t(p)}function c(p){return n.enter("setextHeadingLineSequence"),d(p)}function d(p){return p===o?(n.consume(p),d):(n.exit("setextHeadingLineSequence"),Ie(p)?Ae(n,m,"lineSuffix")(p):m(p))}function m(p){return p===null||he(p)?(n.exit("setextHeadingLine"),e(p)):t(p)}}const cT={tokenize:fT};function fT(n){const e=this,t=n.attempt(ji,r,n.attempt(this.parser.constructs.flowInitial,o,Ae(n,n.attempt(this.parser.constructs.flow,o,n.attempt(gx,o)),"linePrefix")));return t;function r(u){if(u===null){n.consume(u);return}return n.enter("lineEndingBlank"),n.consume(u),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function o(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const dT={resolveAll:Ih()},pT=_h("string"),mT=_h("text");function _h(n){return{resolveAll:Ih(n==="text"?hT:void 0),tokenize:e};function e(t){const r=this,o=this.parser.constructs[n],u=t.attempt(o,c,d);return c;function c(g){return p(g)?u(g):d(g)}function d(g){if(g===null){t.consume(g);return}return t.enter("data"),t.consume(g),m}function m(g){return p(g)?(t.exit("data"),u(g)):(t.consume(g),m)}function p(g){if(g===null)return!0;const y=o[g];let C=-1;if(y)for(;++C<y.length;){const T=y[C];if(!T.previous||T.previous.call(r,r.previous))return!0}return!1}}}function Ih(n){return e;function e(t,r){let o=-1,u;for(;++o<=t.length;)u===void 0?t[o]&&t[o][1].type==="data"&&(u=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==u+2&&(t[u][1].end=t[o-1][1].end,t.splice(u+2,o-u-2),o=u+2),u=void 0);return n?n(t,r):t}}function hT(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],o=e.sliceStream(r);let u=o.length,c=-1,d=0,m;for(;u--;){const p=o[u];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(p===-2)m=!0,d++;else if(p!==-1){u++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(d=0),d){const p={type:t===n.length||m||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:r.start._bufferIndex+c,_index:r.start._index+u,line:r.end.line,column:r.end.column-d,offset:r.end.offset-d},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(n.splice(t,0,["enter",p,e],["exit",p,e]),t+=2)}t++}return n}const gT={42:wn,43:wn,45:wn,48:wn,49:wn,50:wn,51:wn,52:wn,53:wn,54:wn,55:wn,56:wn,57:wn,62:Ch},yT={91:Tx},vT={[-2]:Uu,[-1]:Uu,32:Uu},CT={35:Ix,42:El,45:[lp,El],60:Rx,61:lp,95:El,96:ip,126:ip},xT={38:Th,92:xh},TT={[-5]:Vu,[-4]:Vu,[-3]:Vu,33:Yx,38:Th,42:la,60:[XC,bx],91:Xx,92:[kx,xh],93:Na,95:la,96:cx},ST={null:[la,dT]},ET={null:[42,95]},wT={null:[]},kT=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ET,contentInitial:yT,disable:wT,document:gT,flow:CT,flowInitial:vT,insideSpan:ST,string:xT,text:TT},Symbol.toStringTag,{value:"Module"}));function _T(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const o={},u=[];let c=[],d=[];const m={attempt:K(J),check:K(L),consume:z,enter:U,exit:$,interrupt:K(L,{interrupt:!0})},p={code:null,containerState:{},defineSkip:_,events:[],now:E,parser:n,previous:null,sliceSerialize:C,sliceStream:T,write:y};let g=e.tokenize.call(p,m);return e.resolveAll&&u.push(e),p;function y(ne){return c=Bn(c,ne),R(),c[c.length-1]!==null?[]:(ce(e,0),p.events=Ul(u,p.events,p),p.events)}function C(ne,Q){return AT(T(ne),Q)}function T(ne){return IT(c,ne)}function E(){const{_bufferIndex:ne,_index:Q,line:te,column:re,offset:fe}=r;return{_bufferIndex:ne,_index:Q,line:te,column:re,offset:fe}}function _(ne){o[ne.line]=ne.column,F()}function R(){let ne;for(;r._index<c.length;){const Q=c[r._index];if(typeof Q=="string")for(ne=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ne&&r._bufferIndex<Q.length;)A(Q.charCodeAt(r._bufferIndex));else A(Q)}}function A(ne){g=g(ne)}function z(ne){he(ne)?(r.line++,r.column=1,r.offset+=ne===-3?2:1,F()):ne!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=ne}function U(ne,Q){const te=Q||{};return te.type=ne,te.start=E(),p.events.push(["enter",te,p]),d.push(te),te}function $(ne){const Q=d.pop();return Q.end=E(),p.events.push(["exit",Q,p]),Q}function J(ne,Q){ce(ne,Q.from)}function L(ne,Q){Q.restore()}function K(ne,Q){return te;function te(re,fe,Te){let xe,j,de,w;return Array.isArray(re)?H(re):"tokenize"in re?H([re]):N(re);function N(ge){return Re;function Re(we){const Le=we!==null&&ge[we],Ke=we!==null&&ge.null,lt=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(Ke)?Ke:Ke?[Ke]:[]];return H(lt)(we)}}function H(ge){return xe=ge,j=0,ge.length===0?Te:I(ge[j])}function I(ge){return Re;function Re(we){return w=Z(),de=ge,ge.partial||(p.currentConstruct=ge),ge.name&&p.parser.constructs.disable.null.includes(ge.name)?Ee():ge.tokenize.call(Q?Object.assign(Object.create(p),Q):p,m,ye,Ee)(we)}}function ye(ge){return ne(de,w),fe}function Ee(ge){return w.restore(),++j<xe.length?I(xe[j]):Te}}}function ce(ne,Q){ne.resolveAll&&!u.includes(ne)&&u.push(ne),ne.resolve&&Nn(p.events,Q,p.events.length-Q,ne.resolve(p.events.slice(Q),p)),ne.resolveTo&&(p.events=ne.resolveTo(p.events,p))}function Z(){const ne=E(),Q=p.previous,te=p.currentConstruct,re=p.events.length,fe=Array.from(d);return{from:re,restore:Te};function Te(){r=ne,p.previous=Q,p.currentConstruct=te,p.events.length=re,d=fe,F()}}function F(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function IT(n,e){const t=e.start._index,r=e.start._bufferIndex,o=e.end._index,u=e.end._bufferIndex;let c;if(t===o)c=[n[t].slice(r,u)];else{if(c=n.slice(t,o),r>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(r):c.shift()}u>0&&c.push(n[o].slice(0,u))}return c}function AT(n,e){let t=-1;const r=[];let o;for(;++t<n.length;){const u=n[t];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&o)continue;c=" ";break}default:c=String.fromCharCode(u)}o=u===-2,r.push(c)}return r.join("")}function MT(n){const r={constructs:yh([kT,...(n||{}).extensions||[]]),content:o(GC),defined:[],document:o(JC),flow:o(cT),lazy:{},string:o(pT),text:o(mT)};return r;function o(u){return c;function c(d){return _T(r,u,d)}}}function PT(n){for(;!Sh(n););return n}const sp=/[\0\t\n\r]/g;function RT(){let n=1,e="",t=!0,r;return o;function o(u,c,d){const m=[];let p,g,y,C,T;for(u=e+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),y=0,e="",t&&(u.charCodeAt(0)===65279&&y++,t=void 0);y<u.length;){if(sp.lastIndex=y,p=sp.exec(u),C=p&&p.index!==void 0?p.index:u.length,T=u.charCodeAt(C),!p){e=u.slice(y);break}if(T===10&&y===C&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),y<C&&(m.push(u.slice(y,C)),n+=C-y),T){case 0:{m.push(65533),n++;break}case 9:{for(g=Math.ceil(n/4)*4,m.push(-2);n++<g;)m.push(-1);break}case 10:{m.push(-4),n=1;break}default:r=!0,n=1}y=C+1}return d&&(r&&m.push(-5),e&&m.push(e),m.push(null)),m}}const NT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function DT(n){return n.replace(NT,LT)}function LT(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const o=t.charCodeAt(1),u=o===120||o===88;return vh(t.slice(u?2:1),u?16:10)}return Ra(t)||n}const Ah={}.hasOwnProperty;function FT(n,e,t){return typeof e!="string"&&(t=e,e=void 0),UT(t)(PT(MT(t).document().write(RT()(n,e,!0))))}function UT(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(fr),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:u(ei),blockQuote:u(Ke),characterEscape:Z,characterReference:Z,codeFenced:u(lt),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(lt,c),codeText:u(to,c),codeTextData:Z,data:Z,codeFlowValue:Z,definition:u(ar),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(jr),hardBreakEscape:u(ni),hardBreakTrailing:u(ni),htmlFlow:u(cr,c),htmlFlowData:Z,htmlText:u(cr,c),htmlTextData:Z,image:u(ro),label:c,link:u(fr),listItem:u(Ct),listItemValue:C,listOrdered:u(vt,y),listUnordered:u(vt),paragraph:u(ti),reference:I,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(ei),strong:u(io),thematicBreak:u(lo)},exit:{atxHeading:m(),atxHeadingSequence:J,autolink:m(),autolinkEmail:Le,autolinkProtocol:we,blockQuote:m(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:ge,characterReference:Re,codeFenced:m(R),codeFencedFence:_,codeFencedFenceInfo:T,codeFencedFenceMeta:E,codeFlowValue:F,codeIndented:m(A),codeText:m(fe),codeTextData:F,data:F,definition:m(),definitionDestinationString:$,definitionLabelString:z,definitionTitleString:U,emphasis:m(),hardBreakEscape:m(Q),hardBreakTrailing:m(Q),htmlFlow:m(te),htmlFlowData:F,htmlText:m(re),htmlTextData:F,image:m(xe),label:de,labelText:j,lineEnding:ne,link:m(Te),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ye,resourceDestinationString:w,resourceTitleString:N,resource:H,setextHeading:m(ce),setextHeadingLineSequence:K,setextHeadingText:L,strong:m(),thematicBreak:m()}};Mh(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(q){let ee={type:"root",children:[]};const ve={stack:[ee],tokenStack:[],config:e,enter:d,exit:p,buffer:c,resume:g,data:t},ke=[];let Me=-1;for(;++Me<q.length;)if(q[Me][1].type==="listOrdered"||q[Me][1].type==="listUnordered")if(q[Me][0]==="enter")ke.push(Me);else{const tn=ke.pop();Me=o(q,tn,Me)}for(Me=-1;++Me<q.length;){const tn=e[q[Me][0]];Ah.call(tn,q[Me][1].type)&&tn[q[Me][1].type].call(Object.assign({sliceSerialize:q[Me][2].sliceSerialize},ve),q[Me][1])}if(ve.tokenStack.length>0){const tn=ve.tokenStack[ve.tokenStack.length-1];(tn[1]||up).call(ve,void 0,tn[0])}for(ee.position={start:Bt(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:Bt(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)ee=e.transforms[Me](ee)||ee;return ee}function o(q,ee,ve){let ke=ee-1,Me=-1,tn=!1,st,Dn,xt,$t;for(;++ke<=ve;){const rn=q[ke];switch(rn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rn[0]==="enter"?Me++:Me--,$t=void 0;break}case"lineEndingBlank":{rn[0]==="enter"&&(st&&!$t&&!Me&&!xt&&(xt=ke),$t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$t=void 0}if(!Me&&rn[0]==="enter"&&rn[1].type==="listItemPrefix"||Me===-1&&rn[0]==="exit"&&(rn[1].type==="listUnordered"||rn[1].type==="listOrdered")){if(st){let Xn=ke;for(Dn=void 0;Xn--;){const _n=q[Xn];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;Dn&&(q[Dn][1].type="lineEndingBlank",tn=!0),_n[1].type="lineEnding",Dn=Xn}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}xt&&(!Dn||xt<Dn)&&(st._spread=!0),st.end=Object.assign({},Dn?q[Dn][1].start:rn[1].end),q.splice(Dn||ke,0,["exit",st,rn[2]]),ke++,ve++}if(rn[1].type==="listItemPrefix"){const Xn={type:"listItem",_spread:!1,start:Object.assign({},rn[1].start),end:void 0};st=Xn,q.splice(ke,0,["enter",Xn,rn[2]]),ke++,ve++,xt=void 0,$t=!0}}}return q[ee][1]._spread=tn,ve}function u(q,ee){return ve;function ve(ke){d.call(this,q(ke),ke),ee&&ee.call(this,ke)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(q,ee,ve){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([ee,ve||void 0]),q.position={start:Bt(ee.start),end:void 0}}function m(q){return ee;function ee(ve){q&&q.call(this,ve),p.call(this,ve)}}function p(q,ee){const ve=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==q.type&&(ee?ee.call(this,q,ke[0]):(ke[1]||up).call(this,q,ke[0]));else throw new Error("Cannot close `"+q.type+"` ("+Ji({start:q.start,end:q.end})+"): it’s not open");ve.position.end=Bt(q.end)}function g(){return Pa(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function C(q){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function T(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=q}function E(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=q}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q.replace(/(\r?\n|\r)$/g,"")}function z(q){const ee=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ee,ve.identifier=Yn(this.sliceSerialize(q)).toLowerCase()}function U(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.title=q}function $(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.url=q}function J(q){const ee=this.stack[this.stack.length-1];if(!ee.depth){const ve=this.sliceSerialize(q).length;ee.depth=ve}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function K(q){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function ce(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(q){const ve=this.stack[this.stack.length-1].children;let ke=ve[ve.length-1];(!ke||ke.type!=="text")&&(ke=oo(),ke.position={start:Bt(q.start),end:void 0},ve.push(ke)),this.stack.push(ke)}function F(q){const ee=this.stack.pop();ee.value+=this.sliceSerialize(q),ee.position.end=Bt(q.end)}function ne(q){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ee.children[ee.children.length-1];ve.position.end=Bt(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ee.type)&&(Z.call(this,q),F.call(this,q))}function Q(){this.data.atHardBreak=!0}function te(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q}function re(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q}function fe(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q}function Te(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ee,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function xe(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ee,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function j(q){const ee=this.sliceSerialize(q),ve=this.stack[this.stack.length-2];ve.label=DT(ee),ve.identifier=Yn(ee).toLowerCase()}function de(){const q=this.stack[this.stack.length-1],ee=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const ke=q.children;ve.children=ke}else ve.alt=ee}function w(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.url=q}function N(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.title=q}function H(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function ye(q){const ee=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ee,ve.identifier=Yn(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function Ee(q){this.data.characterReferenceType=q.type}function ge(q){const ee=this.sliceSerialize(q),ve=this.data.characterReferenceType;let ke;ve?(ke=vh(ee,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=Ra(ee);const Me=this.stack[this.stack.length-1];Me.value+=ke}function Re(q){const ee=this.stack.pop();ee.position.end=Bt(q.end)}function we(q){F.call(this,q);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(q)}function Le(q){F.call(this,q);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(q)}function Ke(){return{type:"blockquote",children:[]}}function lt(){return{type:"code",lang:null,meta:null,value:""}}function to(){return{type:"inlineCode",value:""}}function ar(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function jr(){return{type:"emphasis",children:[]}}function ei(){return{type:"heading",depth:0,children:[]}}function ni(){return{type:"break"}}function cr(){return{type:"html",value:""}}function ro(){return{type:"image",title:null,url:"",alt:null}}function fr(){return{type:"link",title:null,url:"",children:[]}}function vt(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function Ct(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function ti(){return{type:"paragraph",children:[]}}function io(){return{type:"strong",children:[]}}function oo(){return{type:"text",value:""}}function lo(){return{type:"thematicBreak"}}}function Bt(n){return{line:n.line,column:n.column,offset:n.offset}}function Mh(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?Mh(n,r):VT(n,r)}}function VT(n,e){let t;for(t in e)if(Ah.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function up(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Ji({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Ji({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ji({start:e.start,end:e.end})+") is still open")}function bT(n){const e=this;e.parser=t;function t(r){return FT(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function zT(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function BT(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function qT(n,e){const t=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(o.data={meta:e.meta}),n.patch(e,o),o=n.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},n.patch(e,o),o}function HT(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function $T(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function GT(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),o=Kr(r.toLowerCase()),u=n.footnoteOrder.indexOf(r);let c,d=n.footnoteCounts.get(r);d===void 0?(d=0,n.footnoteOrder.push(r),c=n.footnoteOrder.length):c=u+1,d+=1,n.footnoteCounts.set(r,d);const m={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+o,id:t+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};n.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return n.patch(e,p),n.applyData(e,p)}function OT(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function JT(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function Ph(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const o=n.all(e),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=r:o.push({type:"text",value:r}),o}function WT(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return Ph(n,e);const o={src:Kr(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const u={type:"element",tagName:"img",properties:o,children:[]};return n.patch(e,u),n.applyData(e,u)}function KT(n,e){const t={src:Kr(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function YT(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function QT(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return Ph(n,e);const o={href:Kr(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const u={type:"element",tagName:"a",properties:o,children:n.all(e)};return n.patch(e,u),n.applyData(e,u)}function XT(n,e){const t={href:Kr(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function ZT(n,e,t){const r=n.all(e),o=t?jT(t):Rh(e),u={},c=[];if(typeof e.checked=="boolean"){const g=r[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let d=-1;for(;++d<r.length;){const g=r[d];(o||d!==0||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!o?c.push(...g.children):c.push(g)}const m=r[r.length-1];m&&(o||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:u,children:c};return n.patch(e,p),n.applyData(e,p)}function jT(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=Rh(t[r])}return e}function Rh(n){const e=n.spread;return e??n.children.length>1}function eS(n,e){const t={},r=n.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++o<r.length;){const c=r[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const u={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,u),n.applyData(e,u)}function nS(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function tS(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function rS(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function iS(n,e){const t=n.all(e),r=t.shift(),o=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],c),o.push(c)}if(t.length>0){const c={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},d=_a(e.children[1]),m=ch(e.children[e.children.length-1]);d&&m&&(c.position={start:d,end:m}),o.push(c)}const u={type:"element",tagName:"table",properties:{},children:n.wrap(o,!0)};return n.patch(e,u),n.applyData(e,u)}function oS(n,e,t){const r=t?t.children:void 0,u=(r?r.indexOf(e):1)===0?"th":"td",c=t&&t.type==="table"?t.align:void 0,d=c?c.length:e.children.length;let m=-1;const p=[];for(;++m<d;){const y=e.children[m],C={},T=c?c[m]:void 0;T&&(C.align=T);let E={type:"element",tagName:u,properties:C,children:[]};y&&(E.children=n.all(y),n.patch(y,E),E=n.applyData(y,E)),p.push(E)}const g={type:"element",tagName:"tr",properties:{},children:n.wrap(p,!0)};return n.patch(e,g),n.applyData(e,g)}function lS(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const ap=9,cp=32;function sS(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),o=0;const u=[];for(;r;)u.push(fp(e.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=t.exec(e);return u.push(fp(e.slice(o),o>0,!1)),u.join("")}function fp(n,e,t){let r=0,o=n.length;if(e){let u=n.codePointAt(r);for(;u===ap||u===cp;)r++,u=n.codePointAt(r)}if(t){let u=n.codePointAt(o-1);for(;u===ap||u===cp;)o--,u=n.codePointAt(o-1)}return o>r?n.slice(r,o):""}function uS(n,e){const t={type:"text",value:sS(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function aS(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const cS={blockquote:zT,break:BT,code:qT,delete:HT,emphasis:$T,footnoteReference:GT,heading:OT,html:JT,imageReference:WT,image:KT,inlineCode:YT,linkReference:QT,link:XT,listItem:ZT,list:eS,paragraph:nS,root:tS,strong:rS,table:iS,tableCell:lS,tableRow:oS,text:uS,thematicBreak:aS,toml:gl,yaml:gl,definition:gl,footnoteDefinition:gl};function gl(){}const Nh=-1,Vl=0,Ki=1,Il=2,Da=3,La=4,Fa=5,Ua=6,Dh=7,Lh=8,dp=typeof self=="object"?self:globalThis,fS=(n,e)=>{const t=(o,u)=>(n.set(u,o),o),r=o=>{if(n.has(o))return n.get(o);const[u,c]=e[o];switch(u){case Vl:case Nh:return t(c,o);case Ki:{const d=t([],o);for(const m of c)d.push(r(m));return d}case Il:{const d=t({},o);for(const[m,p]of c)d[r(m)]=r(p);return d}case Da:return t(new Date(c),o);case La:{const{source:d,flags:m}=c;return t(new RegExp(d,m),o)}case Fa:{const d=t(new Map,o);for(const[m,p]of c)d.set(r(m),r(p));return d}case Ua:{const d=t(new Set,o);for(const m of c)d.add(r(m));return d}case Dh:{const{name:d,message:m}=c;return t(new dp[d](m),o)}case Lh:return t(BigInt(c),o);case"BigInt":return t(Object(BigInt(c)),o);case"ArrayBuffer":return t(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return t(new DataView(d),c)}}return t(new dp[u](c),o)};return r},pp=n=>fS(new Map,n)(0),Vr="",{toString:dS}={},{keys:pS}=Object,Gi=n=>{const e=typeof n;if(e!=="object"||!n)return[Vl,e];const t=dS.call(n).slice(8,-1);switch(t){case"Array":return[Ki,Vr];case"Object":return[Il,Vr];case"Date":return[Da,Vr];case"RegExp":return[La,Vr];case"Map":return[Fa,Vr];case"Set":return[Ua,Vr];case"DataView":return[Ki,t]}return t.includes("Array")?[Ki,t]:t.includes("Error")?[Dh,t]:[Il,t]},yl=([n,e])=>n===Vl&&(e==="function"||e==="symbol"),mS=(n,e,t,r)=>{const o=(c,d)=>{const m=r.push(c)-1;return t.set(d,m),m},u=c=>{if(t.has(c))return t.get(c);let[d,m]=Gi(c);switch(d){case Vl:{let g=c;switch(m){case"bigint":d=Lh,g=c.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+m);g=null;break;case"undefined":return o([Nh],c)}return o([d,g],c)}case Ki:{if(m){let C=c;return m==="DataView"?C=new Uint8Array(c.buffer):m==="ArrayBuffer"&&(C=new Uint8Array(c)),o([m,[...C]],c)}const g=[],y=o([d,g],c);for(const C of c)g.push(u(C));return y}case Il:{if(m)switch(m){case"BigInt":return o([m,c.toString()],c);case"Boolean":case"Number":case"String":return o([m,c.valueOf()],c)}if(e&&"toJSON"in c)return u(c.toJSON());const g=[],y=o([d,g],c);for(const C of pS(c))(n||!yl(Gi(c[C])))&&g.push([u(C),u(c[C])]);return y}case Da:return o([d,c.toISOString()],c);case La:{const{source:g,flags:y}=c;return o([d,{source:g,flags:y}],c)}case Fa:{const g=[],y=o([d,g],c);for(const[C,T]of c)(n||!(yl(Gi(C))||yl(Gi(T))))&&g.push([u(C),u(T)]);return y}case Ua:{const g=[],y=o([d,g],c);for(const C of c)(n||!yl(Gi(C)))&&g.push(u(C));return y}}const{message:p}=c;return o([d,{name:m,message:p}],c)};return u},mp=(n,{json:e,lossy:t}={})=>{const r=[];return mS(!(e||t),!!e,new Map,r)(n),r},Al=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?pp(mp(n,e)):structuredClone(n):(n,e)=>pp(mp(n,e));function hS(n,e){const t=[{type:"text",value:"↩"}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function gS(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function yS(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||hS,r=n.options.footnoteBackLabel||gS,o=n.options.footnoteLabel||"Footnotes",u=n.options.footnoteLabelTagName||"h2",c=n.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let m=-1;for(;++m<n.footnoteOrder.length;){const p=n.footnoteById.get(n.footnoteOrder[m]);if(!p)continue;const g=n.all(p),y=String(p.identifier).toUpperCase(),C=Kr(y.toLowerCase());let T=0;const E=[],_=n.footnoteCounts.get(y);for(;_!==void 0&&++T<=_;){E.length>0&&E.push({type:"text",value:" "});let z=typeof t=="string"?t:t(m,T);typeof z=="string"&&(z={type:"text",value:z}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+C+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,T),className:["data-footnote-backref"]},children:Array.isArray(z)?z:[z]})}const R=g[g.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const z=R.children[R.children.length-1];z&&z.type==="text"?z.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...E)}else g.push(...E);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+C},children:n.wrap(g,!0)};n.patch(p,A),d.push(A)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Al(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(d,!0)},{type:"text",value:`
`}]}}const bl=(function(n){if(n==null)return TS;if(typeof n=="function")return zl(n);if(typeof n=="object")return Array.isArray(n)?vS(n):CS(n);if(typeof n=="string")return xS(n);throw new Error("Expected function, string, or object as test")});function vS(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=bl(n[t]);return zl(r);function r(...o){let u=-1;for(;++u<e.length;)if(e[u].apply(this,o))return!0;return!1}}function CS(n){const e=n;return zl(t);function t(r){const o=r;let u;for(u in n)if(o[u]!==e[u])return!1;return!0}}function xS(n){return zl(e);function e(t){return t&&t.type===n}}function zl(n){return e;function e(t,r,o){return!!(SS(t)&&n.call(this,t,typeof r=="number"?r:void 0,o||void 0))}}function TS(){return!0}function SS(n){return n!==null&&typeof n=="object"&&"type"in n}const Fh=[],ES=!0,sa=!1,wS="skip";function Uh(n,e,t,r){let o;typeof e=="function"&&typeof t!="function"?(r=t,t=e):o=e;const u=bl(o),c=r?-1:1;d(n,void 0,[])();function d(m,p,g){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const T=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(C,"name",{value:"node ("+(m.type+(T?"<"+T+">":""))+")"})}return C;function C(){let T=Fh,E,_,R;if((!e||u(m,p,g[g.length-1]||void 0))&&(T=kS(t(m,g)),T[0]===sa))return T;if("children"in m&&m.children){const A=m;if(A.children&&T[0]!==wS)for(_=(r?A.children.length:-1)+c,R=g.concat(A);_>-1&&_<A.children.length;){const z=A.children[_];if(E=d(z,_,R)(),E[0]===sa)return E;_=typeof E[1]=="number"?E[1]:_+c}}return T}}}function kS(n){return Array.isArray(n)?n:typeof n=="number"?[ES,n]:n==null?Fh:[n]}function Va(n,e,t,r){let o,u,c;typeof e=="function"&&typeof t!="function"?(u=void 0,c=e,o=t):(u=e,c=t,o=r),Uh(n,u,d,o);function d(m,p){const g=p[p.length-1],y=g?g.children.indexOf(m):void 0;return c(m,y,g)}}const ua={}.hasOwnProperty,_S={};function IS(n,e){const t=e||_S,r=new Map,o=new Map,u=new Map,c={...cS,...t.handlers},d={all:p,applyData:MS,definitionById:r,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:c,one:m,options:t,patch:AS,wrap:RS};return Va(n,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?r:o,C=String(g.identifier).toUpperCase();y.has(C)||y.set(C,g)}}),d;function m(g,y){const C=g.type,T=d.handlers[C];if(ua.call(d.handlers,C)&&T)return T(d,g,y);if(d.options.passThrough&&d.options.passThrough.includes(C)){if("children"in g){const{children:_,...R}=g,A=Al(R);return A.children=d.all(g),A}return Al(g)}return(d.options.unknownHandler||PS)(d,g,y)}function p(g){const y=[];if("children"in g){const C=g.children;let T=-1;for(;++T<C.length;){const E=d.one(C[T],g);if(E){if(T&&C[T-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=hp(E.value)),!Array.isArray(E)&&E.type==="element")){const _=E.children[0];_&&_.type==="text"&&(_.value=hp(_.value))}Array.isArray(E)?y.push(...E):y.push(E)}}}return y}}function AS(n,e){n.position&&(e.position=gC(n))}function MS(n,e){let t=e;if(n&&n.data){const r=n.data.hName,o=n.data.hChildren,u=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const c="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:c}}t.type==="element"&&u&&Object.assign(t.properties,Al(u)),"children"in t&&t.children&&o!==null&&o!==void 0&&(t.children=o)}return t}function PS(n,e){const t=e.data||{},r="value"in e&&!(ua.call(t,"hProperties")||ua.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function RS(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function hp(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function gp(n,e){const t=IS(n,e),r=t.one(n,void 0),o=yS(t),u=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function NS(n,e){return n&&"run"in n?async function(t,r){const o=gp(t,{file:r,...e});await n.run(o,r)}:function(t,r){return gp(t,{file:r,...n||e})}}function yp(n){if(n)throw n}var bu,vp;function DS(){if(vp)return bu;vp=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},u=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var g=n.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&n.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!g&&!y)return!1;var C;for(C in p);return typeof C>"u"||n.call(p,C)},c=function(p,g){t&&g.name==="__proto__"?t(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},d=function(p,g){if(g==="__proto__")if(n.call(p,g)){if(r)return r(p,g).value}else return;return p[g]};return bu=function m(){var p,g,y,C,T,E,_=arguments[0],R=1,A=arguments.length,z=!1;for(typeof _=="boolean"&&(z=_,_=arguments[1]||{},R=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});R<A;++R)if(p=arguments[R],p!=null)for(g in p)y=d(_,g),C=d(p,g),_!==C&&(z&&C&&(u(C)||(T=o(C)))?(T?(T=!1,E=y&&o(y)?y:[]):E=y&&u(y)?y:{},c(_,{name:g,newValue:m(z,E,C)})):typeof C<"u"&&c(_,{name:g,newValue:C}));return _},bu}var LS=DS();const zu=Ll(LS);function aa(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function FS(){const n=[],e={run:t,use:r};return e;function t(...o){let u=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...o);function d(m,...p){const g=n[++u];let y=-1;if(m){c(m);return}for(;++y<o.length;)(p[y]===null||p[y]===void 0)&&(p[y]=o[y]);o=p,g?US(g,d)(...p):c(null,...p)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return n.push(o),e}}function US(n,e){let t;return r;function r(...c){const d=n.length>c.length;let m;d&&c.push(o);try{m=n.apply(this,c)}catch(p){const g=p;if(d&&t)throw g;return o(g)}d||(m&&m.then&&typeof m.then=="function"?m.then(u,o):m instanceof Error?o(m):u(m))}function o(c,...d){t||(t=!0,e(c,...d))}function u(c){o(null,c)}}const it={basename:VS,dirname:bS,extname:zS,join:BS,sep:"/"};function VS(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');eo(n);let t=0,r=-1,o=n.length,u;if(e===void 0||e.length===0||e.length>n.length){for(;o--;)if(n.codePointAt(o)===47){if(u){t=o+1;break}}else r<0&&(u=!0,r=o+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let c=-1,d=e.length-1;for(;o--;)if(n.codePointAt(o)===47){if(u){t=o+1;break}}else c<0&&(u=!0,c=o+1),d>-1&&(n.codePointAt(o)===e.codePointAt(d--)?d<0&&(r=o):(d=-1,r=c));return t===r?r=c:r<0&&(r=n.length),n.slice(t,r)}function bS(n){if(eo(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function zS(n){eo(n);let e=n.length,t=-1,r=0,o=-1,u=0,c;for(;e--;){const d=n.codePointAt(e);if(d===47){if(c){r=e+1;break}continue}t<0&&(c=!0,t=e+1),d===46?o<0?o=e:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||t<0||u===0||u===1&&o===t-1&&o===r+1?"":n.slice(o,t)}function BS(...n){let e=-1,t;for(;++e<n.length;)eo(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":qS(t)}function qS(n){eo(n);const e=n.codePointAt(0)===47;let t=HS(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function HS(n,e){let t="",r=0,o=-1,u=0,c=-1,d,m;for(;++c<=n.length;){if(c<n.length)d=n.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(o===c-1||u===1))if(o!==c-1&&u===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(m=t.lastIndexOf("/"),m!==t.length-1){m<0?(t="",r=0):(t=t.slice(0,m),r=t.length-1-t.lastIndexOf("/")),o=c,u=0;continue}}else if(t.length>0){t="",r=0,o=c,u=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(o+1,c):t=n.slice(o+1,c),r=c-o-1;o=c,u=0}else d===46&&u>-1?u++:u=-1}return t}function eo(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const $S={cwd:GS};function GS(){return"/"}function ca(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function OS(n){if(typeof n=="string")n=new URL(n);else if(!ca(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return JS(n)}function JS(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const Bu=["history","path","basename","stem","extname","dirname"];class Vh{constructor(e){let t;e?ca(e)?t={path:e}:typeof e=="string"||WS(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":$S.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Bu.length;){const u=Bu[r];u in t&&t[u]!==void 0&&t[u]!==null&&(this[u]=u==="history"?[...t[u]]:t[u])}let o;for(o in t)Bu.includes(o)||(this[o]=t[o])}get basename(){return typeof this.path=="string"?it.basename(this.path):void 0}set basename(e){Hu(e,"basename"),qu(e,"basename"),this.path=it.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?it.dirname(this.path):void 0}set dirname(e){Cp(this.basename,"dirname"),this.path=it.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?it.extname(this.path):void 0}set extname(e){if(qu(e,"extname"),Cp(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=it.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ca(e)&&(e=OS(e)),Hu(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?it.basename(this.path,this.extname):void 0}set stem(e){Hu(e,"stem"),qu(e,"stem"),this.path=it.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const o=this.message(e,t,r);throw o.fatal=!0,o}info(e,t,r){const o=this.message(e,t,r);return o.fatal=void 0,o}message(e,t,r){const o=new pn(e,t,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function qu(n,e){if(n&&n.includes(it.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+it.sep+"`")}function Hu(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function Cp(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function WS(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const KS=(function(n){const r=this.constructor.prototype,o=r[n],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,r),u}),YS={}.hasOwnProperty;class ba extends KS{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=FS()}copy(){const e=new ba;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(zu(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Ou("data",this.frozen),this.namespace[e]=t,this):YS.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ou("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=t.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=vl(e),r=this.parser||this.Parser;return $u("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),$u("process",this.parser||this.Parser),Gu("process",this.compiler||this.Compiler),t?o(void 0,t):new Promise(o);function o(u,c){const d=vl(e),m=r.parse(d);r.run(m,d,function(g,y,C){if(g||!y||!C)return p(g);const T=y,E=r.stringify(T,C);ZS(E)?C.value=E:C.result=E,p(g,C)});function p(g,y){g||!y?c(g):u?u(y):t(void 0,y)}}}processSync(e){let t=!1,r;return this.freeze(),$u("processSync",this.parser||this.Parser),Gu("processSync",this.compiler||this.Compiler),this.process(e,o),Tp("processSync","process",t),r;function o(u,c){t=!0,yp(u),r=c}}run(e,t,r){xp(e),this.freeze();const o=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?u(void 0,r):new Promise(u);function u(c,d){const m=vl(t);o.run(e,m,p);function p(g,y,C){const T=y||e;g?d(g):c?c(T):r(void 0,T,C)}}}runSync(e,t){let r=!1,o;return this.run(e,t,u),Tp("runSync","run",r),o;function u(c,d){yp(c),o=d,r=!0}}stringify(e,t){this.freeze();const r=vl(t),o=this.compiler||this.Compiler;return Gu("stringify",o),xp(e),o(e,r)}use(e,...t){const r=this.attachers,o=this.namespace;if(Ou("use",this.frozen),e!=null)if(typeof e=="function")m(e,t);else if(typeof e=="object")Array.isArray(e)?d(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function u(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[g,...y]=p;m(g,y)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(p.plugins),p.settings&&(o.settings=zu(!0,o.settings,p.settings))}function d(p){let g=-1;if(p!=null)if(Array.isArray(p))for(;++g<p.length;){const y=p[g];u(y)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,g){let y=-1,C=-1;for(;++y<r.length;)if(r[y][0]===p){C=y;break}if(C===-1)r.push([p,...g]);else if(g.length>0){let[T,...E]=g;const _=r[C][1];aa(_)&&aa(T)&&(T=zu(!0,_,T)),r[C]=[p,T,...E]}}}}const QS=new ba().freeze();function $u(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Gu(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Ou(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xp(n){if(!aa(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Tp(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function vl(n){return XS(n)?n:new Vh(n)}function XS(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function ZS(n){return typeof n=="string"||jS(n)}function jS(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const e0="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Sp=[],Ep={allowDangerousHtml:!0},n0=/^(https?|ircs?|mailto|xmpp)$/i,t0=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function r0(n){const e=i0(n),t=o0(n);return l0(e.runSync(e.parse(t),t),n)}function i0(n){const e=n.rehypePlugins||Sp,t=n.remarkPlugins||Sp,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Ep}:Ep;return QS().use(bT).use(t).use(NS,r).use(e)}function o0(n){const e=n.children||"",t=new Vh;return typeof e=="string"&&(t.value=e),t}function l0(n,e){const t=e.allowedElements,r=e.allowElement,o=e.components,u=e.disallowedElements,c=e.skipHtml,d=e.unwrapDisallowed,m=e.urlTransform||s0;for(const g of t0)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+e0+g.id,void 0);return Va(n,p),TC(n,{Fragment:D.Fragment,components:o,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function p(g,y,C){if(g.type==="raw"&&C&&typeof y=="number")return c?C.children.splice(y,1):C.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let T;for(T in Fu)if(Object.hasOwn(Fu,T)&&Object.hasOwn(g.properties,T)){const E=g.properties[T],_=Fu[T];(_===null||_.includes(g.tagName))&&(g.properties[T]=m(String(E||""),T,g))}}if(g.type==="element"){let T=t?!t.includes(g.tagName):u?u.includes(g.tagName):!1;if(!T&&r&&typeof y=="number"&&(T=!r(g,y,C)),T&&C&&typeof y=="number")return d&&g.children?C.children.splice(y,1,...g.children):C.children.splice(y,1),y}}}function s0(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),o=n.indexOf("/");return e===-1||o!==-1&&e>o||t!==-1&&e>t||r!==-1&&e>r||n0.test(n.slice(0,e))?n:""}function wp(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let r=0,o=t.indexOf(e);for(;o!==-1;)r++,o=t.indexOf(e,o+e.length);return r}function u0(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function a0(n,e,t){const o=bl((t||{}).ignore||[]),u=c0(e);let c=-1;for(;++c<u.length;)Uh(n,"text",d);function d(p,g){let y=-1,C;for(;++y<g.length;){const T=g[y],E=C?C.children:void 0;if(o(T,E?E.indexOf(T):void 0,C))return;C=T}if(C)return m(p,g)}function m(p,g){const y=g[g.length-1],C=u[c][0],T=u[c][1];let E=0;const R=y.children.indexOf(p);let A=!1,z=[];C.lastIndex=0;let U=C.exec(p.value);for(;U;){const $=U.index,J={index:U.index,input:U.input,stack:[...g,p]};let L=T(...U,J);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?C.lastIndex=$+1:(E!==$&&z.push({type:"text",value:p.value.slice(E,$)}),Array.isArray(L)?z.push(...L):L&&z.push(L),E=$+U[0].length,A=!0),!C.global)break;U=C.exec(p.value)}return A?(E<p.value.length&&z.push({type:"text",value:p.value.slice(E)}),y.children.splice(R,1,...z)):z=[p],R+z.length}}function c0(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let r=-1;for(;++r<t.length;){const o=t[r];e.push([f0(o[0]),d0(o[1])])}return e}function f0(n){return typeof n=="string"?new RegExp(u0(n),"g"):n}function d0(n){return typeof n=="function"?n:function(){return n}}const Ju="phrasing",Wu=["autolink","link","image","label"];function p0(){return{transforms:[x0],enter:{literalAutolink:h0,literalAutolinkEmail:Ku,literalAutolinkHttp:Ku,literalAutolinkWww:Ku},exit:{literalAutolink:C0,literalAutolinkEmail:v0,literalAutolinkHttp:g0,literalAutolinkWww:y0}}}function m0(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ju,notInConstruct:Wu},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ju,notInConstruct:Wu},{character:":",before:"[ps]",after:"\\/",inConstruct:Ju,notInConstruct:Wu}]}}function h0(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Ku(n){this.config.enter.autolinkProtocol.call(this,n)}function g0(n){this.config.exit.autolinkProtocol.call(this,n)}function y0(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function v0(n){this.config.exit.autolinkEmail.call(this,n)}function C0(n){this.exit(n)}function x0(n){a0(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,T0],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),S0]],{ignore:["link","linkReference"]})}function T0(n,e,t,r,o){let u="";if(!bh(o)||(/^w/i.test(e)&&(t=e+t,e="",u="http://"),!E0(t)))return!1;const c=w0(t+r);if(!c[0])return!1;const d={type:"link",title:null,url:u+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[d,{type:"text",value:c[1]}]:d}function S0(n,e,t,r){return!bh(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function E0(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function w0(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],r=t.indexOf(")");const o=wp(n,"(");let u=wp(n,")");for(;r!==-1&&o>u;)n+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),u++;return[n,t]}function bh(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||ir(t)||Fl(t))&&(!e||t!==47)}zh.peek=D0;function k0(){this.buffer()}function _0(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function I0(){this.buffer()}function A0(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function M0(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Yn(this.sliceSerialize(n)).toLowerCase(),t.label=e}function P0(n){this.exit(n)}function R0(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Yn(this.sliceSerialize(n)).toLowerCase(),t.label=e}function N0(n){this.exit(n)}function D0(){return"["}function zh(n,e,t,r){const o=t.createTracker(r);let u=o.move("[^");const c=t.enter("footnoteReference"),d=t.enter("reference");return u+=o.move(t.safe(t.associationId(n),{after:"]",before:u})),d(),c(),u+=o.move("]"),u}function L0(){return{enter:{gfmFootnoteCallString:k0,gfmFootnoteCall:_0,gfmFootnoteDefinitionLabelString:I0,gfmFootnoteDefinition:A0},exit:{gfmFootnoteCallString:M0,gfmFootnoteCall:P0,gfmFootnoteDefinitionLabelString:R0,gfmFootnoteDefinition:N0}}}function F0(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:zh},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(r,o,u,c){const d=u.createTracker(c);let m=d.move("[^");const p=u.enter("footnoteDefinition"),g=u.enter("label");return m+=d.move(u.safe(u.associationId(r),{before:m,after:"]"})),g(),m+=d.move("]:"),r.children&&r.children.length>0&&(d.shift(4),m+=d.move((e?`
`:" ")+u.indentLines(u.containerFlow(r,d.current()),e?Bh:U0))),p(),m}}function U0(n,e,t){return e===0?n:Bh(n,e,t)}function Bh(n,e,t){return(t?"":"    ")+n}const V0=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];qh.peek=H0;function b0(){return{canContainEols:["delete"],enter:{strikethrough:B0},exit:{strikethrough:q0}}}function z0(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:V0}],handlers:{delete:qh}}}function B0(n){this.enter({type:"delete",children:[]},n)}function q0(n){this.exit(n)}function qh(n,e,t,r){const o=t.createTracker(r),u=t.enter("strikethrough");let c=o.move("~~");return c+=t.containerPhrasing(n,{...o.current(),before:c,after:"~"}),c+=o.move("~~"),u(),c}function H0(){return"~"}function $0(n){return n.length}function G0(n,e){const t=e||{},r=(t.align||[]).concat(),o=t.stringLength||$0,u=[],c=[],d=[],m=[];let p=0,g=-1;for(;++g<n.length;){const _=[],R=[];let A=-1;for(n[g].length>p&&(p=n[g].length);++A<n[g].length;){const z=O0(n[g][A]);if(t.alignDelimiters!==!1){const U=o(z);R[A]=U,(m[A]===void 0||U>m[A])&&(m[A]=U)}_.push(z)}c[g]=_,d[g]=R}let y=-1;if(typeof r=="object"&&"length"in r)for(;++y<p;)u[y]=kp(r[y]);else{const _=kp(r);for(;++y<p;)u[y]=_}y=-1;const C=[],T=[];for(;++y<p;){const _=u[y];let R="",A="";_===99?(R=":",A=":"):_===108?R=":":_===114&&(A=":");let z=t.alignDelimiters===!1?1:Math.max(1,m[y]-R.length-A.length);const U=R+"-".repeat(z)+A;t.alignDelimiters!==!1&&(z=R.length+z+A.length,z>m[y]&&(m[y]=z),T[y]=z),C[y]=U}c.splice(1,0,C),d.splice(1,0,T),g=-1;const E=[];for(;++g<c.length;){const _=c[g],R=d[g];y=-1;const A=[];for(;++y<p;){const z=_[y]||"";let U="",$="";if(t.alignDelimiters!==!1){const J=m[y]-(R[y]||0),L=u[y];L===114?U=" ".repeat(J):L===99?J%2?(U=" ".repeat(J/2+.5),$=" ".repeat(J/2-.5)):(U=" ".repeat(J/2),$=U):$=" ".repeat(J)}t.delimiterStart!==!1&&!y&&A.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&z==="")&&(t.delimiterStart!==!1||y)&&A.push(" "),t.alignDelimiters!==!1&&A.push(U),A.push(z),t.alignDelimiters!==!1&&A.push($),t.padding!==!1&&A.push(" "),(t.delimiterEnd!==!1||y!==p-1)&&A.push("|")}E.push(t.delimiterEnd===!1?A.join("").replace(/ +$/,""):A.join(""))}return E.join(`
`)}function O0(n){return n==null?"":String(n)}function kp(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function J0(n,e,t,r){const o=t.enter("blockquote"),u=t.createTracker(r);u.move("> "),u.shift(2);const c=t.indentLines(t.containerFlow(n,u.current()),W0);return o(),c}function W0(n,e,t){return">"+(t?"":" ")+n}function K0(n,e){return _p(n,e.inConstruct,!0)&&!_p(n,e.notInConstruct,!1)}function _p(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let r=-1;for(;++r<e.length;)if(n.includes(e[r]))return!0;return!1}function Ip(n,e,t,r){let o=-1;for(;++o<t.unsafe.length;)if(t.unsafe[o].character===`
`&&K0(t.stack,t.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Y0(n,e){const t=String(n);let r=t.indexOf(e),o=r,u=0,c=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++u>c&&(c=u):u=1,o=r+e.length,r=t.indexOf(e,o);return c}function Q0(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function X0(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Z0(n,e,t,r){const o=X0(t),u=n.value||"",c=o==="`"?"GraveAccent":"Tilde";if(Q0(n,t)){const y=t.enter("codeIndented"),C=t.indentLines(u,j0);return y(),C}const d=t.createTracker(r),m=o.repeat(Math.max(Y0(u,o)+1,3)),p=t.enter("codeFenced");let g=d.move(m);if(n.lang){const y=t.enter(`codeFencedLang${c}`);g+=d.move(t.safe(n.lang,{before:g,after:" ",encode:["`"],...d.current()})),y()}if(n.lang&&n.meta){const y=t.enter(`codeFencedMeta${c}`);g+=d.move(" "),g+=d.move(t.safe(n.meta,{before:g,after:`
`,encode:["`"],...d.current()})),y()}return g+=d.move(`
`),u&&(g+=d.move(u+`
`)),g+=d.move(m),p(),g}function j0(n,e,t){return(t?"":"    ")+n}function za(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function eE(n,e,t,r){const o=za(t),u=o==='"'?"Quote":"Apostrophe",c=t.enter("definition");let d=t.enter("label");const m=t.createTracker(r);let p=m.move("[");return p+=m.move(t.safe(t.associationId(n),{before:p,after:"]",...m.current()})),p+=m.move("]: "),d(),!n.url||/[\0- \u007F]/.test(n.url)?(d=t.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(t.safe(n.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(d=t.enter("destinationRaw"),p+=m.move(t.safe(n.url,{before:p,after:n.title?" ":`
`,...m.current()}))),d(),n.title&&(d=t.enter(`title${u}`),p+=m.move(" "+o),p+=m.move(t.safe(n.title,{before:p,after:o,...m.current()})),p+=m.move(o),d()),c(),p}function nE(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Xi(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Ml(n,e,t){const r=Jr(n),o=Jr(e);return r===void 0?o===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Hh.peek=tE;function Hh(n,e,t,r){const o=nE(t),u=t.enter("emphasis"),c=t.createTracker(r),d=c.move(o);let m=c.move(t.containerPhrasing(n,{after:o,before:d,...c.current()}));const p=m.charCodeAt(0),g=Ml(r.before.charCodeAt(r.before.length-1),p,o);g.inside&&(m=Xi(p)+m.slice(1));const y=m.charCodeAt(m.length-1),C=Ml(r.after.charCodeAt(0),y,o);C.inside&&(m=m.slice(0,-1)+Xi(y));const T=c.move(o);return u(),t.attentionEncodeSurroundingInfo={after:C.outside,before:g.outside},d+m+T}function tE(n,e,t){return t.options.emphasis||"*"}function rE(n,e){let t=!1;return Va(n,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,sa}),!!((!n.depth||n.depth<3)&&Pa(n)&&(e.options.setext||t))}function iE(n,e,t,r){const o=Math.max(Math.min(6,n.depth||1),1),u=t.createTracker(r);if(rE(n,t)){const g=t.enter("headingSetext"),y=t.enter("phrasing"),C=t.containerPhrasing(n,{...u.current(),before:`
`,after:`
`});return y(),g(),C+`
`+(o===1?"=":"-").repeat(C.length-(Math.max(C.lastIndexOf("\r"),C.lastIndexOf(`
`))+1))}const c="#".repeat(o),d=t.enter("headingAtx"),m=t.enter("phrasing");u.move(c+" ");let p=t.containerPhrasing(n,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(p)&&(p=Xi(p.charCodeAt(0))+p.slice(1)),p=p?c+" "+p:c,t.options.closeAtx&&(p+=" "+c),m(),d(),p}$h.peek=oE;function $h(n){return n.value||""}function oE(){return"<"}Gh.peek=lE;function Gh(n,e,t,r){const o=za(t),u=o==='"'?"Quote":"Apostrophe",c=t.enter("image");let d=t.enter("label");const m=t.createTracker(r);let p=m.move("![");return p+=m.move(t.safe(n.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),d(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(d=t.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(t.safe(n.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(d=t.enter("destinationRaw"),p+=m.move(t.safe(n.url,{before:p,after:n.title?" ":")",...m.current()}))),d(),n.title&&(d=t.enter(`title${u}`),p+=m.move(" "+o),p+=m.move(t.safe(n.title,{before:p,after:o,...m.current()})),p+=m.move(o),d()),p+=m.move(")"),c(),p}function lE(){return"!"}Oh.peek=sE;function Oh(n,e,t,r){const o=n.referenceType,u=t.enter("imageReference");let c=t.enter("label");const d=t.createTracker(r);let m=d.move("![");const p=t.safe(n.alt,{before:m,after:"]",...d.current()});m+=d.move(p+"]["),c();const g=t.stack;t.stack=[],c=t.enter("reference");const y=t.safe(t.associationId(n),{before:m,after:"]",...d.current()});return c(),t.stack=g,u(),o==="full"||!p||p!==y?m+=d.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function sE(){return"!"}Jh.peek=uE;function Jh(n,e,t){let r=n.value||"",o="`",u=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++u<t.unsafe.length;){const c=t.unsafe[u],d=t.compilePattern(c);let m;if(c.atBreak)for(;m=d.exec(r);){let p=m.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(m.index+1)}}return o+r+o}function uE(){return"`"}function Wh(n,e){const t=Pa(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}Kh.peek=aE;function Kh(n,e,t,r){const o=za(t),u=o==='"'?"Quote":"Apostrophe",c=t.createTracker(r);let d,m;if(Wh(n,t)){const g=t.stack;t.stack=[],d=t.enter("autolink");let y=c.move("<");return y+=c.move(t.containerPhrasing(n,{before:y,after:">",...c.current()})),y+=c.move(">"),d(),t.stack=g,y}d=t.enter("link"),m=t.enter("label");let p=c.move("[");return p+=c.move(t.containerPhrasing(n,{before:p,after:"](",...c.current()})),p+=c.move("]("),m(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(m=t.enter("destinationLiteral"),p+=c.move("<"),p+=c.move(t.safe(n.url,{before:p,after:">",...c.current()})),p+=c.move(">")):(m=t.enter("destinationRaw"),p+=c.move(t.safe(n.url,{before:p,after:n.title?" ":")",...c.current()}))),m(),n.title&&(m=t.enter(`title${u}`),p+=c.move(" "+o),p+=c.move(t.safe(n.title,{before:p,after:o,...c.current()})),p+=c.move(o),m()),p+=c.move(")"),d(),p}function aE(n,e,t){return Wh(n,t)?"<":"["}Yh.peek=cE;function Yh(n,e,t,r){const o=n.referenceType,u=t.enter("linkReference");let c=t.enter("label");const d=t.createTracker(r);let m=d.move("[");const p=t.containerPhrasing(n,{before:m,after:"]",...d.current()});m+=d.move(p+"]["),c();const g=t.stack;t.stack=[],c=t.enter("reference");const y=t.safe(t.associationId(n),{before:m,after:"]",...d.current()});return c(),t.stack=g,u(),o==="full"||!p||p!==y?m+=d.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function cE(){return"["}function Ba(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function fE(n){const e=Ba(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function dE(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Qh(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function pE(n,e,t,r){const o=t.enter("list"),u=t.bulletCurrent;let c=n.ordered?dE(t):Ba(t);const d=n.ordered?c==="."?")":".":fE(t);let m=e&&t.bulletLastUsed?c===t.bulletLastUsed:!1;if(!n.ordered){const g=n.children?n.children[0]:void 0;if((c==="*"||c==="-")&&g&&(!g.children||!g.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(m=!0),Qh(t)===c&&g){let y=-1;for(;++y<n.children.length;){const C=n.children[y];if(C&&C.type==="listItem"&&C.children&&C.children[0]&&C.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(c=d),t.bulletCurrent=c;const p=t.containerFlow(n,r);return t.bulletLastUsed=c,t.bulletCurrent=u,o(),p}function mE(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function hE(n,e,t,r){const o=mE(t);let u=t.bulletCurrent||Ba(t);e&&e.type==="list"&&e.ordered&&(u=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+u);let c=u.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(c=Math.ceil(c/4)*4);const d=t.createTracker(r);d.move(u+" ".repeat(c-u.length)),d.shift(c);const m=t.enter("listItem"),p=t.indentLines(t.containerFlow(n,d.current()),g);return m(),p;function g(y,C,T){return C?(T?"":" ".repeat(c))+y:(T?u:u+" ".repeat(c-u.length))+y}}function gE(n,e,t,r){const o=t.enter("paragraph"),u=t.enter("phrasing"),c=t.containerPhrasing(n,r);return u(),o(),c}const yE=bl(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vE(n,e,t,r){return(n.children.some(function(c){return yE(c)})?t.containerPhrasing:t.containerFlow).call(t,n,r)}function CE(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Xh.peek=xE;function Xh(n,e,t,r){const o=CE(t),u=t.enter("strong"),c=t.createTracker(r),d=c.move(o+o);let m=c.move(t.containerPhrasing(n,{after:o,before:d,...c.current()}));const p=m.charCodeAt(0),g=Ml(r.before.charCodeAt(r.before.length-1),p,o);g.inside&&(m=Xi(p)+m.slice(1));const y=m.charCodeAt(m.length-1),C=Ml(r.after.charCodeAt(0),y,o);C.inside&&(m=m.slice(0,-1)+Xi(y));const T=c.move(o+o);return u(),t.attentionEncodeSurroundingInfo={after:C.outside,before:g.outside},d+m+T}function xE(n,e,t){return t.options.strong||"*"}function TE(n,e,t,r){return t.safe(n.value,r)}function SE(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function EE(n,e,t){const r=(Qh(t)+(t.options.ruleSpaces?" ":"")).repeat(SE(t));return t.options.ruleSpaces?r.slice(0,-1):r}const Zh={blockquote:J0,break:Ip,code:Z0,definition:eE,emphasis:Hh,hardBreak:Ip,heading:iE,html:$h,image:Gh,imageReference:Oh,inlineCode:Jh,link:Kh,linkReference:Yh,list:pE,listItem:hE,paragraph:gE,root:vE,strong:Xh,text:TE,thematicBreak:EE};function wE(){return{enter:{table:kE,tableData:Ap,tableHeader:Ap,tableRow:IE},exit:{codeText:AE,table:_E,tableData:Yu,tableHeader:Yu,tableRow:Yu}}}function kE(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function _E(n){this.exit(n),this.data.inTable=void 0}function IE(n){this.enter({type:"tableRow",children:[]},n)}function Yu(n){this.exit(n)}function Ap(n){this.enter({type:"tableCell",children:[]},n)}function AE(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,ME));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function ME(n,e){return e==="|"?e:n}function PE(n){const e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,o=e.stringLength,u=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:C,table:c,tableCell:m,tableRow:d}};function c(T,E,_,R){return p(g(T,_,R),T.align)}function d(T,E,_,R){const A=y(T,_,R),z=p([A]);return z.slice(0,z.indexOf(`
`))}function m(T,E,_,R){const A=_.enter("tableCell"),z=_.enter("phrasing"),U=_.containerPhrasing(T,{...R,before:u,after:u});return z(),A(),U}function p(T,E){return G0(T,{align:E,alignDelimiters:r,padding:t,stringLength:o})}function g(T,E,_){const R=T.children;let A=-1;const z=[],U=E.enter("table");for(;++A<R.length;)z[A]=y(R[A],E,_);return U(),z}function y(T,E,_){const R=T.children;let A=-1;const z=[],U=E.enter("tableRow");for(;++A<R.length;)z[A]=m(R[A],T,E,_);return U(),z}function C(T,E,_){let R=Zh.inlineCode(T,E,_);return _.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function RE(){return{exit:{taskListCheckValueChecked:Mp,taskListCheckValueUnchecked:Mp,paragraph:DE}}}function NE(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:LE}}}function Mp(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function DE(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const r=t.children[0];if(r&&r.type==="text"){const o=e.children;let u=-1,c;for(;++u<o.length;){const d=o[u];if(d.type==="paragraph"){c=d;break}}c===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(n)}function LE(n,e,t,r){const o=n.children[0],u=typeof n.checked=="boolean"&&o&&o.type==="paragraph",c="["+(n.checked?"x":" ")+"] ",d=t.createTracker(r);u&&d.move(c);let m=Zh.listItem(n,e,t,{...r,...d.current()});return u&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(g){return g+c}}function FE(){return[p0(),L0(),b0(),wE(),RE()]}function UE(n){return{extensions:[m0(),F0(n),z0(),PE(n),NE()]}}const VE={tokenize:$E,partial:!0},jh={tokenize:GE,partial:!0},eg={tokenize:OE,partial:!0},ng={tokenize:JE,partial:!0},bE={tokenize:WE,partial:!0},tg={name:"wwwAutolink",tokenize:qE,previous:ig},rg={name:"protocolAutolink",tokenize:HE,previous:og},gt={name:"emailAutolink",tokenize:BE,previous:lg},ot={};function zE(){return{text:ot}}let rr=48;for(;rr<123;)ot[rr]=gt,rr++,rr===58?rr=65:rr===91&&(rr=97);ot[43]=gt;ot[45]=gt;ot[46]=gt;ot[95]=gt;ot[72]=[gt,rg];ot[104]=[gt,rg];ot[87]=[gt,tg];ot[119]=[gt,tg];function BE(n,e,t){const r=this;let o,u;return c;function c(y){return!fa(y)||!lg.call(r,r.previous)||qa(r.events)?t(y):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),d(y))}function d(y){return fa(y)?(n.consume(y),d):y===64?(n.consume(y),m):t(y)}function m(y){return y===46?n.check(bE,g,p)(y):y===45||y===95||fn(y)?(u=!0,n.consume(y),m):g(y)}function p(y){return n.consume(y),o=!0,m}function g(y){return u&&o&&yn(r.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(y)):t(y)}}function qE(n,e,t){const r=this;return o;function o(c){return c!==87&&c!==119||!ig.call(r,r.previous)||qa(r.events)?t(c):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(VE,n.attempt(jh,n.attempt(eg,u),t),t)(c))}function u(c){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(c)}}function HE(n,e,t){const r=this;let o="",u=!1;return c;function c(y){return(y===72||y===104)&&og.call(r,r.previous)&&!qa(r.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),o+=String.fromCodePoint(y),n.consume(y),d):t(y)}function d(y){if(yn(y)&&o.length<5)return o+=String.fromCodePoint(y),n.consume(y),d;if(y===58){const C=o.toLowerCase();if(C==="http"||C==="https")return n.consume(y),m}return t(y)}function m(y){return y===47?(n.consume(y),u?p:(u=!0,m)):t(y)}function p(y){return y===null||_l(y)||Ue(y)||ir(y)||Fl(y)?t(y):n.attempt(jh,n.attempt(eg,g),t)(y)}function g(y){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(y)}}function $E(n,e,t){let r=0;return o;function o(c){return(c===87||c===119)&&r<3?(r++,n.consume(c),o):c===46&&r===3?(n.consume(c),u):t(c)}function u(c){return c===null?t(c):e(c)}}function GE(n,e,t){let r,o,u;return c;function c(p){return p===46||p===95?n.check(ng,m,d)(p):p===null||Ue(p)||ir(p)||p!==45&&Fl(p)?m(p):(u=!0,n.consume(p),c)}function d(p){return p===95?r=!0:(o=r,r=void 0),n.consume(p),c}function m(p){return o||r||!u?t(p):e(p)}}function OE(n,e){let t=0,r=0;return o;function o(c){return c===40?(t++,n.consume(c),o):c===41&&r<t?u(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?n.check(ng,e,u)(c):c===null||Ue(c)||ir(c)?e(c):(n.consume(c),o)}function u(c){return c===41&&r++,n.consume(c),o}}function JE(n,e,t){return r;function r(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(n.consume(d),r):d===38?(n.consume(d),u):d===93?(n.consume(d),o):d===60||d===null||Ue(d)||ir(d)?e(d):t(d)}function o(d){return d===null||d===40||d===91||Ue(d)||ir(d)?e(d):r(d)}function u(d){return yn(d)?c(d):t(d)}function c(d){return d===59?(n.consume(d),r):yn(d)?(n.consume(d),c):t(d)}}function WE(n,e,t){return r;function r(u){return n.consume(u),o}function o(u){return fn(u)?t(u):e(u)}}function ig(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Ue(n)}function og(n){return!yn(n)}function lg(n){return!(n===47||fa(n))}function fa(n){return n===43||n===45||n===46||n===95||fn(n)}function qa(n){let e=n.length,t=!1;for(;e--;){const r=n[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const KE={tokenize:tw,partial:!0};function YE(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:jE,continuation:{tokenize:ew},exit:nw}},text:{91:{name:"gfmFootnoteCall",tokenize:ZE},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:QE,resolveTo:XE}}}}function QE(n,e,t){const r=this;let o=r.events.length;const u=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let c;for(;o--;){const m=r.events[o][1];if(m.type==="labelImage"){c=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return d;function d(m){if(!c||!c._balanced)return t(m);const p=Yn(r.sliceSerialize({start:c.end,end:r.now()}));return p.codePointAt(0)!==94||!u.includes(p.slice(1))?t(m):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(m),n.exit("gfmFootnoteCallLabelMarker"),e(m))}}function XE(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},n[n.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},d=[n[t+1],n[t+2],["enter",r,e],n[t+3],n[t+4],["enter",o,e],["exit",o,e],["enter",u,e],["enter",c,e],["exit",c,e],["exit",u,e],n[n.length-2],n[n.length-1],["exit",r,e]];return n.splice(t,n.length-t+1,...d),n}function ZE(n,e,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u=0,c;return d;function d(y){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(y),n.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?t(y):(n.enter("gfmFootnoteCallMarker"),n.consume(y),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",p)}function p(y){if(u>999||y===93&&!c||y===null||y===91||Ue(y))return t(y);if(y===93){n.exit("chunkString");const C=n.exit("gfmFootnoteCallString");return o.includes(Yn(r.sliceSerialize(C)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(y),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(y)}return Ue(y)||(c=!0),u++,n.consume(y),y===92?g:p}function g(y){return y===91||y===92||y===93?(n.consume(y),u++,p):p(y)}}function jE(n,e,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u,c=0,d;return m;function m(E){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(E),n.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(E){return E===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(E),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",g):t(E)}function g(E){if(c>999||E===93&&!d||E===null||E===91||Ue(E))return t(E);if(E===93){n.exit("chunkString");const _=n.exit("gfmFootnoteDefinitionLabelString");return u=Yn(r.sliceSerialize(_)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(E),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),C}return Ue(E)||(d=!0),c++,n.consume(E),E===92?y:g}function y(E){return E===91||E===92||E===93?(n.consume(E),c++,g):g(E)}function C(E){return E===58?(n.enter("definitionMarker"),n.consume(E),n.exit("definitionMarker"),o.includes(u)||o.push(u),Ae(n,T,"gfmFootnoteDefinitionWhitespace")):t(E)}function T(E){return e(E)}}function ew(n,e,t){return n.check(ji,e,n.attempt(KE,e,t))}function nw(n){n.exit("gfmFootnoteDefinition")}function tw(n,e,t){const r=this;return Ae(n,o,"gfmFootnoteDefinitionIndent",5);function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?e(u):t(u)}}function rw(n){let t=(n||{}).singleTilde;const r={name:"strikethrough",tokenize:u,resolveAll:o};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(c,d){let m=-1;for(;++m<c.length;)if(c[m][0]==="enter"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._close){let p=m;for(;p--;)if(c[p][0]==="exit"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._open&&c[m][1].end.offset-c[m][1].start.offset===c[p][1].end.offset-c[p][1].start.offset){c[m][1].type="strikethroughSequence",c[p][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},c[p][1].start),end:Object.assign({},c[m][1].end)},y={type:"strikethroughText",start:Object.assign({},c[p][1].end),end:Object.assign({},c[m][1].start)},C=[["enter",g,d],["enter",c[p][1],d],["exit",c[p][1],d],["enter",y,d]],T=d.parser.constructs.insideSpan.null;T&&Nn(C,C.length,0,Ul(T,c.slice(p+1,m),d)),Nn(C,C.length,0,[["exit",y,d],["enter",c[m][1],d],["exit",c[m][1],d],["exit",g,d]]),Nn(c,p-1,m-p+3,C),m=p+C.length-2;break}}for(m=-1;++m<c.length;)c[m][1].type==="strikethroughSequenceTemporary"&&(c[m][1].type="data");return c}function u(c,d,m){const p=this.previous,g=this.events;let y=0;return C;function C(E){return p===126&&g[g.length-1][1].type!=="characterEscape"?m(E):(c.enter("strikethroughSequenceTemporary"),T(E))}function T(E){const _=Jr(p);if(E===126)return y>1?m(E):(c.consume(E),y++,T);if(y<2&&!t)return m(E);const R=c.exit("strikethroughSequenceTemporary"),A=Jr(E);return R._open=!A||A===2&&!!_,R._close=!_||_===2&&!!A,d(E)}}}class iw{constructor(){this.map=[]}add(e,t,r){ow(this,e,t,r)}consume(e){if(this.map.sort(function(u,c){return u[0]-c[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];r.push(e.slice()),e.length=0;let o=r.pop();for(;o;){for(const u of o)e.push(u);o=r.pop()}this.map.length=0}}function ow(n,e,t,r){let o=0;if(!(t===0&&r.length===0)){for(;o<n.map.length;){if(n.map[o][0]===e){n.map[o][1]+=t,n.map[o][2].push(...r);return}o+=1}n.map.push([e,t,r])}}function lw(n,e){let t=!1;const r=[];for(;e<n.length;){const o=n[e];if(t){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const u=r.length-1;r[u]=r[u]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return r}function sw(){return{flow:{null:{name:"table",tokenize:uw,resolveAll:aw}}}}function uw(n,e,t){const r=this;let o=0,u=0,c;return d;function d(F){let ne=r.events.length-1;for(;ne>-1;){const re=r.events[ne][1].type;if(re==="lineEnding"||re==="linePrefix")ne--;else break}const Q=ne>-1?r.events[ne][1].type:null,te=Q==="tableHead"||Q==="tableRow"?L:m;return te===L&&r.parser.lazy[r.now().line]?t(F):te(F)}function m(F){return n.enter("tableHead"),n.enter("tableRow"),p(F)}function p(F){return F===124||(c=!0,u+=1),g(F)}function g(F){return F===null?t(F):he(F)?u>1?(u=0,r.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(F),n.exit("lineEnding"),T):t(F):Ie(F)?Ae(n,g,"whitespace")(F):(u+=1,c&&(c=!1,o+=1),F===124?(n.enter("tableCellDivider"),n.consume(F),n.exit("tableCellDivider"),c=!0,g):(n.enter("data"),y(F)))}function y(F){return F===null||F===124||Ue(F)?(n.exit("data"),g(F)):(n.consume(F),F===92?C:y)}function C(F){return F===92||F===124?(n.consume(F),y):y(F)}function T(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(F):(n.enter("tableDelimiterRow"),c=!1,Ie(F)?Ae(n,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):E(F))}function E(F){return F===45||F===58?R(F):F===124?(c=!0,n.enter("tableCellDivider"),n.consume(F),n.exit("tableCellDivider"),_):J(F)}function _(F){return Ie(F)?Ae(n,R,"whitespace")(F):R(F)}function R(F){return F===58?(u+=1,c=!0,n.enter("tableDelimiterMarker"),n.consume(F),n.exit("tableDelimiterMarker"),A):F===45?(u+=1,A(F)):F===null||he(F)?$(F):J(F)}function A(F){return F===45?(n.enter("tableDelimiterFiller"),z(F)):J(F)}function z(F){return F===45?(n.consume(F),z):F===58?(c=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(F),n.exit("tableDelimiterMarker"),U):(n.exit("tableDelimiterFiller"),U(F))}function U(F){return Ie(F)?Ae(n,$,"whitespace")(F):$(F)}function $(F){return F===124?E(F):F===null||he(F)?!c||o!==u?J(F):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(F)):J(F)}function J(F){return t(F)}function L(F){return n.enter("tableRow"),K(F)}function K(F){return F===124?(n.enter("tableCellDivider"),n.consume(F),n.exit("tableCellDivider"),K):F===null||he(F)?(n.exit("tableRow"),e(F)):Ie(F)?Ae(n,K,"whitespace")(F):(n.enter("data"),ce(F))}function ce(F){return F===null||F===124||Ue(F)?(n.exit("data"),K(F)):(n.consume(F),F===92?Z:ce)}function Z(F){return F===92||F===124?(n.consume(F),ce):ce(F)}}function aw(n,e){let t=-1,r=!0,o=0,u=[0,0,0,0],c=[0,0,0,0],d=!1,m=0,p,g,y;const C=new iw;for(;++t<n.length;){const T=n[t],E=T[1];T[0]==="enter"?E.type==="tableHead"?(d=!1,m!==0&&(Pp(C,e,m,p,g),g=void 0,m=0),p={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},C.add(t,0,[["enter",p,e]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,y=void 0,u=[0,0,0,0],c=[0,t+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},C.add(t,0,[["enter",g,e]])),o=E.type==="tableDelimiterRow"?2:g?3:1):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,c[2]===0&&(u[1]!==0&&(c[0]=c[1],y=Cl(C,e,u,o,void 0,y),u=[0,0,0,0]),c[2]=t)):E.type==="tableCellDivider"&&(r?r=!1:(u[1]!==0&&(c[0]=c[1],y=Cl(C,e,u,o,void 0,y)),u=c,c=[u[1],t,0,0])):E.type==="tableHead"?(d=!0,m=t):E.type==="tableRow"||E.type==="tableDelimiterRow"?(m=t,u[1]!==0?(c[0]=c[1],y=Cl(C,e,u,o,t,y)):c[1]!==0&&(y=Cl(C,e,c,o,t,y)),o=0):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(c[3]=t)}for(m!==0&&Pp(C,e,m,p,g),C.consume(e.events),t=-1;++t<e.events.length;){const T=e.events[t];T[0]==="enter"&&T[1].type==="table"&&(T[1]._align=lw(e.events,t))}return n}function Cl(n,e,t,r,o,u){const c=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",d="tableContent";t[0]!==0&&(u.end=Object.assign({},zr(e.events,t[0])),n.add(t[0],0,[["exit",u,e]]));const m=zr(e.events,t[1]);if(u={type:c,start:Object.assign({},m),end:Object.assign({},m)},n.add(t[1],0,[["enter",u,e]]),t[2]!==0){const p=zr(e.events,t[2]),g=zr(e.events,t[3]),y={type:d,start:Object.assign({},p),end:Object.assign({},g)};if(n.add(t[2],0,[["enter",y,e]]),r!==2){const C=e.events[t[2]],T=e.events[t[3]];if(C[1].end=Object.assign({},T[1].end),C[1].type="chunkText",C[1].contentType="text",t[3]>t[2]+1){const E=t[2]+1,_=t[3]-t[2]-1;n.add(E,_,[])}}n.add(t[3]+1,0,[["exit",y,e]])}return o!==void 0&&(u.end=Object.assign({},zr(e.events,o)),n.add(o,0,[["exit",u,e]]),u=void 0),u}function Pp(n,e,t,r,o){const u=[],c=zr(e.events,t);o&&(o.end=Object.assign({},c),u.push(["exit",o,e])),r.end=Object.assign({},c),u.push(["exit",r,e]),n.add(t+1,0,u)}function zr(n,e){const t=n[e],r=t[0]==="enter"?"start":"end";return t[1][r]}const cw={name:"tasklistCheck",tokenize:dw};function fw(){return{text:{91:cw}}}function dw(n,e,t){const r=this;return o;function o(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(m):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(m),n.exit("taskListCheckMarker"),u)}function u(m){return Ue(m)?(n.enter("taskListCheckValueUnchecked"),n.consume(m),n.exit("taskListCheckValueUnchecked"),c):m===88||m===120?(n.enter("taskListCheckValueChecked"),n.consume(m),n.exit("taskListCheckValueChecked"),c):t(m)}function c(m){return m===93?(n.enter("taskListCheckMarker"),n.consume(m),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),d):t(m)}function d(m){return he(m)?e(m):Ie(m)?n.check({tokenize:pw},e,t)(m):t(m)}}function pw(n,e,t){return Ae(n,r,"whitespace");function r(o){return o===null?t(o):e(o)}}function mw(n){return yh([zE(),YE(),rw(n),sw(),fw()])}const hw={};function gw(n){const e=this,t=n||hw,r=e.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),c=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(mw(t)),u.push(FE()),c.push(UE(t))}const yw=({className:n="w-6 h-6"})=>D.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:D.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),vw=({className:n="w-6 h-6"})=>D.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:D.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),Cw=({className:n="w-4 h-4"})=>D.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),xw=({message:n})=>{const e=n.role==="user",t=e?yw:vw,[r,o]=gn.useState(!1);e||(console.log("AI Message content:",n.content),console.log("Contains table markdown:",n.content.includes("|")),console.log("Contains table headers:",n.content.includes("---")));const u=async()=>{try{await navigator.clipboard.writeText(n.content),o(!0),setTimeout(()=>o(!1),2e3)}catch(c){console.error("클립보드 복사 실패:",c);const d=document.createElement("textarea");d.value=n.content,document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),o(!0),setTimeout(()=>o(!1),2e3)}};return D.jsxs("div",{className:`flex gap-2 md:gap-3 mb-3 md:mb-4 ${e?"flex-row-reverse":"flex-row"}`,children:[D.jsx("div",{className:`flex-shrink-0 w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center ${e?"bg-brand-primary":"bg-brand-secondary"}`,children:D.jsx(t,{className:"w-3 h-3 md:w-5 md:h-5 text-white"})}),D.jsxs("div",{className:`flex-1 max-w-[85%] md:max-w-[80%] ${e?"text-right":"text-left"}`,children:[D.jsxs("div",{className:`message-container relative inline-block p-2 md:p-3 rounded-lg text-sm md:text-base ${e?"bg-brand-primary text-white":"bg-brand-surface text-brand-text-primary border border-brand-secondary"}`,children:[!e&&D.jsx("button",{onClick:u,className:`copy-button absolute top-2 right-2 p-1.5 rounded-md transition-all duration-200 ${r?"bg-green-600 text-white":"bg-brand-secondary text-brand-text-secondary hover:bg-brand-primary hover:text-white"}`,title:r?"복사됨!":"클립보드에 복사",children:r?D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):D.jsx(Cw,{className:"w-4 h-4"})}),e?D.jsx("p",{className:"whitespace-pre-wrap break-words",children:n.content}):D.jsx("div",{className:"prose prose-invert max-w-none [&_table]:border-collapse [&_table]:w-full [&_table]:my-4 [&_table]:border [&_table]:border-brand-secondary",children:D.jsx(r0,{remarkPlugins:[gw],components:{table:({children:c,...d})=>D.jsx("div",{className:"overflow-x-auto my-4",children:D.jsx("table",{className:"min-w-full border-collapse border border-brand-secondary",...d,children:c})}),thead:({children:c,...d})=>D.jsx("thead",{className:"bg-brand-secondary",...d,children:c}),tbody:({children:c,...d})=>D.jsx("tbody",{className:"bg-brand-surface",...d,children:c}),tr:({children:c,...d})=>D.jsx("tr",{className:"border-b border-brand-secondary",...d,children:c}),th:({children:c,...d})=>D.jsx("th",{className:"px-4 py-2 text-left text-brand-text-primary font-semibold border-r border-brand-secondary",...d,children:c}),td:({children:c,...d})=>D.jsx("td",{className:"px-4 py-2 text-brand-text-primary border-r border-brand-secondary",...d,children:c}),p:({children:c,...d})=>D.jsx("p",{className:"mb-2 last:mb-0",...d,children:c}),ul:({children:c,...d})=>D.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1",...d,children:c}),ol:({children:c,...d})=>D.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1",...d,children:c}),li:({children:c,...d})=>D.jsx("li",{className:"text-brand-text-primary",...d,children:c}),strong:({children:c,...d})=>D.jsx("strong",{className:"font-semibold text-brand-primary",...d,children:c}),code:({children:c,...d})=>D.jsx("code",{className:"bg-brand-bg px-1 py-0.5 rounded text-sm font-mono text-brand-primary",...d,children:c}),pre:({children:c,...d})=>D.jsx("pre",{className:"bg-brand-bg p-3 rounded-lg overflow-x-auto text-sm",...d,children:c}),h1:({children:c,...d})=>D.jsx("h1",{className:"text-2xl font-bold text-brand-primary mb-4 mt-6 first:mt-0",...d,children:c}),h2:({children:c,...d})=>D.jsx("h2",{className:"text-xl font-semibold text-brand-primary mb-3 mt-5 first:mt-0",...d,children:c}),h3:({children:c,...d})=>D.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-2 mt-4 first:mt-0",...d,children:c}),blockquote:({children:c,...d})=>D.jsx("blockquote",{className:"border-l-4 border-brand-primary pl-4 py-2 my-4 bg-brand-bg/50 italic",...d,children:c})},children:n.content})})]}),D.jsx("div",{className:`text-xs text-brand-text-secondary mt-1 ${e?"text-right":"text-left"}`,children:n.timestamp.toLocaleTimeString()}),n.sources&&n.sources.length>0&&D.jsxs("div",{className:"mt-2",children:[D.jsx("p",{className:"text-xs text-brand-text-secondary mb-1",children:"참조 소스:"}),D.jsx("div",{className:"flex flex-wrap gap-1",children:n.sources.map((c,d)=>D.jsx("span",{className:"text-xs bg-brand-secondary text-brand-text-secondary px-2 py-1 rounded",children:c},d))})]})]})]})},Tw=({className:n="w-6 h-6"})=>D.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:D.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})}),Sw=({onSendMessage:n,disabled:e=!1,placeholder:t="메시지를 입력하세요..."})=>{const[r,o]=gn.useState(""),u=d=>{d.preventDefault(),!(!r.trim()||e)&&(n(r.trim()),o(""))},c=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u(d))};return D.jsxs("form",{onSubmit:u,className:"flex gap-2 p-2 md:p-4 bg-brand-surface border-t border-brand-secondary",children:[D.jsx("input",{type:"text",value:r,onChange:d=>o(d.target.value),onKeyPress:c,placeholder:t,disabled:e,className:"flex-1 p-2 md:p-3 bg-brand-bg border border-brand-secondary rounded-lg text-brand-text-primary focus:outline-none focus:border-brand-primary disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base"}),D.jsx("button",{type:"submit",disabled:e||!r.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-primary text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:D.jsx(Tw,{className:"w-4 h-4 md:w-5 md:h-5"})})]})},Ew=({onSendMessage:n,onStreamingMessage:e,onResetMessages:t,isLoading:r=!1,placeholder:o})=>{const[u,c]=gn.useState([]),[d,m]=gn.useState(!1),p=gn.useRef(null),g=()=>{var C;(C=p.current)==null||C.scrollIntoView({behavior:"smooth"})};gn.useEffect(()=>{g()},[u]),gn.useEffect(()=>{t&&(c([]),m(!1))},[t]);const y=async C=>{if(d)return;const T={id:Date.now().toString(),role:Bi.USER,content:C,timestamp:new Date};c(E=>[...E,T]),m(!0);try{if(e){const E={id:(Date.now()+1).toString(),role:Bi.MODEL,content:"",timestamp:new Date};c(A=>[...A,E]);const _=await e(C);let R="";for await(const A of _)R+=A,c(z=>{const U=[...z],$=U[U.length-1];return $.role===Bi.MODEL&&($.content=R),U})}else{const E=await n(C),_={id:(Date.now()+1).toString(),role:Bi.MODEL,content:E,timestamp:new Date};c(R=>[...R,_])}}catch(E){const _={id:(Date.now()+1).toString(),role:Bi.MODEL,content:`오류가 발생했습니다: ${E.message}`,timestamp:new Date};c(R=>[...R,_])}finally{m(!1)}};return D.jsxs("div",{className:"flex flex-col h-full bg-brand-bg",children:[D.jsxs("div",{className:"flex-1 overflow-y-auto p-2 md:p-4 space-y-3 md:space-y-4",children:[u.length===0&&D.jsxs("div",{className:"text-center text-brand-text-secondary py-6 md:py-8 px-4",children:[D.jsx("p",{className:"text-sm md:text-base",children:"안녕하세요! 궁금한 사업 문의사항을 물어보세요."}),D.jsx("p",{className:"text-xs md:text-sm mt-2",children:"실제 PDF 문서를 기반으로 답변해드립니다."})]}),u.map(C=>D.jsx(xw,{message:C},C.id)),d&&D.jsxs("div",{className:"flex gap-2 md:gap-3 mb-4",children:[D.jsx("div",{className:"flex-shrink-0 w-6 h-6 md:w-8 md:h-8 rounded-full bg-brand-secondary flex items-center justify-center",children:D.jsx("div",{className:"w-3 h-3 md:w-5 md:h-5 border-2 border-brand-text-secondary border-t-transparent rounded-full animate-spin"})}),D.jsx("div",{className:"flex-1",children:D.jsx("div",{className:"bg-brand-surface border border-brand-secondary rounded-lg p-2 md:p-3",children:D.jsx("p",{className:"text-brand-text-secondary text-sm md:text-base",children:"답변을 생성하고 있습니다..."})})})]}),D.jsx("div",{ref:p})]}),D.jsx(Sw,{onSendMessage:y,disabled:d||r,placeholder:o})]})},ww=({sources:n})=>{if(!n||n.length===0)return null;const e=t=>t.replace(/\.pdf$/i,"");return D.jsxs("div",{className:"mt-4 p-4 bg-brand-surface border border-brand-secondary rounded-lg",children:[D.jsx("h4",{className:"text-sm font-semibold text-brand-text-primary mb-2",children:"참조 소스"}),D.jsx("div",{className:"space-y-2",children:n.map(t=>D.jsx("div",{className:"text-sm",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"px-2 py-1 bg-brand-secondary text-brand-text-secondary rounded text-xs",children:t.type.toUpperCase()}),D.jsx("span",{className:"text-brand-text-primary font-medium",children:e(t.title)})]})},t.id))}),D.jsx("div",{className:"mt-3 pt-3 border-t border-brand-secondary",children:D.jsxs("a",{href:"/chat4/admin.html",className:"inline-flex items-center gap-2 text-brand-primary hover:text-brand-text-primary transition-colors text-sm",children:[D.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"설정"]})})]})},kw=({compressionResult:n,isVisible:e,onClose:t})=>{if(!e||!n)return null;const r=u=>u.toLocaleString(),o=u=>`${(u*100).toFixed(1)}%`;return D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-brand-surface border border-brand-secondary rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("h3",{className:"text-lg font-semibold text-brand-text-primary",children:"PDF 압축 통계"}),D.jsx("button",{onClick:t,className:"text-brand-text-secondary hover:text-brand-text-primary transition-colors",children:D.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{className:"bg-brand-bg rounded-lg p-4",children:[D.jsx("div",{className:"text-sm text-brand-text-secondary mb-1",children:"원본 크기"}),D.jsxs("div",{className:"text-lg font-semibold text-brand-text-primary",children:[r(n.originalLength),"자"]})]}),D.jsxs("div",{className:"bg-brand-bg rounded-lg p-4",children:[D.jsx("div",{className:"text-sm text-brand-text-secondary mb-1",children:"압축 후 크기"}),D.jsxs("div",{className:"text-lg font-semibold text-brand-text-primary",children:[r(n.compressedLength),"자"]})]})]}),D.jsxs("div",{className:"bg-brand-bg rounded-lg p-4",children:[D.jsx("div",{className:"text-sm text-brand-text-secondary mb-2",children:"압축률"}),D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsx("div",{className:"text-2xl font-bold text-brand-primary",children:o(n.compressionRatio)}),D.jsx("div",{className:"flex-1 bg-brand-secondary rounded-full h-2",children:D.jsx("div",{className:"bg-brand-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n.compressionRatio*100)}%`}})})]})]}),D.jsxs("div",{className:"bg-brand-bg rounded-lg p-4",children:[D.jsx("div",{className:"text-sm text-brand-text-secondary mb-1",children:"예상 토큰 수"}),D.jsxs("div",{className:"text-lg font-semibold text-brand-text-primary",children:[r(n.estimatedTokens),"개"]}),D.jsx("div",{className:"text-xs text-brand-text-secondary mt-1",children:"(Gemini 2.5 Flash 제한: 1,000,000 토큰)"})]}),D.jsxs("div",{className:"bg-brand-bg rounded-lg p-4",children:[D.jsx("div",{className:"text-sm text-brand-text-secondary mb-2",children:"품질 점수"}),D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsxs("div",{className:"text-2xl font-bold text-brand-primary",children:[n.qualityScore.toFixed(1),"점"]}),D.jsx("div",{className:"flex-1 bg-brand-secondary rounded-full h-2",children:D.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${n.qualityScore>=80?"bg-green-500":n.qualityScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,n.qualityScore)}%`}})})]}),D.jsx("div",{className:"text-xs text-brand-text-secondary mt-1",children:n.qualityScore>=80?"우수":n.qualityScore>=60?"양호":"개선 필요"})]}),D.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[D.jsx("div",{className:"text-sm text-green-700 mb-1",children:"토큰 절약"}),D.jsxs("div",{className:"text-lg font-semibold text-green-800",children:[r(n.originalLength/4-n.estimatedTokens),"개"]}),D.jsx("div",{className:"text-xs text-green-600 mt-1",children:"비용 절약 및 응답 속도 향상"})]})]}),D.jsx("div",{className:"mt-6 flex justify-end",children:D.jsx("button",{onClick:t,className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-opacity-80 transition-colors",children:"확인"})})]})})},_w=({isOpen:n,title:e,message:t,confirmText:r="확인",cancelText:o="취소",onConfirm:u,onCancel:c,isDestructive:d=!1})=>n?D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-brand-surface border border-brand-secondary rounded-lg p-6 max-w-md w-full mx-4",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[D.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d?"bg-red-600":"bg-brand-primary"}`,children:d?D.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}):D.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),D.jsx("h3",{className:"text-lg font-semibold text-brand-text-primary",children:e})]}),D.jsx("p",{className:"text-brand-text-secondary mb-6 leading-relaxed",children:t}),D.jsxs("div",{className:"flex gap-3 justify-end",children:[D.jsx("button",{onClick:c,className:"px-4 py-2 bg-brand-secondary text-brand-text-primary rounded-lg hover:bg-opacity-80 transition-colors",children:o}),D.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg transition-colors ${d?"bg-red-600 text-white hover:bg-red-700":"bg-brand-primary text-white hover:bg-blue-600"}`,children:r})]})]})}):null;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iw,Aw;function Mw(){return{geminiUrl:Iw,vertexUrl:Aw}}function Pw(n,e,t,r){var o,u;if(!(n!=null&&n.baseUrl)){const c=Mw();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:t:(u=c.geminiUrl)!==null&&u!==void 0?u:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sr{}function le(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const u=e[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(n,e,t){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const d=c.slice(0,-2);if(!(d in n))if(Array.isArray(t))n[d]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[d])){const m=n[d];if(Array.isArray(t))for(let p=0;p<m.length;p++){const g=m[p];a(g,e.slice(u+1),t[p])}else for(const p of m)a(p,e.slice(u+1),t)}return}else if(c.endsWith("[0]")){const d=c.slice(0,-3);d in n||(n[d]=[{}]);const m=n[d];a(m[0],e.slice(u+1),t);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const r=e[e.length-1],o=n[r];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const r=e[t];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in n){const u=n[o];return Array.isArray(u)?u.map(c=>s(c,e.slice(t+1))):void 0}else return}else n=n[r]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ha(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rw(n){const e={},t=s(n,["operationName"]);t!=null&&a(e,["operationName"],t);const r=s(n,["resourceName"]);return r!=null&&a(e,["_url","resourceName"],r),e}function Nw(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["metadata"]);r!=null&&a(e,["metadata"],r);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const u=s(n,["error"]);u!=null&&a(e,["error"],u);const c=s(n,["response","generateVideoResponse"]);return c!=null&&a(e,["response"],Lw(c)),e}function Dw(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["metadata"]);r!=null&&a(e,["metadata"],r);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const u=s(n,["error"]);u!=null&&a(e,["error"],u);const c=s(n,["response"]);return c!=null&&a(e,["response"],Fw(c)),e}function Lw(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(c=>Uw(c))),a(e,["generatedVideos"],u)}const r=s(n,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Fw(n){const e={},t=s(n,["videos"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(c=>Vw(c))),a(e,["generatedVideos"],u)}const r=s(n,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Uw(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],Bw(t)),e}function Vw(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],qw(t)),e}function bw(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function zw(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function Bw(n){const e={},t=s(n,["video","uri"]);t!=null&&a(e,["uri"],t);const r=s(n,["video","encodedVideo"]);r!=null&&a(e,["videoBytes"],Ha(r));const o=s(n,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function qw(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const r=s(n,["bytesBase64Encoded"]);r!=null&&a(e,["videoBytes"],Ha(r));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rp||(Rp={}));var Np;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Np||(Np={}));var qt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(qt||(qt={}));var Dp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Dp||(Dp={}));var Lp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Lp||(Lp={}));var Fp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Fp||(Fp={}));var Up;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Up||(Up={}));var Vp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Vp||(Vp={}));var bp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(bp||(bp={}));var zp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zp||(zp={}));var Bp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(Bp||(Bp={}));var qp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(qp||(qp={}));var Hp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hp||(Hp={}));var $p;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})($p||($p={}));var Gp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gp||(Gp={}));var Pl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Pl||(Pl={}));var Op;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Op||(Op={}));var da;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(da||(da={}));var Jp;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Jp||(Jp={}));var Wp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wp||(Wp={}));var Kp;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Kp||(Kp={}));var Yp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Yp||(Yp={}));var Qp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Qp||(Qp={}));var Xp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Xp||(Xp={}));var Zp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zp||(Zp={}));var jp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(jp||(jp={}));var em;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(em||(em={}));var nm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(nm||(nm={}));var tm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(tm||(tm={}));var rm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rm||(rm={}));var im;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(im||(im={}));var om;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(om||(om={}));var lm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lm||(lm={}));var sm;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(sm||(sm={}));var um;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(um||(um={}));var am;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(am||(am={}));var cm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(cm||(cm={}));var fm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(fm||(fm={}));var dm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(dm||(dm={}));var pm;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(pm||(pm={}));var mm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(mm||(mm={}));var hm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hm||(hm={}));var gm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gm||(gm={}));var ym;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ym||(ym={}));var vm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vm||(vm={}));var Cm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Cm||(Cm={}));var xm;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xm||(xm={}));var Tm;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Tm||(Tm={}));var qr;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(qr||(qr={}));class pa{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Oi{get text(){var e,t,r,o,u,c,d,m;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",g=!1;const y=[];for(const C of(m=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[T,E]of Object.entries(C))T!=="text"&&T!=="thought"&&(E!==null||E!==void 0)&&y.push(T);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;g=!0,p+=C.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?p:void 0}get data(){var e,t,r,o,u,c,d,m;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const g=[];for(const y of(m=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[C,T]of Object.entries(y))C!=="inlineData"&&(T!==null||T!==void 0)&&g.push(C);y.inlineData&&typeof y.inlineData.data=="string"&&(p+=atob(y.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,r,o,u,c,d,m;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,r,o,u,c,d,m,p;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(m=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,r,o,u,c,d,m,p;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(m=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.output}}class Sm{}class Em{}class Hw{}class $w{}class Gw{}class Ow{}class wm{}class km{}class _m{}class Jw{}class Rl{_fromAPIResponse({apiResponse:e,isVertexAI:t}){const r=new Rl;let o;const u=e;return t?o=Dw(u):o=Nw(u),Object.assign(r,o),r}}class Im{}class Am{}class Mm{}class Ww{}class Kw{}class Yw{}class Pm{}class Qw{get text(){var e,t,r;let o="",u=!1;const c=[];for(const d of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[m,p]of Object.entries(d))m!=="text"&&m!=="thought"&&p!==null&&c.push(m);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;u=!0,o+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?o:void 0}get data(){var e,t,r;let o="";const u=[];for(const c of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[d,m]of Object.entries(c))d!=="inlineData"&&m!==null&&u.push(d);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class Xw{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sg(n,e){const t=De(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function ug(n){return Array.isArray(n)?n.map(e=>Nl(e)):[Nl(n)]}function Nl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function ag(n){const e=Nl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cg(n){const e=Nl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Rm(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function fg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Rm(e)):[Rm(n)]}function ma(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Nm(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Dm(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function dn(n){if(n==null)throw new Error("ContentUnion is required");return ma(n)?n:{role:"user",parts:fg(n)}}function $a(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=dn(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=dn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>dn(t)):[dn(e)]}function qn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Nm(n)||Dm(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dn(n)]}const e=[],t=[],r=ma(n[0]);for(const o of n){const u=ma(o);if(u!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(o);else{if(Nm(o)||Dm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(o)}}return r||e.push({role:"user",parts:fg(t)}),e}function Zw(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(qt).includes(t[0].toUpperCase())?t[0].toUpperCase():qt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(qt).includes(r.toUpperCase())?r.toUpperCase():qt.TYPE_UNSPECIFIED})}}function $r(n){const e={},t=["items"],r=["anyOf"],o=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&Zw(n.type,e);for(const[c,d]of Object.entries(n))if(d!=null)if(c=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(qt).includes(d.toUpperCase())?d.toUpperCase():qt.TYPE_UNSPECIFIED}else if(t.includes(c))e[c]=$r(d);else if(r.includes(c)){const m=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}m.push($r(p))}e[c]=m}else if(o.includes(c)){const m={};for(const[p,g]of Object.entries(d))m[p]=$r(g);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=d}return e}function Ga(n){return $r(n)}function Oa(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Ja(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Yr(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$r(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$r(e.response));return n}function Qr(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function jw(n,e,t,r=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:o?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function yt(n,e){if(typeof e!="string")throw new Error("name must be a string");return jw(n,e,"cachedContents")}function dg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ur(n){return Ha(n)}function ek(n){return n!=null&&typeof n=="object"&&"name"in n}function nk(n){return n!=null&&typeof n=="object"&&"video"in n}function tk(n){return n!=null&&typeof n=="object"&&"uri"in n}function pg(n){var e;let t;if(ek(n)&&(t=n.name),!(tk(n)&&(t=n.uri,t===void 0))&&!(nk(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const o=t.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${t}`);t=o[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function mg(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function hg(n){for(const e of["models","tunedModels","publisherModels"])if(rk(n,e))return n[e];return[]}function rk(n,e){return n!==null&&typeof n=="object"&&e in n}function ik(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ok(n,e={}){const t=[],r=new Set;for(const o of n){const u=o.name;if(r.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);r.add(u);const c=ik(o,e);c.functionDeclarations&&t.push(...c.functionDeclarations)}return{functionDeclarations:t}}function gg(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,o=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function lk(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yg(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const o=t.inlinedResponses;if(!Array.isArray(o)||o.length===0)return n;let u=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Xr(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function vg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sk(n){const e={},t=s(n,["responsesFile"]);t!=null&&a(e,["fileName"],t);const r=s(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Yk(c))),a(e,["inlinedResponses"],u)}const o=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Wk(c))),a(e,["inlinedEmbedContentResponses"],u)}return e}function uk(n){const e={},t=s(n,["predictionsFormat"]);t!=null&&a(e,["format"],t);const r=s(n,["gcsDestination","outputUriPrefix"]);r!=null&&a(e,["gcsUri"],r);const o=s(n,["bigqueryDestination","outputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function ak(n){const e={},t=s(n,["format"]);t!=null&&a(e,["predictionsFormat"],t);const r=s(n,["gcsUri"]);r!=null&&a(e,["gcsDestination","outputUriPrefix"],r);const o=s(n,["bigqueryUri"]);if(o!=null&&a(e,["bigqueryDestination","outputUri"],o),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Br(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["metadata","displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["metadata","state"]);o!=null&&a(e,["state"],vg(o));const u=s(n,["metadata","createTime"]);u!=null&&a(e,["createTime"],u);const c=s(n,["metadata","endTime"]);c!=null&&a(e,["endTime"],c);const d=s(n,["metadata","updateTime"]);d!=null&&a(e,["updateTime"],d);const m=s(n,["metadata","model"]);m!=null&&a(e,["model"],m);const p=s(n,["metadata","output"]);return p!=null&&a(e,["dest"],sk(yg(p))),e}function ha(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["state"]);o!=null&&a(e,["state"],vg(o));const u=s(n,["error"]);u!=null&&a(e,["error"],xg(u));const c=s(n,["createTime"]);c!=null&&a(e,["createTime"],c);const d=s(n,["startTime"]);d!=null&&a(e,["startTime"],d);const m=s(n,["endTime"]);m!=null&&a(e,["endTime"],m);const p=s(n,["updateTime"]);p!=null&&a(e,["updateTime"],p);const g=s(n,["model"]);g!=null&&a(e,["model"],g);const y=s(n,["inputConfig"]);y!=null&&a(e,["src"],ck(y));const C=s(n,["outputConfig"]);return C!=null&&a(e,["dest"],uk(yg(C))),e}function ck(n){const e={},t=s(n,["instancesFormat"]);t!=null&&a(e,["format"],t);const r=s(n,["gcsSource","uris"]);r!=null&&a(e,["gcsUri"],r);const o=s(n,["bigquerySource","inputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function fk(n,e){const t={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=s(e,["fileName"]);r!=null&&a(t,["fileName"],r);const o=s(e,["inlinedRequests"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Kk(n,c))),a(t,["requests","requests"],u)}return t}function dk(n){const e={},t=s(n,["format"]);t!=null&&a(e,["instancesFormat"],t);const r=s(n,["gcsUri"]);r!=null&&a(e,["gcsSource","uris"],r);const o=s(n,["bigqueryUri"]);if(o!=null&&a(e,["bigquerySource","inputUri"],o),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function pk(n){const e={},t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function mk(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function hk(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],Xr(n,r)),t}function gk(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],Xr(n,r)),t}function yk(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],Tk(t));const r=s(n,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],vk(r));const o=s(n,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const u=s(n,["finishReason"]);u!=null&&a(e,["finishReason"],u);const c=s(n,["urlContextMetadata"]);c!=null&&a(e,["urlContextMetadata"],y_(c));const d=s(n,["avgLogprobs"]);d!=null&&a(e,["avgLogprobs"],d);const m=s(n,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=s(n,["index"]);p!=null&&a(e,["index"],p);const g=s(n,["logprobsResult"]);g!=null&&a(e,["logprobsResult"],g);const y=s(n,["safetyRatings"]);return y!=null&&a(e,["safetyRatings"],y),e}function vk(n){const e={},t=s(n,["citationSources"]);return t!=null&&a(e,["citations"],t),e}function Ck(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function xk(n){const e={},t=s(n,["values"]);return t!=null&&a(e,["values"],t),e}function Tk(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>o_(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function Cg(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>l_(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function Sk(n,e){const t={},r=s(n,["displayName"]);if(e!==void 0&&r!=null&&a(e,["batch","displayName"],r),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Ek(n,e){const t={},r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const o=s(n,["dest"]);return e!==void 0&&o!=null&&a(e,["outputConfig"],ak(lk(o))),t}function Qu(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["src"]);o!=null&&a(t,["batch","inputConfig"],fk(n,gg(n,o)));const u=s(e,["config"]);return u!=null&&Sk(u,t),t}function wk(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["model"],De(n,r));const o=s(e,["src"]);o!=null&&a(t,["inputConfig"],dk(gg(n,o)));const u=s(e,["config"]);return u!=null&&Ek(u,t),t}function kk(n,e){const t={},r=s(n,["displayName"]);return e!==void 0&&r!=null&&a(e,["batch","displayName"],r),t}function Xu(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["src"]);o!=null&&a(t,["batch","inputConfig"],Dk(n,o));const u=s(e,["config"]);return u!=null&&kk(u,t),t}function _k(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],Xr(n,r)),t}function Ik(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],Xr(n,r)),t}function Ak(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const u=s(n,["error"]);return u!=null&&a(e,["error"],Wa(u)),e}function Mk(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const u=s(n,["error"]);return u!=null&&a(e,["error"],xg(u)),e}function Pk(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function Rk(n,e){const t={},r=s(e,["contents"]);r!=null&&a(t,["requests[]","request","content"],$a(n,r));const o=s(e,["config"]);return o!=null&&a(t,["config"],Nk(o,t)),t}function Nk(n,e){const t={},r=s(n,["taskType"]);e!==void 0&&r!=null&&a(e,["requests[]","taskType"],r);const o=s(n,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const u=s(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&a(e,["requests[]","outputDimensionality"],u),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Dk(n,e){const t={},r=s(e,["fileName"]);r!=null&&a(t,["file_name"],r);const o=s(e,["inlinedRequests"]);return o!=null&&a(t,["requests"],Rk(n,o)),t}function Lk(n){const e={},t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Fk(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Uk(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function Vk(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function bk(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function zk(n){const e={},t=s(n,["behavior"]);t!=null&&a(e,["behavior"],t);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const u=s(n,["parameters"]);u!=null&&a(e,["parameters"],u);const c=s(n,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=s(n,["response"]);d!=null&&a(e,["response"],d);const m=s(n,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function Bk(n,e,t){const r={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Cg(dn(o)));const u=s(e,["temperature"]);u!=null&&a(r,["temperature"],u);const c=s(e,["topP"]);c!=null&&a(r,["topP"],c);const d=s(e,["topK"]);d!=null&&a(r,["topK"],d);const m=s(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=s(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const g=s(e,["stopSequences"]);g!=null&&a(r,["stopSequences"],g);const y=s(e,["responseLogprobs"]);y!=null&&a(r,["responseLogprobs"],y);const C=s(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const T=s(e,["presencePenalty"]);T!=null&&a(r,["presencePenalty"],T);const E=s(e,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(r,["seed"],_);const R=s(e,["responseMimeType"]);R!=null&&a(r,["responseMimeType"],R);const A=s(e,["responseSchema"]);A!=null&&a(r,["responseSchema"],c_(Ga(A)));const z=s(e,["responseJsonSchema"]);if(z!=null&&a(r,["responseJsonSchema"],z),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=s(e,["safetySettings"]);if(t!==void 0&&U!=null){let Q=U;Array.isArray(Q)&&(Q=Q.map(te=>a_(te))),a(t,["safetySettings"],Q)}const $=s(e,["tools"]);if(t!==void 0&&$!=null){let Q=Qr($);Array.isArray(Q)&&(Q=Q.map(te=>g_(Yr(te)))),a(t,["tools"],Q)}const J=s(e,["toolConfig"]);if(t!==void 0&&J!=null&&a(t,["toolConfig"],h_(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=s(e,["cachedContent"]);t!==void 0&&L!=null&&a(t,["cachedContent"],yt(n,L));const K=s(e,["responseModalities"]);K!=null&&a(r,["responseModalities"],K);const ce=s(e,["mediaResolution"]);ce!=null&&a(r,["mediaResolution"],ce);const Z=s(e,["speechConfig"]);if(Z!=null&&a(r,["speechConfig"],p_(Oa(Z))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=s(e,["thinkingConfig"]);F!=null&&a(r,["thinkingConfig"],m_(F));const ne=s(e,["imageConfig"]);return ne!=null&&a(r,["imageConfig"],Jk(ne)),r}function qk(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(p=>yk(p))),a(e,["candidates"],m)}const o=s(n,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const u=s(n,["promptFeedback"]);u!=null&&a(e,["promptFeedback"],u);const c=s(n,["responseId"]);c!=null&&a(e,["responseId"],c);const d=s(n,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function Hk(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],Xr(n,r)),t}function $k(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],Xr(n,r)),t}function Gk(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],Pk(t)),e}function Ok(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],Qk(t)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Jk(n){const e={},t=s(n,["aspectRatio"]);return t!=null&&a(e,["aspectRatio"],t),e}function Wk(n){const e={},t=s(n,["response"]);t!=null&&a(e,["response"],f_(t));const r=s(n,["error"]);return r!=null&&a(e,["error"],Wa(r)),e}function Kk(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["request","model"],De(n,r));const o=s(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(d=>Cg(d))),a(t,["request","contents"],c)}const u=s(e,["config"]);return u!=null&&a(t,["request","generationConfig"],Bk(n,u,t)),t}function Yk(n){const e={},t=s(n,["response"]);t!=null&&a(e,["response"],qk(t));const r=s(n,["error"]);return r!=null&&a(e,["error"],Wa(r)),e}function Qk(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function Wa(n){const e={},t=s(n,["details"]);t!=null&&a(e,["details"],t);const r=s(n,["code"]);r!=null&&a(e,["code"],r);const o=s(n,["message"]);return o!=null&&a(e,["message"],o),e}function xg(n){const e={},t=s(n,["details"]);t!=null&&a(e,["details"],t);const r=s(n,["code"]);r!=null&&a(e,["code"],r);const o=s(n,["message"]);return o!=null&&a(e,["message"],o),e}function Xk(n){const e={},t=s(n,["latitude"]);t!=null&&a(e,["latitude"],t);const r=s(n,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function Zk(n,e){const t={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const o=s(n,["pageToken"]);if(e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function jk(n,e){const t={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const o=s(n,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const u=s(n,["filter"]);return e!==void 0&&u!=null&&a(e,["_query","filter"],u),t}function e_(n){const e={},t=s(n,["config"]);return t!=null&&Zk(t,e),e}function n_(n){const e={},t=s(n,["config"]);return t!=null&&jk(t,e),e}function t_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["operations"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Br(c))),a(e,["batchJobs"],u)}return e}function r_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["batchPredictionJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>ha(c))),a(e,["batchJobs"],u)}return e}function i_(n){const e={},t=s(n,["speakerVoiceConfigs"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>d_(o))),a(e,["speakerVoiceConfigs"],r)}return e}function o_(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],x_(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],pk(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],Lk(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],Uk(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function l_(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],T_(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],mk(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],Fk(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],Vk(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function s_(n){const e={},t=s(n,["voiceName"]);return t!=null&&a(e,["voiceName"],t),e}function u_(n){const e={},t=s(n,["latLng"]);t!=null&&a(e,["latLng"],Xk(t));const r=s(n,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function a_(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=s(n,["category"]);t!=null&&a(e,["category"],t);const r=s(n,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function c_(n){const e={},t=s(n,["anyOf"]);t!=null&&a(e,["anyOf"],t);const r=s(n,["default"]);r!=null&&a(e,["default"],r);const o=s(n,["description"]);o!=null&&a(e,["description"],o);const u=s(n,["enum"]);u!=null&&a(e,["enum"],u);const c=s(n,["example"]);c!=null&&a(e,["example"],c);const d=s(n,["format"]);d!=null&&a(e,["format"],d);const m=s(n,["items"]);m!=null&&a(e,["items"],m);const p=s(n,["maxItems"]);p!=null&&a(e,["maxItems"],p);const g=s(n,["maxLength"]);g!=null&&a(e,["maxLength"],g);const y=s(n,["maxProperties"]);y!=null&&a(e,["maxProperties"],y);const C=s(n,["maximum"]);C!=null&&a(e,["maximum"],C);const T=s(n,["minItems"]);T!=null&&a(e,["minItems"],T);const E=s(n,["minLength"]);E!=null&&a(e,["minLength"],E);const _=s(n,["minProperties"]);_!=null&&a(e,["minProperties"],_);const R=s(n,["minimum"]);R!=null&&a(e,["minimum"],R);const A=s(n,["nullable"]);A!=null&&a(e,["nullable"],A);const z=s(n,["pattern"]);z!=null&&a(e,["pattern"],z);const U=s(n,["properties"]);U!=null&&a(e,["properties"],U);const $=s(n,["propertyOrdering"]);$!=null&&a(e,["propertyOrdering"],$);const J=s(n,["required"]);J!=null&&a(e,["required"],J);const L=s(n,["title"]);L!=null&&a(e,["title"],L);const K=s(n,["type"]);return K!=null&&a(e,["type"],K),e}function f_(n){const e={},t=s(n,["embedding"]);t!=null&&a(e,["embedding"],xk(t));const r=s(n,["tokenCount"]);return r!=null&&a(e,["tokenCount"],r),e}function d_(n){const e={},t=s(n,["speaker"]);t!=null&&a(e,["speaker"],t);const r=s(n,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],Tg(r)),e}function p_(n){const e={},t=s(n,["voiceConfig"]);t!=null&&a(e,["voiceConfig"],Tg(t));const r=s(n,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],i_(r));const o=s(n,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function m_(n){const e={},t=s(n,["includeThoughts"]);t!=null&&a(e,["includeThoughts"],t);const r=s(n,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function h_(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],bk(t));const r=s(n,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],u_(r)),e}function g_(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>zk(p))),a(e,["functionDeclarations"],m)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],Ok(r));const o=s(n,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],Gk(o)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&a(e,["urlContext"],v_());const c=s(n,["computerUse"]);c!=null&&a(e,["computerUse"],Ck(c));const d=s(n,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function y_(n){const e={},t=s(n,["urlMetadata"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>C_(o))),a(e,["urlMetadata"],r)}return e}function v_(){return{}}function C_(n){const e={},t=s(n,["retrievedUrl"]);t!=null&&a(e,["retrievedUrl"],t);const r=s(n,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function x_(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function T_(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function Tg(n){const e={},t=s(n,["prebuiltVoiceConfig"]);return t!=null&&a(e,["prebuiltVoiceConfig"],s_(t)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var or;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(or||(or={}));class no{constructor(e,t,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,o)}init(e,t,r){var o,u;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=t.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S_ extends sr{constructor(e){super(),this.apiClient=e,this.create=async t=>{var r,o;if(this.apiClient.isVertexAI())return t.config=this.formatDestination(t.src,t.config),this.createInternal(t);const u=t.src;if(!(Array.isArray(t.src)||u.inlinedRequests!==void 0))return this.createInternal(t);const d=this.createInlinedGenerateContentRequest(t),m=d.path,p=d.body,g=Qu(this.apiClient,t)._query||{};return this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(C=>C.json()).then(C=>Br(C))},this.createEmbeddings=async t=>{var r,o;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(t.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(t);const d=this.createInlinedEmbedContentRequest(t),m=d.path,p=d.body,g=Xu(this.apiClient,t)._query||{};return this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(C=>C.json()).then(C=>Br(C))},this.list=async(t={})=>new no(or.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=Qu(this.apiClient,e),r=t._url,o=le("{model}:batchGenerateContent",r),d=t.batch.inputConfig.requests,m=d.requests,p=[];for(const g of m){const y=Object.assign({},g);if(y.systemInstruction){const C=y.systemInstruction;delete y.systemInstruction;const T=y.request;T.systemInstruction=C,y.request=T}p.push(y)}return d.requests=p,delete t.config,delete t._url,delete t._query,{path:o,body:t}}createInlinedEmbedContentRequest(e){const t=Xu(this.apiClient,e),r=t._url,o=le("{model}:asyncBatchEmbedContent",r),d=t.batch.inputConfig.requests,m=d.requests,p=[];delete d.config;for(const g of m){const y=Object.assign({},g),C=y.request;for(const T in y)T!=="request"&&(C[T]=y[T],delete y[T]);p.push(y)}return d.requests=p,delete t.config,delete t._url,delete t._query,{path:o,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?r.dest=`${u.slice(0,-6)}/dest`:r.dest=`${u}_dest_${o}`;else if(c)r.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=wk(this.apiClient,e);return d=le("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>ha(g))}else{const p=Qu(this.apiClient,e);return d=le("{model}:batchGenerateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>Br(g))}}async createEmbeddingsInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Xu(this.apiClient,e);return u=le("{model}:asyncBatchEmbedContent",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Br(m))}}async get(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=$k(this.apiClient,e);return d=le("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>ha(g))}else{const p=Hk(this.apiClient,e);return d=le("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>Br(g))}}async cancel(e){var t,r,o,u;let c="",d={};if(this.apiClient.isVertexAI()){const m=gk(this.apiClient,e);c=le("batchPredictionJobs/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const m=hk(this.apiClient,e);c=le("batches/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=n_(e);return d=le("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=r_(g),C=new Pm;return Object.assign(C,y),C})}else{const p=e_(e);return d=le("batches",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=t_(g),C=new Pm;return Object.assign(C,y),C})}}async delete(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=Ik(this.apiClient,e);return d=le("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>Mk(g))}else{const p=_k(this.apiClient,e);return d=le("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>Ak(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E_(n){const e={},t=s(n,["apiKeyString"]);return t!=null&&a(e,["apiKeyString"],t),e}function w_(n){const e={},t=s(n,["apiKeyConfig"]);t!=null&&a(e,["apiKeyConfig"],E_(t));const r=s(n,["authType"]);r!=null&&a(e,["authType"],r);const o=s(n,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const u=s(n,["httpBasicAuthConfig"]);u!=null&&a(e,["httpBasicAuthConfig"],u);const c=s(n,["oauthConfig"]);c!=null&&a(e,["oauthConfig"],c);const d=s(n,["oidcConfig"]);return d!=null&&a(e,["oidcConfig"],d),e}function k_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function __(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["data"]);r!=null&&a(e,["data"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function wl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["model"]);o!=null&&a(e,["model"],o);const u=s(n,["createTime"]);u!=null&&a(e,["createTime"],u);const c=s(n,["updateTime"]);c!=null&&a(e,["updateTime"],c);const d=s(n,["expireTime"]);d!=null&&a(e,["expireTime"],d);const m=s(n,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function kl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["model"]);o!=null&&a(e,["model"],o);const u=s(n,["createTime"]);u!=null&&a(e,["createTime"],u);const c=s(n,["updateTime"]);c!=null&&a(e,["updateTime"],c);const d=s(n,["expireTime"]);d!=null&&a(e,["expireTime"],d);const m=s(n,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function I_(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function A_(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function Lm(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>f1(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function Fm(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>d1(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function M_(n,e){const t={},r=s(n,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const o=s(n,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const u=s(n,["displayName"]);e!==void 0&&u!=null&&a(e,["displayName"],u);const c=s(n,["contents"]);if(e!==void 0&&c!=null){let g=qn(c);Array.isArray(g)&&(g=g.map(y=>Lm(y))),a(e,["contents"],g)}const d=s(n,["systemInstruction"]);e!==void 0&&d!=null&&a(e,["systemInstruction"],Lm(dn(d)));const m=s(n,["tools"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>y1(y))),a(e,["tools"],g)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&a(e,["toolConfig"],h1(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function P_(n,e){const t={},r=s(n,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const o=s(n,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const u=s(n,["displayName"]);e!==void 0&&u!=null&&a(e,["displayName"],u);const c=s(n,["contents"]);if(e!==void 0&&c!=null){let y=qn(c);Array.isArray(y)&&(y=y.map(C=>Fm(C))),a(e,["contents"],y)}const d=s(n,["systemInstruction"]);e!==void 0&&d!=null&&a(e,["systemInstruction"],Fm(dn(d)));const m=s(n,["tools"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(C=>v1(C))),a(e,["tools"],y)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&a(e,["toolConfig"],g1(p));const g=s(n,["kmsKeyName"]);return e!==void 0&&g!=null&&a(e,["encryption_spec","kmsKeyName"],g),t}function R_(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["model"],sg(n,r));const o=s(e,["config"]);return o!=null&&M_(o,t),t}function N_(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["model"],sg(n,r));const o=s(e,["config"]);return o!=null&&P_(o,t),t}function D_(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],yt(n,r)),t}function L_(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],yt(n,r)),t}function F_(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function U_(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function V_(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function b_(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function z_(n){const e={},t=s(n,["excludeDomains"]);return t!=null&&a(e,["excludeDomains"],t),e}function B_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function q_(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["fileUri"]);r!=null&&a(e,["fileUri"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function H_(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function $_(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function G_(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function O_(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function J_(n){const e={},t=s(n,["behavior"]);t!=null&&a(e,["behavior"],t);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const u=s(n,["parameters"]);u!=null&&a(e,["parameters"],u);const c=s(n,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=s(n,["response"]);d!=null&&a(e,["response"],d);const m=s(n,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function W_(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["parameters"]);o!=null&&a(e,["parameters"],o);const u=s(n,["parametersJsonSchema"]);u!=null&&a(e,["parametersJsonSchema"],u);const c=s(n,["response"]);c!=null&&a(e,["response"],c);const d=s(n,["responseJsonSchema"]);return d!=null&&a(e,["responseJsonSchema"],d),e}function K_(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],yt(n,r)),t}function Y_(n,e){const t={},r=s(e,["name"]);return r!=null&&a(t,["_url","name"],yt(n,r)),t}function Q_(n){const e={},t=s(n,["authConfig"]);return t!=null&&a(e,["authConfig"],w_(t)),e}function X_(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],V_(t)),e}function Z_(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],b_(t)),e}function j_(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],n1(t)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function e1(n){const e={},t=s(n,["timeRangeFilter"]);t!=null&&a(e,["timeRangeFilter"],t1(t));const r=s(n,["excludeDomains"]);return r!=null&&a(e,["excludeDomains"],r),e}function n1(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function t1(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function r1(n){const e={},t=s(n,["latitude"]);t!=null&&a(e,["latitude"],t);const r=s(n,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function i1(n){const e={},t=s(n,["latitude"]);t!=null&&a(e,["latitude"],t);const r=s(n,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function o1(n,e){const t={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function l1(n,e){const t={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function s1(n){const e={},t=s(n,["config"]);return t!=null&&o1(t,e),e}function u1(n){const e={},t=s(n,["config"]);return t!=null&&l1(t,e),e}function a1(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>wl(c))),a(e,["cachedContents"],u)}return e}function c1(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>kl(c))),a(e,["cachedContents"],u)}return e}function f1(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],k1(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],k_(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],B_(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],H_(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function d1(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],_1(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],__(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],q_(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],$_(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function p1(n){const e={},t=s(n,["latLng"]);t!=null&&a(e,["latLng"],r1(t));const r=s(n,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function m1(n){const e={},t=s(n,["latLng"]);t!=null&&a(e,["latLng"],i1(t));const r=s(n,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function h1(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],G_(t));const r=s(n,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],p1(r)),e}function g1(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],O_(t));const r=s(n,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],m1(r)),e}function y1(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>J_(p))),a(e,["functionDeclarations"],m)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],j_(r));const o=s(n,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],X_(o)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&a(e,["urlContext"],E1());const c=s(n,["computerUse"]);c!=null&&a(e,["computerUse"],I_(c));const d=s(n,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function v1(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let y=t;Array.isArray(y)&&(y=y.map(C=>W_(C))),a(e,["functionDeclarations"],y)}const r=s(n,["retrieval"]);r!=null&&a(e,["retrieval"],r);const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],e1(o));const u=s(n,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],Z_(u));const c=s(n,["enterpriseWebSearch"]);c!=null&&a(e,["enterpriseWebSearch"],z_(c));const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],Q_(d)),s(n,["urlContext"])!=null&&a(e,["urlContext"],w1());const p=s(n,["computerUse"]);p!=null&&a(e,["computerUse"],A_(p));const g=s(n,["codeExecution"]);return g!=null&&a(e,["codeExecution"],g),e}function C1(n,e){const t={},r=s(n,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const o=s(n,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),t}function x1(n,e){const t={},r=s(n,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const o=s(n,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),t}function T1(n,e){const t={},r=s(e,["name"]);r!=null&&a(t,["_url","name"],yt(n,r));const o=s(e,["config"]);return o!=null&&C1(o,t),t}function S1(n,e){const t={},r=s(e,["name"]);r!=null&&a(t,["_url","name"],yt(n,r));const o=s(e,["config"]);return o!=null&&x1(o,t),t}function E1(){return{}}function w1(){return{}}function k1(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function _1(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I1 extends sr{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new no(or.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=N_(this.apiClient,e);return d=le("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>kl(g))}else{const p=R_(this.apiClient,e);return d=le("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>wl(g))}}async get(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=Y_(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>kl(g))}else{const p=K_(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>wl(g))}}async delete(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=L_(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=U_(g),C=new Am;return Object.assign(C,y),C})}else{const p=D_(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=F_(g),C=new Am;return Object.assign(C,y),C})}}async update(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=S1(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>kl(g))}else{const p=T1(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>wl(g))}}async listInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=u1(e);return d=le("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=c1(g),C=new Mm;return Object.assign(C,y),C})}else{const p=s1(e);return d=le("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=a1(g),C=new Mm;return Object.assign(C,y),C})}}}function Um(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(n){return this instanceof qe?(this.v=n,this):new qe(n)}function Gr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(T){return function(E){return Promise.resolve(E).then(T,y)}}function d(T,E){r[T]&&(o[T]=function(_){return new Promise(function(R,A){u.push([T,_,R,A])>1||m(T,_)})},E&&(o[T]=E(o[T])))}function m(T,E){try{p(r[T](E))}catch(_){C(u[0][3],_)}}function p(T){T.value instanceof qe?Promise.resolve(T.value.v).then(g,y):C(u[0][2],T)}function g(T){m("next",T)}function y(T){m("throw",T)}function C(T,E){T(E),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Yi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Um=="function"?Um(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(u){t[u]=n[u]&&function(c){return new Promise(function(d,m){c=n[u](c),o(d,m,c.done,c.value)})}}function o(u,c,d,m){Promise.resolve(m).then(function(p){u({value:p,done:d})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A1(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Sg(t)}function Sg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function M1(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Vm(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const o=[];let u=!0;for(;r<t&&n[r].role==="model";)o.push(n[r]),u&&!Sg(n[r])&&(u=!1),r++;u?e.push(...o):e.pop()}return e}class P1{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new R1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class R1{constructor(e,t,r,o={},u=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),M1(u)}async sendMessage(e){var t;await this.sendPromise;const r=dn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var u,c,d;const m=await o,p=(c=(u=m.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,g=m.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let C=[];g!=null&&(C=(d=g.slice(y))!==null&&d!==void 0?d:[]);const T=p?[p]:[];this.recordHistory(r,T,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const r=dn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,r)}getHistory(e=!1){const t=e?Vm(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,o;return Gr(this,arguments,function*(){var c,d,m,p;const g=[];try{for(var y=!0,C=Yi(e),T;T=yield qe(C.next()),c=T.done,!c;y=!0){p=T.value,y=!1;const E=p;if(A1(E)){const _=(o=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;_!==void 0&&g.push(_)}yield yield qe(E)}}catch(E){d={error:E}}finally{try{!y&&!c&&(m=C.return)&&(yield qe(m.call(C)))}finally{if(d)throw d.error}}this.recordHistory(t,g)})}recordHistory(e,t,r){let o=[];t.length>0&&t.every(u=>u.role!==void 0)?o=t:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Vm(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N1(n){const e={},t=s(n,["file"]);return t!=null&&a(e,["file"],b1(t)),e}function D1(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function L1(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],pg(t)),e}function F1(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function ga(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["mimeType"]);o!=null&&a(e,["mimeType"],o);const u=s(n,["sizeBytes"]);u!=null&&a(e,["sizeBytes"],u);const c=s(n,["createTime"]);c!=null&&a(e,["createTime"],c);const d=s(n,["expirationTime"]);d!=null&&a(e,["expirationTime"],d);const m=s(n,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=s(n,["sha256Hash"]);p!=null&&a(e,["sha256Hash"],p);const g=s(n,["uri"]);g!=null&&a(e,["uri"],g);const y=s(n,["downloadUri"]);y!=null&&a(e,["downloadUri"],y);const C=s(n,["state"]);C!=null&&a(e,["state"],C);const T=s(n,["source"]);T!=null&&a(e,["source"],T);const E=s(n,["videoMetadata"]);E!=null&&a(e,["videoMetadata"],E);const _=s(n,["error"]);return _!=null&&a(e,["error"],U1(_)),e}function U1(n){const e={},t=s(n,["details"]);t!=null&&a(e,["details"],t);const r=s(n,["message"]);r!=null&&a(e,["message"],r);const o=s(n,["code"]);return o!=null&&a(e,["code"],o),e}function V1(n){const e={},t=s(n,["details"]);t!=null&&a(e,["details"],t);const r=s(n,["message"]);r!=null&&a(e,["message"],r);const o=s(n,["code"]);return o!=null&&a(e,["code"],o),e}function b1(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["mimeType"]);o!=null&&a(e,["mimeType"],o);const u=s(n,["sizeBytes"]);u!=null&&a(e,["sizeBytes"],u);const c=s(n,["createTime"]);c!=null&&a(e,["createTime"],c);const d=s(n,["expirationTime"]);d!=null&&a(e,["expirationTime"],d);const m=s(n,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=s(n,["sha256Hash"]);p!=null&&a(e,["sha256Hash"],p);const g=s(n,["uri"]);g!=null&&a(e,["uri"],g);const y=s(n,["downloadUri"]);y!=null&&a(e,["downloadUri"],y);const C=s(n,["state"]);C!=null&&a(e,["state"],C);const T=s(n,["source"]);T!=null&&a(e,["source"],T);const E=s(n,["videoMetadata"]);E!=null&&a(e,["videoMetadata"],E);const _=s(n,["error"]);return _!=null&&a(e,["error"],V1(_)),e}function z1(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],pg(t)),e}function B1(n,e){const t={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function q1(n){const e={},t=s(n,["config"]);return t!=null&&B1(t,e),e}function H1(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>ga(c))),a(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $1 extends sr{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new no(or.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>ga(t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=q1(e);return u=le("files",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:m.headers},g})),o.then(m=>{const p=H1(m),g=new Ww;return Object.assign(g,p),g})}}async createInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=N1(e);return u=le("upload/v1beta/files",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=D1(m),g=new Kw;return Object.assign(g,p),g})}}async get(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=z1(e);return u=le("files/{file}",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>ga(m))}}async delete(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=L1(e);return u=le("files/{file}",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:m.headers},g})),o.then(m=>{const p=F1(m),g=new Yw;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1(){return{}}function O1(){return{}}function J1(){return{}}function W1(){return{}}function K1(n){const e={},t=s(n,["apiKeyString"]);return t!=null&&a(e,["apiKeyString"],t),e}function Y1(n){const e={},t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);r!=null&&a(e,["mimeType"],r);const o=s(n,["sourceMetadata"]);return o!=null&&a(e,["sourceMetadata"],qI(o)),e}function bm(){return{}}function zm(){return{}}function Q1(n){const e={},t=s(n,["apiKeyConfig"]);t!=null&&a(e,["apiKeyConfig"],K1(t));const r=s(n,["authType"]);r!=null&&a(e,["authType"],r);const o=s(n,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const u=s(n,["httpBasicAuthConfig"]);u!=null&&a(e,["httpBasicAuthConfig"],u);const c=s(n,["oauthConfig"]);c!=null&&a(e,["oauthConfig"],c);const d=s(n,["oidcConfig"]);return d!=null&&a(e,["oidcConfig"],d),e}function X1(n){const e={},t=s(n,["disabled"]);t!=null&&a(e,["disabled"],t);const r=s(n,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const o=s(n,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const u=s(n,["prefixPaddingMs"]);u!=null&&a(e,["prefixPaddingMs"],u);const c=s(n,["silenceDurationMs"]);return c!=null&&a(e,["silenceDurationMs"],c),e}function Z1(n){const e={},t=s(n,["disabled"]);t!=null&&a(e,["disabled"],t);const r=s(n,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const o=s(n,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const u=s(n,["prefixPaddingMs"]);u!=null&&a(e,["prefixPaddingMs"],u);const c=s(n,["silenceDurationMs"]);return c!=null&&a(e,["silenceDurationMs"],c),e}function j1(n){const e={},t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function eI(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["data"]);r!=null&&a(e,["data"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function nI(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function tI(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["data"]);r!=null&&a(e,["data"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function rI(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function iI(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function oI(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>oA(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function lI(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>lA(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function sI(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>sA(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function uI(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>uA(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function aI(n){const e={},t=s(n,["triggerTokens"]);t!=null&&a(e,["triggerTokens"],t);const r=s(n,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],yA(r)),e}function cI(n){const e={},t=s(n,["triggerTokens"]);t!=null&&a(e,["triggerTokens"],t);const r=s(n,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],vA(r)),e}function fI(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function dI(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function pI(n){const e={},t=s(n,["excludeDomains"]);return t!=null&&a(e,["excludeDomains"],t),e}function mI(n){const e={},t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function hI(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["fileUri"]);r!=null&&a(e,["fileUri"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function gI(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function yI(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["fileUri"]);r!=null&&a(e,["fileUri"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Eg(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function wg(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function vI(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function CI(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function xI(n){const e={},t=s(n,["behavior"]);t!=null&&a(e,["behavior"],t);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const u=s(n,["parameters"]);u!=null&&a(e,["parameters"],u);const c=s(n,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=s(n,["response"]);d!=null&&a(e,["response"],d);const m=s(n,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function TI(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["parameters"]);o!=null&&a(e,["parameters"],o);const u=s(n,["parametersJsonSchema"]);u!=null&&a(e,["parametersJsonSchema"],u);const c=s(n,["response"]);c!=null&&a(e,["response"],c);const d=s(n,["responseJsonSchema"]);return d!=null&&a(e,["responseJsonSchema"],d),e}function SI(n){const e={},t=s(n,["authConfig"]);return t!=null&&a(e,["authConfig"],Q1(t)),e}function EI(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],fI(t)),e}function wI(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],dI(t)),e}function kI(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],II(t)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function _I(n){const e={},t=s(n,["timeRangeFilter"]);t!=null&&a(e,["timeRangeFilter"],AI(t));const r=s(n,["excludeDomains"]);return r!=null&&a(e,["excludeDomains"],r),e}function II(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function AI(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function MI(n,e){const t={},r=s(n,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const o=s(n,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const u=s(n,["temperature"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","temperature"],u);const c=s(n,["topP"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","topP"],c);const d=s(n,["topK"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topK"],d);const m=s(n,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","seed"],g);const y=s(n,["speechConfig"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","speechConfig"],xA(Ja(y)));const C=s(n,["thinkingConfig"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","thinkingConfig"],SA(C));const T=s(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],T);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],sI(dn(E)));const _=s(n,["tools"]);if(e!==void 0&&_!=null){let L=Qr(_);Array.isArray(L)&&(L=L.map(K=>wA(Yr(K)))),a(e,["setup","tools"],L)}const R=s(n,["sessionResumption"]);e!==void 0&&R!=null&&a(e,["setup","sessionResumption"],hA(R));const A=s(n,["inputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","inputAudioTranscription"],bm());const z=s(n,["outputAudioTranscription"]);e!==void 0&&z!=null&&a(e,["setup","outputAudioTranscription"],bm());const U=s(n,["realtimeInputConfig"]);e!==void 0&&U!=null&&a(e,["setup","realtimeInputConfig"],pA(U));const $=s(n,["contextWindowCompression"]);e!==void 0&&$!=null&&a(e,["setup","contextWindowCompression"],aI($));const J=s(n,["proactivity"]);return e!==void 0&&J!=null&&a(e,["setup","proactivity"],fA(J)),t}function PI(n,e){const t={},r=s(n,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const o=s(n,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const u=s(n,["temperature"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","temperature"],u);const c=s(n,["topP"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","topP"],c);const d=s(n,["topK"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topK"],d);const m=s(n,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","seed"],g);const y=s(n,["speechConfig"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","speechConfig"],TA(Ja(y)));const C=s(n,["thinkingConfig"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","thinkingConfig"],EA(C));const T=s(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],T);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],uI(dn(E)));const _=s(n,["tools"]);if(e!==void 0&&_!=null){let L=Qr(_);Array.isArray(L)&&(L=L.map(K=>kA(Yr(K)))),a(e,["setup","tools"],L)}const R=s(n,["sessionResumption"]);e!==void 0&&R!=null&&a(e,["setup","sessionResumption"],gA(R));const A=s(n,["inputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","inputAudioTranscription"],zm());const z=s(n,["outputAudioTranscription"]);e!==void 0&&z!=null&&a(e,["setup","outputAudioTranscription"],zm());const U=s(n,["realtimeInputConfig"]);e!==void 0&&U!=null&&a(e,["setup","realtimeInputConfig"],mA(U));const $=s(n,["contextWindowCompression"]);e!==void 0&&$!=null&&a(e,["setup","contextWindowCompression"],cI($));const J=s(n,["proactivity"]);return e!==void 0&&J!=null&&a(e,["setup","proactivity"],dA(J)),t}function RI(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["setup","model"],De(n,r));const o=s(e,["config"]);return o!=null&&a(t,["config"],MI(o,t)),t}function NI(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["setup","model"],De(n,r));const o=s(e,["config"]);return o!=null&&a(t,["config"],PI(o,t)),t}function DI(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>VA(o))),a(e,["weightedPrompts"],r)}return e}function kg(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>Mg(o))),a(e,["weightedPrompts"],r)}return e}function ya(n){const e={},t=s(n,["setup"]);t!=null&&a(e,["setup"],_g(t));const r=s(n,["clientContent"]);r!=null&&a(e,["clientContent"],kg(r));const o=s(n,["musicGenerationConfig"]);o!=null&&a(e,["musicGenerationConfig"],Ig(o));const u=s(n,["playbackControl"]);return u!=null&&a(e,["playbackControl"],u),e}function _g(n){const e={},t=s(n,["model"]);return t!=null&&a(e,["model"],t),e}function LI(n){const e={},t=s(n,["text"]);t!=null&&a(e,["text"],t);const r=s(n,["filteredReason"]);return r!=null&&a(e,["filteredReason"],r),e}function FI(n){const e={},t=s(n,["temperature"]);t!=null&&a(e,["temperature"],t);const r=s(n,["topK"]);r!=null&&a(e,["topK"],r);const o=s(n,["seed"]);o!=null&&a(e,["seed"],o);const u=s(n,["guidance"]);u!=null&&a(e,["guidance"],u);const c=s(n,["bpm"]);c!=null&&a(e,["bpm"],c);const d=s(n,["density"]);d!=null&&a(e,["density"],d);const m=s(n,["brightness"]);m!=null&&a(e,["brightness"],m);const p=s(n,["scale"]);p!=null&&a(e,["scale"],p);const g=s(n,["muteBass"]);g!=null&&a(e,["muteBass"],g);const y=s(n,["muteDrums"]);y!=null&&a(e,["muteDrums"],y);const C=s(n,["onlyBassAndDrums"]);C!=null&&a(e,["onlyBassAndDrums"],C);const T=s(n,["musicGenerationMode"]);return T!=null&&a(e,["musicGenerationMode"],T),e}function Ig(n){const e={},t=s(n,["temperature"]);t!=null&&a(e,["temperature"],t);const r=s(n,["topK"]);r!=null&&a(e,["topK"],r);const o=s(n,["seed"]);o!=null&&a(e,["seed"],o);const u=s(n,["guidance"]);u!=null&&a(e,["guidance"],u);const c=s(n,["bpm"]);c!=null&&a(e,["bpm"],c);const d=s(n,["density"]);d!=null&&a(e,["density"],d);const m=s(n,["brightness"]);m!=null&&a(e,["brightness"],m);const p=s(n,["scale"]);p!=null&&a(e,["scale"],p);const g=s(n,["muteBass"]);g!=null&&a(e,["muteBass"],g);const y=s(n,["muteDrums"]);y!=null&&a(e,["muteDrums"],y);const C=s(n,["onlyBassAndDrums"]);C!=null&&a(e,["onlyBassAndDrums"],C);const T=s(n,["musicGenerationMode"]);return T!=null&&a(e,["musicGenerationMode"],T),e}function UI(n){const e={},t=s(n,["audioChunks"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>Y1(o))),a(e,["audioChunks"],r)}return e}function VI(n){const e={};s(n,["setupComplete"])!=null&&a(e,["setupComplete"],bI());const r=s(n,["serverContent"]);r!=null&&a(e,["serverContent"],UI(r));const o=s(n,["filteredPrompt"]);return o!=null&&a(e,["filteredPrompt"],LI(o)),e}function bI(){return{}}function zI(n){const e={},t=s(n,["musicGenerationConfig"]);return t!=null&&a(e,["musicGenerationConfig"],Ig(t)),e}function BI(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>Mg(o))),a(e,["weightedPrompts"],r)}return e}function qI(n){const e={},t=s(n,["clientContent"]);t!=null&&a(e,["clientContent"],DI(t));const r=s(n,["musicGenerationConfig"]);return r!=null&&a(e,["musicGenerationConfig"],FI(r)),e}function HI(n){const e={},t=s(n,["media"]);if(t!=null){let p=ug(t);Array.isArray(p)&&(p=p.map(g=>g)),a(e,["mediaChunks"],p)}const r=s(n,["audio"]);r!=null&&a(e,["audio"],cg(r));const o=s(n,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const u=s(n,["video"]);u!=null&&a(e,["video"],ag(u));const c=s(n,["text"]);return c!=null&&a(e,["text"],c),s(n,["activityStart"])!=null&&a(e,["activityStart"],J1()),s(n,["activityEnd"])!=null&&a(e,["activityEnd"],G1()),e}function $I(n){const e={},t=s(n,["media"]);if(t!=null){let p=ug(t);Array.isArray(p)&&(p=p.map(g=>g)),a(e,["mediaChunks"],p)}const r=s(n,["audio"]);r!=null&&a(e,["audio"],cg(r));const o=s(n,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const u=s(n,["video"]);u!=null&&a(e,["video"],ag(u));const c=s(n,["text"]);return c!=null&&a(e,["text"],c),s(n,["activityStart"])!=null&&a(e,["activityStart"],W1()),s(n,["activityEnd"])!=null&&a(e,["activityEnd"],O1()),e}function GI(n){const e={},t=s(n,["modelTurn"]);t!=null&&a(e,["modelTurn"],oI(t));const r=s(n,["turnComplete"]);r!=null&&a(e,["turnComplete"],r);const o=s(n,["interrupted"]);o!=null&&a(e,["interrupted"],o);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(n,["generationComplete"]);c!=null&&a(e,["generationComplete"],c);const d=s(n,["inputTranscription"]);d!=null&&a(e,["inputTranscription"],Bm(d));const m=s(n,["outputTranscription"]);m!=null&&a(e,["outputTranscription"],Bm(m));const p=s(n,["urlContextMetadata"]);p!=null&&a(e,["urlContextMetadata"],_A(p));const g=s(n,["turnCompleteReason"]);g!=null&&a(e,["turnCompleteReason"],g);const y=s(n,["waitingForInput"]);return y!=null&&a(e,["waitingForInput"],y),e}function OI(n){const e={},t=s(n,["modelTurn"]);t!=null&&a(e,["modelTurn"],lI(t));const r=s(n,["turnComplete"]);r!=null&&a(e,["turnComplete"],r);const o=s(n,["interrupted"]);o!=null&&a(e,["interrupted"],o);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(n,["generationComplete"]);c!=null&&a(e,["generationComplete"],c);const d=s(n,["inputTranscription"]);d!=null&&a(e,["inputTranscription"],qm(d));const m=s(n,["outputTranscription"]);m!=null&&a(e,["outputTranscription"],qm(m));const p=s(n,["turnCompleteReason"]);p!=null&&a(e,["turnCompleteReason"],p);const g=s(n,["waitingForInput"]);return g!=null&&a(e,["waitingForInput"],g),e}function JI(n){const e={},t=s(n,["timeLeft"]);return t!=null&&a(e,["timeLeft"],t),e}function WI(n){const e={},t=s(n,["timeLeft"]);return t!=null&&a(e,["timeLeft"],t),e}function KI(n){const e={};s(n,["setupComplete"])!=null&&a(e,["setupComplete"],ZI());const r=s(n,["serverContent"]);r!=null&&a(e,["serverContent"],GI(r));const o=s(n,["toolCall"]);o!=null&&a(e,["toolCall"],tA(o));const u=s(n,["toolCallCancellation"]);u!=null&&a(e,["toolCallCancellation"],eA(u));const c=s(n,["usageMetadata"]);c!=null&&a(e,["usageMetadata"],PA(c));const d=s(n,["goAway"]);d!=null&&a(e,["goAway"],JI(d));const m=s(n,["sessionResumptionUpdate"]);return m!=null&&a(e,["sessionResumptionUpdate"],QI(m)),e}function YI(n){const e={},t=s(n,["setupComplete"]);t!=null&&a(e,["setupComplete"],jI(t));const r=s(n,["serverContent"]);r!=null&&a(e,["serverContent"],OI(r));const o=s(n,["toolCall"]);o!=null&&a(e,["toolCall"],rA(o));const u=s(n,["toolCallCancellation"]);u!=null&&a(e,["toolCallCancellation"],nA(u));const c=s(n,["usageMetadata"]);c!=null&&a(e,["usageMetadata"],RA(c));const d=s(n,["goAway"]);d!=null&&a(e,["goAway"],WI(d));const m=s(n,["sessionResumptionUpdate"]);return m!=null&&a(e,["sessionResumptionUpdate"],XI(m)),e}function QI(n){const e={},t=s(n,["newHandle"]);t!=null&&a(e,["newHandle"],t);const r=s(n,["resumable"]);r!=null&&a(e,["resumable"],r);const o=s(n,["lastConsumedClientMessageIndex"]);return o!=null&&a(e,["lastConsumedClientMessageIndex"],o),e}function XI(n){const e={},t=s(n,["newHandle"]);t!=null&&a(e,["newHandle"],t);const r=s(n,["resumable"]);r!=null&&a(e,["resumable"],r);const o=s(n,["lastConsumedClientMessageIndex"]);return o!=null&&a(e,["lastConsumedClientMessageIndex"],o),e}function ZI(){return{}}function jI(n){const e={},t=s(n,["sessionId"]);return t!=null&&a(e,["sessionId"],t),e}function eA(n){const e={},t=s(n,["ids"]);return t!=null&&a(e,["ids"],t),e}function nA(n){const e={},t=s(n,["ids"]);return t!=null&&a(e,["ids"],t),e}function tA(n){const e={},t=s(n,["functionCalls"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>Eg(o))),a(e,["functionCalls"],r)}return e}function rA(n){const e={},t=s(n,["functionCalls"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>wg(o))),a(e,["functionCalls"],r)}return e}function xl(n){const e={},t=s(n,["modality"]);t!=null&&a(e,["modality"],t);const r=s(n,["tokenCount"]);return r!=null&&a(e,["tokenCount"],r),e}function Tl(n){const e={},t=s(n,["modality"]);t!=null&&a(e,["modality"],t);const r=s(n,["tokenCount"]);return r!=null&&a(e,["tokenCount"],r),e}function iA(n){const e={},t=s(n,["speakerVoiceConfigs"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>CA(o))),a(e,["speakerVoiceConfigs"],r)}return e}function oA(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],NA(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],j1(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],mI(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],Eg(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function lA(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],DA(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],eI(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],hI(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],wg(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function sA(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],LA(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],nI(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],gI(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],vI(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function uA(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],FA(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],tI(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],yI(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],CI(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function aA(n){const e={},t=s(n,["voiceName"]);return t!=null&&a(e,["voiceName"],t),e}function cA(n){const e={},t=s(n,["voiceName"]);return t!=null&&a(e,["voiceName"],t),e}function fA(n){const e={},t=s(n,["proactiveAudio"]);return t!=null&&a(e,["proactiveAudio"],t),e}function dA(n){const e={},t=s(n,["proactiveAudio"]);return t!=null&&a(e,["proactiveAudio"],t),e}function pA(n){const e={},t=s(n,["automaticActivityDetection"]);t!=null&&a(e,["automaticActivityDetection"],X1(t));const r=s(n,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const o=s(n,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function mA(n){const e={},t=s(n,["automaticActivityDetection"]);t!=null&&a(e,["automaticActivityDetection"],Z1(t));const r=s(n,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const o=s(n,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function hA(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gA(n){const e={},t=s(n,["handle"]);t!=null&&a(e,["handle"],t);const r=s(n,["transparent"]);return r!=null&&a(e,["transparent"],r),e}function yA(n){const e={},t=s(n,["targetTokens"]);return t!=null&&a(e,["targetTokens"],t),e}function vA(n){const e={},t=s(n,["targetTokens"]);return t!=null&&a(e,["targetTokens"],t),e}function CA(n){const e={},t=s(n,["speaker"]);t!=null&&a(e,["speaker"],t);const r=s(n,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],Ag(r)),e}function xA(n){const e={},t=s(n,["voiceConfig"]);t!=null&&a(e,["voiceConfig"],Ag(t));const r=s(n,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],iA(r));const o=s(n,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function TA(n){const e={},t=s(n,["voiceConfig"]);if(t!=null&&a(e,["voiceConfig"],UA(t)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=s(n,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function SA(n){const e={},t=s(n,["includeThoughts"]);t!=null&&a(e,["includeThoughts"],t);const r=s(n,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function EA(n){const e={},t=s(n,["includeThoughts"]);t!=null&&a(e,["includeThoughts"],t);const r=s(n,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function wA(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>xI(p))),a(e,["functionDeclarations"],m)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],kI(r));const o=s(n,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],EI(o)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&a(e,["urlContext"],IA());const c=s(n,["computerUse"]);c!=null&&a(e,["computerUse"],rI(c));const d=s(n,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function kA(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let y=t;Array.isArray(y)&&(y=y.map(C=>TI(C))),a(e,["functionDeclarations"],y)}const r=s(n,["retrieval"]);r!=null&&a(e,["retrieval"],r);const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],_I(o));const u=s(n,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],wI(u));const c=s(n,["enterpriseWebSearch"]);c!=null&&a(e,["enterpriseWebSearch"],pI(c));const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],SI(d)),s(n,["urlContext"])!=null&&a(e,["urlContext"],AA());const p=s(n,["computerUse"]);p!=null&&a(e,["computerUse"],iI(p));const g=s(n,["codeExecution"]);return g!=null&&a(e,["codeExecution"],g),e}function Bm(n){const e={},t=s(n,["text"]);t!=null&&a(e,["text"],t);const r=s(n,["finished"]);return r!=null&&a(e,["finished"],r),e}function qm(n){const e={},t=s(n,["text"]);t!=null&&a(e,["text"],t);const r=s(n,["finished"]);return r!=null&&a(e,["finished"],r),e}function _A(n){const e={},t=s(n,["urlMetadata"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>MA(o))),a(e,["urlMetadata"],r)}return e}function IA(){return{}}function AA(){return{}}function MA(n){const e={},t=s(n,["retrievedUrl"]);t!=null&&a(e,["retrievedUrl"],t);const r=s(n,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function PA(n){const e={},t=s(n,["promptTokenCount"]);t!=null&&a(e,["promptTokenCount"],t);const r=s(n,["cachedContentTokenCount"]);r!=null&&a(e,["cachedContentTokenCount"],r);const o=s(n,["responseTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const u=s(n,["toolUsePromptTokenCount"]);u!=null&&a(e,["toolUsePromptTokenCount"],u);const c=s(n,["thoughtsTokenCount"]);c!=null&&a(e,["thoughtsTokenCount"],c);const d=s(n,["totalTokenCount"]);d!=null&&a(e,["totalTokenCount"],d);const m=s(n,["promptTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(T=>xl(T))),a(e,["promptTokensDetails"],C)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(T=>xl(T))),a(e,["cacheTokensDetails"],C)}const g=s(n,["responseTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(T=>xl(T))),a(e,["responseTokensDetails"],C)}const y=s(n,["toolUsePromptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(T=>xl(T))),a(e,["toolUsePromptTokensDetails"],C)}return e}function RA(n){const e={},t=s(n,["promptTokenCount"]);t!=null&&a(e,["promptTokenCount"],t);const r=s(n,["cachedContentTokenCount"]);r!=null&&a(e,["cachedContentTokenCount"],r);const o=s(n,["candidatesTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const u=s(n,["toolUsePromptTokenCount"]);u!=null&&a(e,["toolUsePromptTokenCount"],u);const c=s(n,["thoughtsTokenCount"]);c!=null&&a(e,["thoughtsTokenCount"],c);const d=s(n,["totalTokenCount"]);d!=null&&a(e,["totalTokenCount"],d);const m=s(n,["promptTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>Tl(E))),a(e,["promptTokensDetails"],T)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>Tl(E))),a(e,["cacheTokensDetails"],T)}const g=s(n,["candidatesTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(E=>Tl(E))),a(e,["responseTokensDetails"],T)}const y=s(n,["toolUsePromptTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>Tl(E))),a(e,["toolUsePromptTokensDetails"],T)}const C=s(n,["trafficType"]);return C!=null&&a(e,["trafficType"],C),e}function NA(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function DA(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function LA(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function FA(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function Ag(n){const e={},t=s(n,["prebuiltVoiceConfig"]);return t!=null&&a(e,["prebuiltVoiceConfig"],aA(t)),e}function UA(n){const e={},t=s(n,["prebuiltVoiceConfig"]);return t!=null&&a(e,["prebuiltVoiceConfig"],cA(t)),e}function VA(n){const e={},t=s(n,["text"]);t!=null&&a(e,["text"],t);const r=s(n,["weight"]);return r!=null&&a(e,["weight"],r),e}function Mg(n){const e={},t=s(n,["text"]);t!=null&&a(e,["text"],t);const r=s(n,["weight"]);return r!=null&&a(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(n){const e={},t=s(n,["apiKeyString"]);return t!=null&&a(e,["apiKeyString"],t),e}function zA(n){const e={},t=s(n,["apiKeyConfig"]);t!=null&&a(e,["apiKeyConfig"],bA(t));const r=s(n,["authType"]);r!=null&&a(e,["authType"],r);const o=s(n,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const u=s(n,["httpBasicAuthConfig"]);u!=null&&a(e,["httpBasicAuthConfig"],u);const c=s(n,["oauthConfig"]);c!=null&&a(e,["oauthConfig"],c);const d=s(n,["oidcConfig"]);return d!=null&&a(e,["oidcConfig"],d),e}function BA(n){const e={},t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function qA(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["data"]);r!=null&&a(e,["data"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function HA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function $A(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["data"]);r!=null&&a(e,["data"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function GA(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],tM(t));const r=s(n,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],WA(r));const o=s(n,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const u=s(n,["finishReason"]);u!=null&&a(e,["finishReason"],u);const c=s(n,["urlContextMetadata"]);c!=null&&a(e,["urlContextMetadata"],SR(c));const d=s(n,["avgLogprobs"]);d!=null&&a(e,["avgLogprobs"],d);const m=s(n,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=s(n,["index"]);p!=null&&a(e,["index"],p);const g=s(n,["logprobsResult"]);g!=null&&a(e,["logprobsResult"],g);const y=s(n,["safetyRatings"]);return y!=null&&a(e,["safetyRatings"],y),e}function OA(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],rM(t));const r=s(n,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],KA(r));const o=s(n,["finishMessage"]);o!=null&&a(e,["finishMessage"],o);const u=s(n,["finishReason"]);u!=null&&a(e,["finishReason"],u);const c=s(n,["urlContextMetadata"]);c!=null&&a(e,["urlContextMetadata"],ER(c));const d=s(n,["avgLogprobs"]);d!=null&&a(e,["avgLogprobs"],d);const m=s(n,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=s(n,["index"]);p!=null&&a(e,["index"],p);const g=s(n,["logprobsResult"]);g!=null&&a(e,["logprobsResult"],g);const y=s(n,["safetyRatings"]);return y!=null&&a(e,["safetyRatings"],y),e}function JA(n){const e={},t=s(n,["checkpointId"]);t!=null&&a(e,["checkpointId"],t);const r=s(n,["epoch"]);r!=null&&a(e,["epoch"],r);const o=s(n,["step"]);return o!=null&&a(e,["step"],o),e}function WA(n){const e={},t=s(n,["citationSources"]);return t!=null&&a(e,["citations"],t),e}function KA(n){const e={},t=s(n,["citations"]);return t!=null&&a(e,["citations"],t),e}function YA(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["contents"]);if(o!=null){let u=qn(o);Array.isArray(u)&&(u=u.map(c=>Zr(c))),a(t,["contents"],u)}return t}function QA(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["tokensInfo"]);return r!=null&&a(e,["tokensInfo"],r),e}function XA(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function ZA(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function jA(n){const e={},t=s(n,["values"]);return t!=null&&a(e,["values"],t),e}function eM(n){const e={},t=s(n,["values"]);t!=null&&a(e,["values"],t);const r=s(n,["statistics"]);return r!=null&&a(e,["statistics"],nM(r)),e}function nM(n){const e={},t=s(n,["truncated"]);t!=null&&a(e,["truncated"],t);const r=s(n,["token_count"]);return r!=null&&a(e,["tokenCount"],r),e}function tM(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>LP(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function rM(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>FP(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function ql(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>UP(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function Zr(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>VP(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function iM(n){const e={},t=s(n,["controlType"]);t!=null&&a(e,["controlType"],t);const r=s(n,["enableControlImageComputation"]);return r!=null&&a(e,["computeControl"],r),e}function oM(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lM(n,e){const t={},r=s(n,["systemInstruction"]);e!==void 0&&r!=null&&a(e,["systemInstruction"],Zr(dn(r)));const o=s(n,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Lg(d))),a(e,["tools"],c)}const u=s(n,["generationConfig"]);return e!==void 0&&u!=null&&a(e,["generationConfig"],u),t}function sM(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(d=>ql(d))),a(t,["contents"],c)}const u=s(e,["config"]);return u!=null&&oM(u),t}function uM(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(d=>Zr(d))),a(t,["contents"],c)}const u=s(e,["config"]);return u!=null&&lM(u,t),t}function aM(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["totalTokens"]);r!=null&&a(e,["totalTokens"],r);const o=s(n,["cachedContentTokenCount"]);return o!=null&&a(e,["cachedContentTokenCount"],o),e}function cM(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["totalTokens"]);return r!=null&&a(e,["totalTokens"],r),e}function fM(n,e){const t={},r=s(e,["model"]);return r!=null&&a(t,["_url","name"],De(n,r)),t}function dM(n,e){const t={},r=s(e,["model"]);return r!=null&&a(t,["_url","name"],De(n,r)),t}function pM(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function mM(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function hM(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function gM(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function yM(n,e){const t={},r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const o=s(n,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const u=s(n,["numberOfImages"]);e!==void 0&&u!=null&&a(e,["parameters","sampleCount"],u);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);e!==void 0&&d!=null&&a(e,["parameters","guidanceScale"],d);const m=s(n,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&a(e,["parameters","safetySetting"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&a(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&a(e,["parameters","includeSafetyAttributes"],y);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const T=s(n,["language"]);e!==void 0&&T!=null&&a(e,["parameters","language"],T);const E=s(n,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const _=s(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const R=s(n,["addWatermark"]);e!==void 0&&R!=null&&a(e,["parameters","addWatermark"],R);const A=s(n,["editMode"]);e!==void 0&&A!=null&&a(e,["parameters","editMode"],A);const z=s(n,["baseSteps"]);return e!==void 0&&z!=null&&a(e,["parameters","editConfig","baseSteps"],z),t}function vM(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const u=s(e,["referenceImages"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>OP(m))),a(t,["instances[0]","referenceImages"],d)}const c=s(e,["config"]);return c!=null&&yM(c,t),t}function CM(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(u=>Hl(u))),a(e,["generatedImages"],o)}return e}function xM(n,e){const t={},r=s(n,["taskType"]);e!==void 0&&r!=null&&a(e,["requests[]","taskType"],r);const o=s(n,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const u=s(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&a(e,["requests[]","outputDimensionality"],u),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function TM(n,e){const t={},r=s(n,["taskType"]);e!==void 0&&r!=null&&a(e,["instances[]","task_type"],r);const o=s(n,["title"]);e!==void 0&&o!=null&&a(e,["instances[]","title"],o);const u=s(n,["outputDimensionality"]);e!==void 0&&u!=null&&a(e,["parameters","outputDimensionality"],u);const c=s(n,["mimeType"]);e!==void 0&&c!=null&&a(e,["instances[]","mimeType"],c);const d=s(n,["autoTruncate"]);return e!==void 0&&d!=null&&a(e,["parameters","autoTruncate"],d),t}function SM(){return{}}function EM(n){const e={},t=s(n,["billableCharacterCount"]);return t!=null&&a(e,["billableCharacterCount"],t),e}function wM(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["contents"]);o!=null&&a(t,["requests[]","content"],$a(n,o));const u=s(e,["config"]);u!=null&&xM(u,t);const c=s(e,["model"]);return c!==void 0&&a(t,["requests[]","model"],De(n,c)),t}function kM(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["contents"]);o!=null&&a(t,["instances[]","content"],$a(n,o));const u=s(e,["config"]);return u!=null&&TM(u,t),t}function _M(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>jA(c))),a(e,["embeddings"],u)}return s(n,["metadata"])!=null&&a(e,["metadata"],SM()),e}function IM(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["predictions[]","embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>eM(c))),a(e,["embeddings"],u)}const o=s(n,["metadata"]);return o!=null&&a(e,["metadata"],EM(o)),e}function AM(n){const e={},t=s(n,["endpoint"]);t!=null&&a(e,["name"],t);const r=s(n,["deployedModelId"]);return r!=null&&a(e,["deployedModelId"],r),e}function MM(n){const e={},t=s(n,["excludeDomains"]);return t!=null&&a(e,["excludeDomains"],t),e}function PM(n){const e={},t=s(n,["label"]);t!=null&&a(e,["label"],t);const r=s(n,["score"]);return r!=null&&a(e,["score"],r),e}function RM(n){const e={},t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function NM(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["fileUri"]);r!=null&&a(e,["fileUri"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function DM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function LM(n){const e={},t=s(n,["displayName"]);t!=null&&a(e,["displayName"],t);const r=s(n,["fileUri"]);r!=null&&a(e,["fileUri"],r);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function FM(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function UM(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function VM(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function bM(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function zM(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function BM(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function qM(n){const e={},t=s(n,["behavior"]);t!=null&&a(e,["behavior"],t);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const u=s(n,["parameters"]);u!=null&&a(e,["parameters"],u);const c=s(n,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=s(n,["response"]);d!=null&&a(e,["response"],d);const m=s(n,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function HM(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["parameters"]);o!=null&&a(e,["parameters"],o);const u=s(n,["parametersJsonSchema"]);u!=null&&a(e,["parametersJsonSchema"],u);const c=s(n,["response"]);c!=null&&a(e,["response"],c);const d=s(n,["responseJsonSchema"]);return d!=null&&a(e,["responseJsonSchema"],d),e}function $M(n,e,t){const r={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],ql(dn(o)));const u=s(e,["temperature"]);u!=null&&a(r,["temperature"],u);const c=s(e,["topP"]);c!=null&&a(r,["topP"],c);const d=s(e,["topK"]);d!=null&&a(r,["topK"],d);const m=s(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=s(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const g=s(e,["stopSequences"]);g!=null&&a(r,["stopSequences"],g);const y=s(e,["responseLogprobs"]);y!=null&&a(r,["responseLogprobs"],y);const C=s(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const T=s(e,["presencePenalty"]);T!=null&&a(r,["presencePenalty"],T);const E=s(e,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(r,["seed"],_);const R=s(e,["responseMimeType"]);R!=null&&a(r,["responseMimeType"],R);const A=s(e,["responseSchema"]);A!=null&&a(r,["responseSchema"],QP(Ga(A)));const z=s(e,["responseJsonSchema"]);if(z!=null&&a(r,["responseJsonSchema"],z),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=s(e,["safetySettings"]);if(t!==void 0&&U!=null){let Q=U;Array.isArray(Q)&&(Q=Q.map(te=>KP(te))),a(t,["safetySettings"],Q)}const $=s(e,["tools"]);if(t!==void 0&&$!=null){let Q=Qr($);Array.isArray(Q)&&(Q=Q.map(te=>dR(Yr(te)))),a(t,["tools"],Q)}const J=s(e,["toolConfig"]);if(t!==void 0&&J!=null&&a(t,["toolConfig"],cR(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=s(e,["cachedContent"]);t!==void 0&&L!=null&&a(t,["cachedContent"],yt(n,L));const K=s(e,["responseModalities"]);K!=null&&a(r,["responseModalities"],K);const ce=s(e,["mediaResolution"]);ce!=null&&a(r,["mediaResolution"],ce);const Z=s(e,["speechConfig"]);if(Z!=null&&a(r,["speechConfig"],iR(Oa(Z))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=s(e,["thinkingConfig"]);F!=null&&a(r,["thinkingConfig"],uR(F));const ne=s(e,["imageConfig"]);return ne!=null&&a(r,["imageConfig"],vP(ne)),r}function GM(n,e,t){const r={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Zr(dn(o)));const u=s(e,["temperature"]);u!=null&&a(r,["temperature"],u);const c=s(e,["topP"]);c!=null&&a(r,["topP"],c);const d=s(e,["topK"]);d!=null&&a(r,["topK"],d);const m=s(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=s(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const g=s(e,["stopSequences"]);g!=null&&a(r,["stopSequences"],g);const y=s(e,["responseLogprobs"]);y!=null&&a(r,["responseLogprobs"],y);const C=s(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const T=s(e,["presencePenalty"]);T!=null&&a(r,["presencePenalty"],T);const E=s(e,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(r,["seed"],_);const R=s(e,["responseMimeType"]);R!=null&&a(r,["responseMimeType"],R);const A=s(e,["responseSchema"]);A!=null&&a(r,["responseSchema"],XP(Ga(A)));const z=s(e,["responseJsonSchema"]);z!=null&&a(r,["responseJsonSchema"],z);const U=s(e,["routingConfig"]);U!=null&&a(r,["routingConfig"],U);const $=s(e,["modelSelectionConfig"]);$!=null&&a(r,["modelConfig"],NP($));const J=s(e,["safetySettings"]);if(t!==void 0&&J!=null){let Te=J;Array.isArray(Te)&&(Te=Te.map(xe=>YP(xe))),a(t,["safetySettings"],Te)}const L=s(e,["tools"]);if(t!==void 0&&L!=null){let Te=Qr(L);Array.isArray(Te)&&(Te=Te.map(xe=>Lg(Yr(xe)))),a(t,["tools"],Te)}const K=s(e,["toolConfig"]);t!==void 0&&K!=null&&a(t,["toolConfig"],fR(K));const ce=s(e,["labels"]);t!==void 0&&ce!=null&&a(t,["labels"],ce);const Z=s(e,["cachedContent"]);t!==void 0&&Z!=null&&a(t,["cachedContent"],yt(n,Z));const F=s(e,["responseModalities"]);F!=null&&a(r,["responseModalities"],F);const ne=s(e,["mediaResolution"]);ne!=null&&a(r,["mediaResolution"],ne);const Q=s(e,["speechConfig"]);Q!=null&&a(r,["speechConfig"],oR(Oa(Q)));const te=s(e,["audioTimestamp"]);te!=null&&a(r,["audioTimestamp"],te);const re=s(e,["thinkingConfig"]);re!=null&&a(r,["thinkingConfig"],aR(re));const fe=s(e,["imageConfig"]);return fe!=null&&a(r,["imageConfig"],CP(fe)),r}function Hm(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(d=>ql(d))),a(t,["contents"],c)}const u=s(e,["config"]);return u!=null&&a(t,["generationConfig"],$M(n,u,t)),t}function $m(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(d=>Zr(d))),a(t,["contents"],c)}const u=s(e,["config"]);return u!=null&&a(t,["generationConfig"],GM(n,u,t)),t}function Gm(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(p=>GA(p))),a(e,["candidates"],m)}const o=s(n,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const u=s(n,["promptFeedback"]);u!=null&&a(e,["promptFeedback"],u);const c=s(n,["responseId"]);c!=null&&a(e,["responseId"],c);const d=s(n,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function Om(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>OA(g))),a(e,["candidates"],p)}const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const u=s(n,["modelVersion"]);u!=null&&a(e,["modelVersion"],u);const c=s(n,["promptFeedback"]);c!=null&&a(e,["promptFeedback"],c);const d=s(n,["responseId"]);d!=null&&a(e,["responseId"],d);const m=s(n,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function OM(n,e){const t={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=s(n,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const o=s(n,["aspectRatio"]);e!==void 0&&o!=null&&a(e,["parameters","aspectRatio"],o);const u=s(n,["guidanceScale"]);if(e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=s(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const d=s(n,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const m=s(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const g=s(n,["language"]);e!==void 0&&g!=null&&a(e,["parameters","language"],g);const y=s(n,["outputMimeType"]);e!==void 0&&y!=null&&a(e,["parameters","outputOptions","mimeType"],y);const C=s(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&a(e,["parameters","outputOptions","compressionQuality"],C),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const T=s(n,["imageSize"]);if(e!==void 0&&T!=null&&a(e,["parameters","sampleImageSize"],T),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function JM(n,e){const t={},r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const o=s(n,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const u=s(n,["numberOfImages"]);e!==void 0&&u!=null&&a(e,["parameters","sampleCount"],u);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);e!==void 0&&d!=null&&a(e,["parameters","guidanceScale"],d);const m=s(n,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&a(e,["parameters","safetySetting"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&a(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&a(e,["parameters","includeSafetyAttributes"],y);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const T=s(n,["language"]);e!==void 0&&T!=null&&a(e,["parameters","language"],T);const E=s(n,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const _=s(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const R=s(n,["addWatermark"]);e!==void 0&&R!=null&&a(e,["parameters","addWatermark"],R);const A=s(n,["imageSize"]);e!==void 0&&A!=null&&a(e,["parameters","sampleImageSize"],A);const z=s(n,["enhancePrompt"]);return e!==void 0&&z!=null&&a(e,["parameters","enhancePrompt"],z),t}function WM(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const u=s(e,["config"]);return u!=null&&OM(u,t),t}function KM(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const u=s(e,["config"]);return u!=null&&JM(u,t),t}function YM(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>sP(c))),a(e,["generatedImages"],u)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],Ng(o)),e}function QM(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Hl(c))),a(e,["generatedImages"],u)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],Dg(o)),e}function XM(n,e){const t={},r=s(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(n,["durationSeconds"]);if(e!==void 0&&o!=null&&a(e,["parameters","durationSeconds"],o),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=s(n,["aspectRatio"]);e!==void 0&&u!=null&&a(e,["parameters","aspectRatio"],u);const c=s(n,["resolution"]);e!==void 0&&c!=null&&a(e,["parameters","resolution"],c);const d=s(n,["personGeneration"]);if(e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=s(n,["negativePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","negativePrompt"],m);const p=s(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function ZM(n,e){const t={},r=s(n,["numberOfVideos"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const u=s(n,["fps"]);e!==void 0&&u!=null&&a(e,["parameters","fps"],u);const c=s(n,["durationSeconds"]);e!==void 0&&c!=null&&a(e,["parameters","durationSeconds"],c);const d=s(n,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&a(e,["parameters","aspectRatio"],m);const p=s(n,["resolution"]);e!==void 0&&p!=null&&a(e,["parameters","resolution"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&a(e,["parameters","personGeneration"],g);const y=s(n,["pubsubTopic"]);e!==void 0&&y!=null&&a(e,["parameters","pubsubTopic"],y);const C=s(n,["negativePrompt"]);e!==void 0&&C!=null&&a(e,["parameters","negativePrompt"],C);const T=s(n,["enhancePrompt"]);e!==void 0&&T!=null&&a(e,["parameters","enhancePrompt"],T);const E=s(n,["generateAudio"]);e!==void 0&&E!=null&&a(e,["parameters","generateAudio"],E);const _=s(n,["lastFrame"]);e!==void 0&&_!=null&&a(e,["instances[0]","lastFrame"],Qn(_));const R=s(n,["referenceImages"]);if(e!==void 0&&R!=null){let U=R;Array.isArray(U)&&(U=U.map($=>RR($))),a(e,["instances[0]","referenceImages"],U)}const A=s(n,["mask"]);e!==void 0&&A!=null&&a(e,["instances[0]","mask"],PR(A));const z=s(n,["compressionQuality"]);return e!==void 0&&z!=null&&a(e,["parameters","compressionQuality"],z),t}function jM(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["metadata"]);r!=null&&a(e,["metadata"],r);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const u=s(n,["error"]);u!=null&&a(e,["error"],u);const c=s(n,["response","generateVideoResponse"]);return c!=null&&a(e,["response"],rP(c)),e}function eP(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["metadata"]);r!=null&&a(e,["metadata"],r);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const u=s(n,["error"]);u!=null&&a(e,["error"],u);const c=s(n,["response"]);return c!=null&&a(e,["response"],iP(c)),e}function nP(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const u=s(e,["image"]);if(u!=null&&a(t,["instances[0]","image"],Rg(u)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=s(e,["source"]);c!=null&&oP(c,t);const d=s(e,["config"]);return d!=null&&XM(d,t),t}function tP(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const u=s(e,["image"]);u!=null&&a(t,["instances[0]","image"],Qn(u));const c=s(e,["video"]);c!=null&&a(t,["instances[0]","video"],Fg(c));const d=s(e,["source"]);d!=null&&lP(d,t);const m=s(e,["config"]);return m!=null&&ZM(m,t),t}function rP(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(c=>aP(c))),a(e,["generatedVideos"],u)}const r=s(n,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function iP(n){const e={},t=s(n,["videos"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(c=>cP(c))),a(e,["generatedVideos"],u)}const r=s(n,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function oP(n,e){const t={},r=s(n,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const o=s(n,["image"]);if(e!==void 0&&o!=null&&a(e,["instances[0]","image"],Rg(o)),s(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return t}function lP(n,e){const t={},r=s(n,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const o=s(n,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],Qn(o));const u=s(n,["video"]);return e!==void 0&&u!=null&&a(e,["instances[0]","video"],Fg(u)),t}function sP(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],xP(t));const r=s(n,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const o=s(n,["_self"]);return o!=null&&a(e,["safetyAttributes"],Ng(o)),e}function Hl(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],Pg(t));const r=s(n,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const o=s(n,["_self"]);o!=null&&a(e,["safetyAttributes"],Dg(o));const u=s(n,["prompt"]);return u!=null&&a(e,["enhancedPrompt"],u),e}function uP(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["mask"],Pg(t));const r=s(n,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(u=>PM(u))),a(e,["labels"],o)}return e}function aP(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],AR(t)),e}function cP(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],MR(t)),e}function fP(n,e){const t={},r=s(e,["model"]);return r!=null&&a(t,["_url","name"],De(n,r)),t}function dP(n,e){const t={},r=s(e,["model"]);return r!=null&&a(t,["_url","name"],De(n,r)),t}function pP(n){const e={},t=s(n,["authConfig"]);return t!=null&&a(e,["authConfig"],zA(t)),e}function mP(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],hM(t)),e}function hP(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],gM(t)),e}function gP(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],TP(t)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function yP(n){const e={},t=s(n,["timeRangeFilter"]);t!=null&&a(e,["timeRangeFilter"],SP(t));const r=s(n,["excludeDomains"]);return r!=null&&a(e,["excludeDomains"],r),e}function vP(n){const e={},t=s(n,["aspectRatio"]);return t!=null&&a(e,["aspectRatio"],t),e}function CP(n){const e={},t=s(n,["aspectRatio"]);return t!=null&&a(e,["aspectRatio"],t),e}function xP(n){const e={},t=s(n,["bytesBase64Encoded"]);t!=null&&a(e,["imageBytes"],ur(t));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Pg(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const r=s(n,["bytesBase64Encoded"]);r!=null&&a(e,["imageBytes"],ur(r));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Rg(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(n,["imageBytes"]);t!=null&&a(e,["bytesBase64Encoded"],ur(t));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Qn(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const r=s(n,["imageBytes"]);r!=null&&a(e,["bytesBase64Encoded"],ur(r));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function TP(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function SP(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function EP(n){const e={},t=s(n,["latitude"]);t!=null&&a(e,["latitude"],t);const r=s(n,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function wP(n){const e={},t=s(n,["latitude"]);t!=null&&a(e,["latitude"],t);const r=s(n,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function kP(n,e,t){const r={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const u=s(e,["pageToken"]);t!==void 0&&u!=null&&a(t,["_query","pageToken"],u);const c=s(e,["filter"]);t!==void 0&&c!=null&&a(t,["_query","filter"],c);const d=s(e,["queryBase"]);return t!==void 0&&d!=null&&a(t,["_url","models_url"],mg(n,d)),r}function _P(n,e,t){const r={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const u=s(e,["pageToken"]);t!==void 0&&u!=null&&a(t,["_query","pageToken"],u);const c=s(e,["filter"]);t!==void 0&&c!=null&&a(t,["_query","filter"],c);const d=s(e,["queryBase"]);return t!==void 0&&d!=null&&a(t,["_url","models_url"],mg(n,d)),r}function IP(n,e){const t={},r=s(e,["config"]);return r!=null&&kP(n,r,t),t}function AP(n,e){const t={},r=s(e,["config"]);return r!=null&&_P(n,r,t),t}function MP(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["_self"]);if(o!=null){let u=hg(o);Array.isArray(u)&&(u=u.map(c=>va(c))),a(e,["models"],u)}return e}function PP(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["_self"]);if(o!=null){let u=hg(o);Array.isArray(u)&&(u=u.map(c=>Ca(c))),a(e,["models"],u)}return e}function RP(n){const e={},t=s(n,["maskMode"]);t!=null&&a(e,["maskMode"],t);const r=s(n,["segmentationClasses"]);r!=null&&a(e,["maskClasses"],r);const o=s(n,["maskDilation"]);return o!=null&&a(e,["dilation"],o),e}function va(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["description"]);o!=null&&a(e,["description"],o);const u=s(n,["version"]);u!=null&&a(e,["version"],u);const c=s(n,["_self"]);c!=null&&a(e,["tunedModelInfo"],pR(c));const d=s(n,["inputTokenLimit"]);d!=null&&a(e,["inputTokenLimit"],d);const m=s(n,["outputTokenLimit"]);m!=null&&a(e,["outputTokenLimit"],m);const p=s(n,["supportedGenerationMethods"]);return p!=null&&a(e,["supportedActions"],p),e}function Ca(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const r=s(n,["displayName"]);r!=null&&a(e,["displayName"],r);const o=s(n,["description"]);o!=null&&a(e,["description"],o);const u=s(n,["versionId"]);u!=null&&a(e,["version"],u);const c=s(n,["deployedModels"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(C=>AM(C))),a(e,["endpoints"],y)}const d=s(n,["labels"]);d!=null&&a(e,["labels"],d);const m=s(n,["_self"]);m!=null&&a(e,["tunedModelInfo"],mR(m));const p=s(n,["defaultCheckpointId"]);p!=null&&a(e,["defaultCheckpointId"],p);const g=s(n,["checkpoints"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(C=>JA(C))),a(e,["checkpoints"],y)}return e}function NP(n){const e={},t=s(n,["featureSelectionPreference"]);return t!=null&&a(e,["featureSelectionPreference"],t),e}function DP(n){const e={},t=s(n,["speakerVoiceConfigs"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>rR(o))),a(e,["speakerVoiceConfigs"],r)}return e}function LP(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],NR(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],BA(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],RM(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],FM(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function FP(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],DR(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],qA(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],NM(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],UM(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function UP(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],LR(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],HA(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],DM(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],VM(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function VP(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],FR(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],$A(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],LM(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],bM(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function bP(n){const e={},t=s(n,["voiceName"]);return t!=null&&a(e,["voiceName"],t),e}function zP(n){const e={},t=s(n,["voiceName"]);return t!=null&&a(e,["voiceName"],t),e}function BP(n){const e={},t=s(n,["productImage"]);return t!=null&&a(e,["image"],Qn(t)),e}function qP(n,e){const t={},r=s(n,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const o=s(n,["baseSteps"]);e!==void 0&&o!=null&&a(e,["parameters","editConfig","baseSteps"],o);const u=s(n,["outputGcsUri"]);e!==void 0&&u!=null&&a(e,["parameters","storageUri"],u);const c=s(n,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const m=s(n,["personGeneration"]);e!==void 0&&m!=null&&a(e,["parameters","personGeneration"],m);const p=s(n,["addWatermark"]);e!==void 0&&p!=null&&a(e,["parameters","addWatermark"],p);const g=s(n,["outputMimeType"]);e!==void 0&&g!=null&&a(e,["parameters","outputOptions","mimeType"],g);const y=s(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&a(e,["parameters","outputOptions","compressionQuality"],y);const C=s(n,["enhancePrompt"]);return e!==void 0&&C!=null&&a(e,["parameters","enhancePrompt"],C),t}function HP(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["source"]);o!=null&&GP(o,t);const u=s(e,["config"]);return u!=null&&qP(u,t),t}function $P(n){const e={},t=s(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>Hl(o))),a(e,["generatedImages"],r)}return e}function GP(n,e){const t={},r=s(n,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const o=s(n,["personImage"]);e!==void 0&&o!=null&&a(e,["instances[0]","personImage","image"],Qn(o));const u=s(n,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(d=>BP(d))),a(e,["instances[0]","productImages"],c)}return t}function OP(n){const e={},t=s(n,["referenceImage"]);t!=null&&a(e,["referenceImage"],Qn(t));const r=s(n,["referenceId"]);r!=null&&a(e,["referenceId"],r);const o=s(n,["referenceType"]);o!=null&&a(e,["referenceType"],o);const u=s(n,["maskImageConfig"]);u!=null&&a(e,["maskImageConfig"],RP(u));const c=s(n,["controlImageConfig"]);c!=null&&a(e,["controlImageConfig"],iM(c));const d=s(n,["styleImageConfig"]);d!=null&&a(e,["styleImageConfig"],lR(d));const m=s(n,["subjectImageConfig"]);return m!=null&&a(e,["subjectImageConfig"],sR(m)),e}function JP(n){const e={},t=s(n,["latLng"]);t!=null&&a(e,["latLng"],EP(t));const r=s(n,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function WP(n){const e={},t=s(n,["latLng"]);t!=null&&a(e,["latLng"],wP(t));const r=s(n,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function Ng(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const r=s(n,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const o=s(n,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function Dg(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const r=s(n,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const o=s(n,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function KP(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=s(n,["category"]);t!=null&&a(e,["category"],t);const r=s(n,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function YP(n){const e={},t=s(n,["method"]);t!=null&&a(e,["method"],t);const r=s(n,["category"]);r!=null&&a(e,["category"],r);const o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function QP(n){const e={},t=s(n,["anyOf"]);t!=null&&a(e,["anyOf"],t);const r=s(n,["default"]);r!=null&&a(e,["default"],r);const o=s(n,["description"]);o!=null&&a(e,["description"],o);const u=s(n,["enum"]);u!=null&&a(e,["enum"],u);const c=s(n,["example"]);c!=null&&a(e,["example"],c);const d=s(n,["format"]);d!=null&&a(e,["format"],d);const m=s(n,["items"]);m!=null&&a(e,["items"],m);const p=s(n,["maxItems"]);p!=null&&a(e,["maxItems"],p);const g=s(n,["maxLength"]);g!=null&&a(e,["maxLength"],g);const y=s(n,["maxProperties"]);y!=null&&a(e,["maxProperties"],y);const C=s(n,["maximum"]);C!=null&&a(e,["maximum"],C);const T=s(n,["minItems"]);T!=null&&a(e,["minItems"],T);const E=s(n,["minLength"]);E!=null&&a(e,["minLength"],E);const _=s(n,["minProperties"]);_!=null&&a(e,["minProperties"],_);const R=s(n,["minimum"]);R!=null&&a(e,["minimum"],R);const A=s(n,["nullable"]);A!=null&&a(e,["nullable"],A);const z=s(n,["pattern"]);z!=null&&a(e,["pattern"],z);const U=s(n,["properties"]);U!=null&&a(e,["properties"],U);const $=s(n,["propertyOrdering"]);$!=null&&a(e,["propertyOrdering"],$);const J=s(n,["required"]);J!=null&&a(e,["required"],J);const L=s(n,["title"]);L!=null&&a(e,["title"],L);const K=s(n,["type"]);return K!=null&&a(e,["type"],K),e}function XP(n){const e={},t=s(n,["anyOf"]);t!=null&&a(e,["anyOf"],t);const r=s(n,["default"]);r!=null&&a(e,["default"],r);const o=s(n,["description"]);o!=null&&a(e,["description"],o);const u=s(n,["enum"]);u!=null&&a(e,["enum"],u);const c=s(n,["example"]);c!=null&&a(e,["example"],c);const d=s(n,["format"]);d!=null&&a(e,["format"],d);const m=s(n,["items"]);m!=null&&a(e,["items"],m);const p=s(n,["maxItems"]);p!=null&&a(e,["maxItems"],p);const g=s(n,["maxLength"]);g!=null&&a(e,["maxLength"],g);const y=s(n,["maxProperties"]);y!=null&&a(e,["maxProperties"],y);const C=s(n,["maximum"]);C!=null&&a(e,["maximum"],C);const T=s(n,["minItems"]);T!=null&&a(e,["minItems"],T);const E=s(n,["minLength"]);E!=null&&a(e,["minLength"],E);const _=s(n,["minProperties"]);_!=null&&a(e,["minProperties"],_);const R=s(n,["minimum"]);R!=null&&a(e,["minimum"],R);const A=s(n,["nullable"]);A!=null&&a(e,["nullable"],A);const z=s(n,["pattern"]);z!=null&&a(e,["pattern"],z);const U=s(n,["properties"]);U!=null&&a(e,["properties"],U);const $=s(n,["propertyOrdering"]);$!=null&&a(e,["propertyOrdering"],$);const J=s(n,["required"]);J!=null&&a(e,["required"],J);const L=s(n,["title"]);L!=null&&a(e,["title"],L);const K=s(n,["type"]);return K!=null&&a(e,["type"],K),e}function ZP(n){const e={},t=s(n,["image"]);return t!=null&&a(e,["image"],Qn(t)),e}function jP(n,e){const t={},r=s(n,["mode"]);e!==void 0&&r!=null&&a(e,["parameters","mode"],r);const o=s(n,["maxPredictions"]);e!==void 0&&o!=null&&a(e,["parameters","maxPredictions"],o);const u=s(n,["confidenceThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","confidenceThreshold"],u);const c=s(n,["maskDilation"]);e!==void 0&&c!=null&&a(e,["parameters","maskDilation"],c);const d=s(n,["binaryColorThreshold"]);return e!==void 0&&d!=null&&a(e,["parameters","binaryColorThreshold"],d),t}function eR(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["source"]);o!=null&&tR(o,t);const u=s(e,["config"]);return u!=null&&jP(u,t),t}function nR(n){const e={},t=s(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>uP(o))),a(e,["generatedMasks"],r)}return e}function tR(n,e){const t={},r=s(n,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const o=s(n,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],Qn(o));const u=s(n,["scribbleImage"]);return e!==void 0&&u!=null&&a(e,["instances[0]","scribble"],ZP(u)),t}function rR(n){const e={},t=s(n,["speaker"]);t!=null&&a(e,["speaker"],t);const r=s(n,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],Ug(r)),e}function iR(n){const e={},t=s(n,["voiceConfig"]);t!=null&&a(e,["voiceConfig"],Ug(t));const r=s(n,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],DP(r));const o=s(n,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function oR(n){const e={},t=s(n,["voiceConfig"]);if(t!=null&&a(e,["voiceConfig"],UR(t)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=s(n,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function lR(n){const e={},t=s(n,["styleDescription"]);return t!=null&&a(e,["styleDescription"],t),e}function sR(n){const e={},t=s(n,["subjectType"]);t!=null&&a(e,["subjectType"],t);const r=s(n,["subjectDescription"]);return r!=null&&a(e,["subjectDescription"],r),e}function uR(n){const e={},t=s(n,["includeThoughts"]);t!=null&&a(e,["includeThoughts"],t);const r=s(n,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function aR(n){const e={},t=s(n,["includeThoughts"]);t!=null&&a(e,["includeThoughts"],t);const r=s(n,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function cR(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],zM(t));const r=s(n,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],JP(r)),e}function fR(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],BM(t));const r=s(n,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],WP(r)),e}function dR(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>qM(p))),a(e,["functionDeclarations"],m)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],gP(r));const o=s(n,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],mP(o)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&a(e,["urlContext"],wR());const c=s(n,["computerUse"]);c!=null&&a(e,["computerUse"],XA(c));const d=s(n,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function Lg(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let y=t;Array.isArray(y)&&(y=y.map(C=>HM(C))),a(e,["functionDeclarations"],y)}const r=s(n,["retrieval"]);r!=null&&a(e,["retrieval"],r);const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],yP(o));const u=s(n,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],hP(u));const c=s(n,["enterpriseWebSearch"]);c!=null&&a(e,["enterpriseWebSearch"],MM(c));const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],pP(d)),s(n,["urlContext"])!=null&&a(e,["urlContext"],kR());const p=s(n,["computerUse"]);p!=null&&a(e,["computerUse"],ZA(p));const g=s(n,["codeExecution"]);return g!=null&&a(e,["codeExecution"],g),e}function pR(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const r=s(n,["createTime"]);r!=null&&a(e,["createTime"],r);const o=s(n,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function mR(n){const e={},t=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(e,["baseModel"],t);const r=s(n,["createTime"]);r!=null&&a(e,["createTime"],r);const o=s(n,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function hR(n,e){const t={},r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const o=s(n,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const u=s(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&a(e,["defaultCheckpointId"],u),t}function gR(n,e){const t={},r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const o=s(n,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const u=s(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&a(e,["defaultCheckpointId"],u),t}function yR(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","name"],De(n,r));const o=s(e,["config"]);return o!=null&&hR(o,t),t}function vR(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["config"]);return o!=null&&gR(o,t),t}function CR(n,e){const t={},r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const o=s(n,["includeRaiReason"]);e!==void 0&&o!=null&&a(e,["parameters","includeRaiReason"],o);const u=s(n,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(n,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=s(n,["imagePreservationFactor"]);e!==void 0&&m!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const p=s(n,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const g=s(n,["mode"]);return e!==void 0&&g!=null&&a(e,["parameters","mode"],g),t}function xR(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["_url","model"],De(n,r));const o=s(e,["image"]);o!=null&&a(t,["instances[0]","image"],Qn(o));const u=s(e,["upscaleFactor"]);u!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],u);const c=s(e,["config"]);return c!=null&&CR(c,t),t}function TR(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(u=>Hl(u))),a(e,["generatedImages"],o)}return e}function SR(n){const e={},t=s(n,["urlMetadata"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>_R(o))),a(e,["urlMetadata"],r)}return e}function ER(n){const e={},t=s(n,["urlMetadata"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>IR(o))),a(e,["urlMetadata"],r)}return e}function wR(){return{}}function kR(){return{}}function _R(n){const e={},t=s(n,["retrievedUrl"]);t!=null&&a(e,["retrievedUrl"],t);const r=s(n,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function IR(n){const e={},t=s(n,["retrievedUrl"]);t!=null&&a(e,["retrievedUrl"],t);const r=s(n,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function AR(n){const e={},t=s(n,["video","uri"]);t!=null&&a(e,["uri"],t);const r=s(n,["video","encodedVideo"]);r!=null&&a(e,["videoBytes"],ur(r));const o=s(n,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function MR(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const r=s(n,["bytesBase64Encoded"]);r!=null&&a(e,["videoBytes"],ur(r));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function PR(n){const e={},t=s(n,["image"]);t!=null&&a(e,["_self"],Qn(t));const r=s(n,["maskMode"]);return r!=null&&a(e,["maskMode"],r),e}function RR(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],Qn(t));const r=s(n,["referenceType"]);return r!=null&&a(e,["referenceType"],r),e}function NR(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function DR(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function LR(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function FR(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function Fg(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["gcsUri"],t);const r=s(n,["videoBytes"]);r!=null&&a(e,["bytesBase64Encoded"],ur(r));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ug(n){const e={},t=s(n,["prebuiltVoiceConfig"]);return t!=null&&a(e,["prebuiltVoiceConfig"],bP(t)),e}function UR(n){const e={},t=s(n,["prebuiltVoiceConfig"]);return t!=null&&a(e,["prebuiltVoiceConfig"],zP(t)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VR="Content-Type",bR="X-Server-Timeout",zR="User-Agent",xa="x-goog-api-client",BR="1.22.0",qR=`google-genai-sdk/${BR}`,HR="v1beta1",$R="v1beta",Jm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class GR{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:HR,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:$R,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const o=[this.getRequestUrlInternal(t)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[c,d]of Object.entries(e.queryParams))o.searchParams.append(c,String(d));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,t,e.abortSignal),this.unaryApiCall(o,u,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[o,u]of Object.entries(t))typeof u=="object"?r[o]=Object.assign(Object.assign({},r[o]),u):u!==void 0&&(r[o]=u);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,t,e.abortSignal),this.streamApiCall(o,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r){if(t&&t.timeout||r){const o=new AbortController,u=o.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const c=setTimeout(()=>o.abort(),t.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{o.abort()}),e.signal=u}return t&&t.extraBody!==null&&OR(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async o=>(await Wm(o),new pa(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async o=>(await Wm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return Gr(this,arguments,function*(){const o=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:d,value:m}=yield qe(o.read());if(d){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(m,{stream:!0});try{const y=JSON.parse(p);if("error"in y){const C=JSON.parse(JSON.stringify(y.error)),T=C.status,E=C.code,_=`got status: ${T}. ${JSON.stringify(y)}`;if(E>=400&&E<600)throw new Bl({message:_,status:E})}}catch(y){if(y.name==="ApiError")throw y}c+=p;let g=c.match(Jm);for(;g;){const y=g[1];try{const C=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new pa(C)),c=c.slice(g[0].length),g=c.match(Jm)}catch(C){throw new Error(`exception parsing stream chunk ${y}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=qR+" "+this.clientOptions.userAgentExtra;return e[zR]=t,e[xa]=t,e[VR]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[r,o]of Object.entries(e.headers))t.append(r,o);e.timeout&&e.timeout>0&&t.append(bR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var r;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);o.sizeBytes=String(c.size);const d=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:c.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const m=await this.fetchUploadUrl(o,t);return u.upload(e,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var r;let o={};t!=null&&t.httpOptions?o=t.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:le("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(r=c==null?void 0:c.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Wm(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=JSON.stringify(r);throw t>=400&&t<600?new Bl({message:o,status:t}):new Error(o)}}function OR(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))t=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(u,c){const d=Object.assign({},u);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const p=c[m],g=d[m];p&&typeof p=="object"&&!Array.isArray(p)&&g&&typeof g=="object"&&!Array.isArray(g)?d[m]=r(g,p):(g&&p&&typeof g!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof g}, New type: ${typeof p}. Overwriting.`),d[m]=p)}return d}const o=r(t,e);n.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JR="mcp_used/unknown";let WR=!1;function Vg(n){for(const e of n)if(KR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return WR}function bg(n){var e;const t=(e=n[xa])!==null&&e!==void 0?e:"";n[xa]=(t+` ${JR}`).trimStart()}function KR(n){return n!==null&&typeof n=="object"&&n instanceof Ka}function YR(n,e=100){return Gr(this,arguments,function*(){let r,o=0;for(;o<e;){const u=yield qe(n.listTools({cursor:r}));for(const c of u.tools)yield yield qe(c),o++;if(!u.nextCursor)break;r=u.nextCursor}})}class Ka{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ka(e,t)}async initialize(){var e,t,r,o;if(this.mcpTools.length>0)return;const u={},c=[];for(const g of this.mcpClients)try{for(var d=!0,m=(t=void 0,Yi(YR(g))),p;p=await m.next(),e=p.done,!e;d=!0){o=p.value,d=!1;const y=o;c.push(y);const C=y.name;if(u[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);u[C]=g}}catch(y){t={error:y}}finally{try{!d&&!e&&(r=m.return)&&await r.call(m)}finally{if(t)throw t.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),ok(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await o.callTool({name:r.name,arguments:r.args},void 0,u);t.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function QR(n,e,t){const r=new Xw;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data);const u=VI(o);Object.assign(r,u),e(r)}class XR{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=eN(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),m=`${o}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const g=new Promise(U=>{p=U}),y=e.callbacks,C=function(){p({})},T=this.apiClient,E={onopen:C,onmessage:U=>{QR(T,y.onmessage,U)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(U){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(U){}},_=this.webSocketFactory.create(m,jR(c),E);_.connect(),await g;const R=De(this.apiClient,e.model),A=_g({model:R}),z=ya({setup:A});return _.send(JSON.stringify(z)),new ZR(_,this.apiClient)}}class ZR{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=BI(e),r=kg(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=zI(e),r=ya(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const t=ya({playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(qr.PLAY)}pause(){this.sendPlaybackControl(qr.PAUSE)}stop(){this.sendPlaybackControl(qr.STOP)}resetContext(){this.sendPlaybackControl(qr.RESET_CONTEXT)}close(){this.conn.close()}}function jR(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function eN(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tN(n,e,t){const r=new Qw;let o;t.data instanceof Blob?o=await t.data.text():t.data instanceof ArrayBuffer?o=new TextDecoder().decode(t.data):o=t.data;const u=JSON.parse(o);if(n.isVertexAI()){const c=YI(u);Object.assign(r,c)}else{const c=KI(u);Object.assign(r,c)}e(r)}class rN{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new XR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,o,u,c,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let g;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&Vg(e.config.tools)&&bg(y);const C=sN(y);if(this.apiClient.isVertexAI())g=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const Z=this.apiClient.getApiKey();let F="BidiGenerateContent",ne="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",ne="access_token"),g=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${F}?${ne}=${Z}`}let T=()=>{};const E=new Promise(Z=>{T=Z}),_=e.callbacks,R=function(){var Z;(Z=_==null?void 0:_.onopen)===null||Z===void 0||Z.call(_),T({})},A=this.apiClient,z={onopen:R,onmessage:Z=>{tN(A,_.onmessage,Z)},onerror:(t=_==null?void 0:_.onerror)!==null&&t!==void 0?t:function(Z){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(Z){}},U=this.webSocketFactory.create(g,lN(C),z);U.connect(),await E;let $=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const Z=this.apiClient.getProject(),F=this.apiClient.getLocation();$=`projects/${Z}/locations/${F}/`+$}let J={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pl.AUDIO]}:e.config.responseModalities=[Pl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(d=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[],K=[];for(const Z of L)if(this.isCallableTool(Z)){const F=Z;K.push(await F.tool())}else K.push(Z);K.length>0&&(e.config.tools=K);const ce={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=NI(this.apiClient,ce):J=RI(this.apiClient,ce),delete J.config,U.send(JSON.stringify(J)),new oN(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const iN={turnComplete:!0};class oN{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=qn(t.turns),e.isVertexAI()?r=r.map(o=>Zr(o)):r=r.map(o=>ql(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const u of r){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(nN)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},iN),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:$I(e)}:t={realtimeInput:HI(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function lN(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function sN(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Km=10;function Ym(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Or(c)){o=!0;break}if(!o)return!0;const u=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Or(n){return"callTool"in n&&typeof n.callTool=="function"}function uN(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>Or(o)))!==null&&r!==void 0?r:!1}function aN(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>!Or(o)))!==null&&r!==void 0?r:!1}function Qm(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cN extends sr{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,o,u,c,d;const m=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!uN(t)||Ym(t.config))return await this.generateContentInternal(m);if(aN(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,g;const y=qn(m.contents),C=(u=(o=(r=m.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:Km;let T=0;for(;T<C&&(p=await this.generateContentInternal(m),!(!p.functionCalls||p.functionCalls.length===0));){const E=p.candidates[0].content,_=[];for(const R of(d=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[])if(Or(R)){const z=await R.callTool(p.functionCalls);_.push(...z)}T++,g={role:"user",parts:_},m.contents=qn(m.contents),m.contents.push(E),m.contents.push(g),Qm(m.config)&&(y.push(E),y.push(g))}return Qm(m.config)&&(p.automaticFunctionCallingHistory=y),p},this.generateContentStream=async t=>{if(this.maybeMoveToResponseJsonSchem(t),Ym(t.config)){const r=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var o;let u;const c=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=m==null?void 0:m.safetyAttributes:c.push(m);let d;return u?d={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async t=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new no(or.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(c),c)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async t=>{if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,o;const u=(t=e.config)===null||t===void 0?void 0:t.tools;if(!u)return e;const c=await Promise.all(u.map(async m=>Or(m)?await m.tool():m)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(d.config.tools=c,e.config&&e.config.tools&&Vg(e.config.tools)){const m=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),bg(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var t,r,o;const u=new Map;for(const c of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(Or(c)){const d=c,m=await d.tool();for(const p of(o=m.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,d)}}return u}async processAfcStream(e){var t,r,o;const u=(o=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Km;let c=!1,d=0;const m=await this.initAfcToolsMap(e);return(function(p,g,y){var C,T;return Gr(this,arguments,function*(){for(var E,_,R,A;d<u;){c&&(d++,c=!1);const J=yield qe(p.processParamsMaybeAddMcpUsage(y)),L=yield qe(p.generateContentStreamInternal(J)),K=[],ce=[];try{for(var z=!0,U=(_=void 0,Yi(L)),$;$=yield qe(U.next()),E=$.done,!E;z=!0){A=$.value,z=!1;const Z=A;if(yield yield qe(Z),Z.candidates&&(!((C=Z.candidates[0])===null||C===void 0)&&C.content)){ce.push(Z.candidates[0].content);for(const F of(T=Z.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(d<u&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(F.functionCall.name)){const ne=yield qe(g.get(F.functionCall.name).callTool([F.functionCall]));K.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(Z){_={error:Z}}finally{try{!z&&!E&&(R=U.return)&&(yield qe(R.call(U)))}finally{if(_)throw _.error}}if(K.length>0){c=!0;const Z=new Oi;Z.candidates=[{content:{role:"user",parts:K}}],yield yield qe(Z);const F=[];F.push(...ce),F.push({role:"user",parts:K});const ne=qn(y.contents).concat(F);y.contents=ne}else break}})})(this,m,e)}async generateContentInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=$m(this.apiClient,e);return d=le("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=Om(g),C=new Oi;return Object.assign(C,y),C})}else{const p=Hm(this.apiClient,e);return d=le("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=Gm(g),C=new Oi;return Object.assign(C,y),C})}}async generateContentStreamInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=$m(this.apiClient,e);return d=le("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(y){return Gr(this,arguments,function*(){var C,T,E,_;try{for(var R=!0,A=Yi(y),z;z=yield qe(A.next()),C=z.done,!C;R=!0){_=z.value,R=!1;const U=_,$=Om(yield qe(U.json()));$.sdkHttpResponse={headers:U.headers};const J=new Oi;Object.assign(J,$),yield yield qe(J)}}catch(U){T={error:U}}finally{try{!R&&!C&&(E=A.return)&&(yield qe(E.call(A)))}finally{if(T)throw T.error}}})})}else{const p=Hm(this.apiClient,e);return d=le("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(y){return Gr(this,arguments,function*(){var C,T,E,_;try{for(var R=!0,A=Yi(y),z;z=yield qe(A.next()),C=z.done,!C;R=!0){_=z.value,R=!1;const U=_,$=Gm(yield qe(U.json()));$.sdkHttpResponse={headers:U.headers};const J=new Oi;Object.assign(J,$),yield yield qe(J)}}catch(U){T={error:U}}finally{try{!R&&!C&&(E=A.return)&&(yield qe(E.call(A)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=kM(this.apiClient,e);return d=le("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=IM(g),C=new Sm;return Object.assign(C,y),C})}else{const p=wM(this.apiClient,e);return d=le("{model}:batchEmbedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=_M(g),C=new Sm;return Object.assign(C,y),C})}}async generateImagesInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=KM(this.apiClient,e);return d=le("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=QM(g),C=new Em;return Object.assign(C,y),C})}else{const p=WM(this.apiClient,e);return d=le("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=YM(g),C=new Em;return Object.assign(C,y),C})}}async editImageInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=vM(this.apiClient,e);return u=le("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:m.headers},g})),o.then(m=>{const p=CM(m),g=new Hw;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=xR(this.apiClient,e);return u=le("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:m.headers},g})),o.then(m=>{const p=TR(m),g=new $w;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=HP(this.apiClient,e);return u=le("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=$P(m),g=new Gw;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=eR(this.apiClient,e);return u=le("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=nR(m),g=new Ow;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=dP(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>Ca(g))}else{const p=fP(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>va(g))}}async listInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=AP(this.apiClient,e);return d=le("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=PP(g),C=new wm;return Object.assign(C,y),C})}else{const p=IP(this.apiClient,e);return d=le("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=MP(g),C=new wm;return Object.assign(C,y),C})}}async update(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=vR(this.apiClient,e);return d=le("{model}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>Ca(g))}else{const p=yR(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>va(g))}}async delete(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=dM(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=mM(g),C=new km;return Object.assign(C,y),C})}else{const p=fM(this.apiClient,e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=pM(g),C=new km;return Object.assign(C,y),C})}}async countTokens(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=uM(this.apiClient,e);return d=le("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=cM(g),C=new _m;return Object.assign(C,y),C})}else{const p=sM(this.apiClient,e);return d=le("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=aM(g),C=new _m;return Object.assign(C,y),C})}}async computeTokens(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=YA(this.apiClient,e);return u=le("{model}:computeTokens",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:m.headers},g})),o.then(m=>{const p=QA(m),g=new Jw;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=tP(this.apiClient,e);return d=le("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c.then(g=>{const y=eP(g),C=new Rl;return Object.assign(C,y),C})}else{const p=nP(this.apiClient,e);return d=le("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c.then(g=>{const y=jM(g),C=new Rl;return Object.assign(C,y),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fN extends sr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:u}});return t._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:u}});return t._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=zw(e);return d=le("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),c}else{const p=bw(e);return d=le("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json()),c}}async fetchPredictVideosOperationInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=Rw(e);return u=le("{resourceName}:fetchPredictOperation",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xm(){return{}}function dN(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["name"],t),e}function pN(n){const e={},t=s(n,["disabled"]);t!=null&&a(e,["disabled"],t);const r=s(n,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const o=s(n,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const u=s(n,["prefixPaddingMs"]);u!=null&&a(e,["prefixPaddingMs"],u);const c=s(n,["silenceDurationMs"]);return c!=null&&a(e,["silenceDurationMs"],c),e}function mN(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function hN(n){const e={},t=s(n,["environment"]);t!=null&&a(e,["environment"],t);const r=s(n,["excludedPredefinedFunctions"]);return r!=null&&a(e,["excludedPredefinedFunctions"],r),e}function gN(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>PN(u))),a(e,["parts"],o)}const r=s(n,["role"]);return r!=null&&a(e,["role"],r),e}function yN(n){const e={},t=s(n,["triggerTokens"]);t!=null&&a(e,["triggerTokens"],t);const r=s(n,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],FN(r)),e}function vN(n,e,t){const r={},o=s(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const u=s(e,["newSessionExpireTime"]);t!==void 0&&u!=null&&a(t,["newSessionExpireTime"],u);const c=s(e,["uses"]);t!==void 0&&c!=null&&a(t,["uses"],c);const d=s(e,["liveConnectConstraints"]);t!==void 0&&d!=null&&a(t,["bidiGenerateContentSetup"],AN(n,d));const m=s(e,["lockAdditionalFields"]);return t!==void 0&&m!=null&&a(t,["fieldMask"],m),r}function CN(n,e){const t={},r=s(e,["config"]);return r!=null&&a(t,["config"],vN(n,r,t)),t}function xN(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const r=s(n,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function TN(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function SN(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const r=s(n,["args"]);r!=null&&a(e,["args"],r);const o=s(n,["name"]);return o!=null&&a(e,["name"],o),e}function EN(n){const e={},t=s(n,["behavior"]);t!=null&&a(e,["behavior"],t);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const u=s(n,["parameters"]);u!=null&&a(e,["parameters"],u);const c=s(n,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=s(n,["response"]);d!=null&&a(e,["response"],d);const m=s(n,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function wN(n){const e={},t=s(n,["dynamicRetrievalConfig"]);return t!=null&&a(e,["dynamicRetrievalConfig"],xN(t)),e}function kN(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],_N(t)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function _N(n){const e={},t=s(n,["startTime"]);t!=null&&a(e,["startTime"],t);const r=s(n,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function IN(n,e){const t={},r=s(n,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const o=s(n,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const u=s(n,["temperature"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","temperature"],u);const c=s(n,["topP"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","topP"],c);const d=s(n,["topK"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topK"],d);const m=s(n,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","seed"],g);const y=s(n,["speechConfig"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","speechConfig"],VN(Ja(y)));const C=s(n,["thinkingConfig"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","thinkingConfig"],bN(C));const T=s(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],T);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],gN(dn(E)));const _=s(n,["tools"]);if(e!==void 0&&_!=null){let L=Qr(_);Array.isArray(L)&&(L=L.map(K=>zN(Yr(K)))),a(e,["setup","tools"],L)}const R=s(n,["sessionResumption"]);e!==void 0&&R!=null&&a(e,["setup","sessionResumption"],LN(R));const A=s(n,["inputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","inputAudioTranscription"],Xm());const z=s(n,["outputAudioTranscription"]);e!==void 0&&z!=null&&a(e,["setup","outputAudioTranscription"],Xm());const U=s(n,["realtimeInputConfig"]);e!==void 0&&U!=null&&a(e,["setup","realtimeInputConfig"],DN(U));const $=s(n,["contextWindowCompression"]);e!==void 0&&$!=null&&a(e,["setup","contextWindowCompression"],yN($));const J=s(n,["proactivity"]);return e!==void 0&&J!=null&&a(e,["setup","proactivity"],NN(J)),t}function AN(n,e){const t={},r=s(e,["model"]);r!=null&&a(t,["setup","model"],De(n,r));const o=s(e,["config"]);return o!=null&&a(t,["config"],IN(o,t)),t}function MN(n){const e={},t=s(n,["speakerVoiceConfigs"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>UN(o))),a(e,["speakerVoiceConfigs"],r)}return e}function PN(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],qN(t));const r=s(n,["thought"]);r!=null&&a(e,["thought"],r);const o=s(n,["inlineData"]);o!=null&&a(e,["inlineData"],mN(o));const u=s(n,["fileData"]);u!=null&&a(e,["fileData"],TN(u));const c=s(n,["thoughtSignature"]);c!=null&&a(e,["thoughtSignature"],c);const d=s(n,["functionCall"]);d!=null&&a(e,["functionCall"],SN(d));const m=s(n,["codeExecutionResult"]);m!=null&&a(e,["codeExecutionResult"],m);const p=s(n,["executableCode"]);p!=null&&a(e,["executableCode"],p);const g=s(n,["functionResponse"]);g!=null&&a(e,["functionResponse"],g);const y=s(n,["text"]);return y!=null&&a(e,["text"],y),e}function RN(n){const e={},t=s(n,["voiceName"]);return t!=null&&a(e,["voiceName"],t),e}function NN(n){const e={},t=s(n,["proactiveAudio"]);return t!=null&&a(e,["proactiveAudio"],t),e}function DN(n){const e={},t=s(n,["automaticActivityDetection"]);t!=null&&a(e,["automaticActivityDetection"],pN(t));const r=s(n,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const o=s(n,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function LN(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FN(n){const e={},t=s(n,["targetTokens"]);return t!=null&&a(e,["targetTokens"],t),e}function UN(n){const e={},t=s(n,["speaker"]);t!=null&&a(e,["speaker"],t);const r=s(n,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],zg(r)),e}function VN(n){const e={},t=s(n,["voiceConfig"]);t!=null&&a(e,["voiceConfig"],zg(t));const r=s(n,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],MN(r));const o=s(n,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function bN(n){const e={},t=s(n,["includeThoughts"]);t!=null&&a(e,["includeThoughts"],t);const r=s(n,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function zN(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>EN(p))),a(e,["functionDeclarations"],m)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],kN(r));const o=s(n,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],wN(o)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&a(e,["urlContext"],BN());const c=s(n,["computerUse"]);c!=null&&a(e,["computerUse"],hN(c));const d=s(n,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function BN(){return{}}function qN(n){const e={},t=s(n,["fps"]);t!=null&&a(e,["fps"],t);const r=s(n,["endOffset"]);r!=null&&a(e,["endOffset"],r);const o=s(n,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function zg(n){const e={},t=s(n,["prebuiltVoiceConfig"]);return t!=null&&a(e,["prebuiltVoiceConfig"],RN(t)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HN(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(u=>`${t}.${u}`);e.push(...o)}else e.push(t)}return e.join(",")}function $N(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const u=r.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,t=u):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const o=n.fieldMask;if(t){const u=HN(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(p=>c.includes(p)?`generationConfig.${p}`:p));const m=[];u&&m.push(u),d.length>0&&m.push(...d),m.length>0?n.fieldMask=m.join(","):delete n.fieldMask}else delete n.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?n.fieldMask=o.join(","):delete n.fieldMask;return n}class GN extends sr{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=CN(this.apiClient,e);u=le("auth_tokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const m=$N(d,e.config);return o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>dN(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ON(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function JN(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function WN(n,e){const t={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=s(n,["epochCount"]);e!==void 0&&o!=null&&a(e,["tuningTask","hyperparameters","epochCount"],o);const u=s(n,["learningRateMultiplier"]);if(u!=null&&a(t,["tuningTask","hyperparameters","learningRateMultiplier"],u),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=s(n,["batchSize"]);e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","batchSize"],c);const d=s(n,["learningRate"]);if(e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","learningRate"],d),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return t}function KN(n,e){const t={},r=s(n,["validationDataset"]);e!==void 0&&r!=null&&a(e,["supervisedTuningSpec"],dD(r,t));const o=s(n,["tunedModelDisplayName"]);e!==void 0&&o!=null&&a(e,["tunedModelDisplayName"],o);const u=s(n,["description"]);e!==void 0&&u!=null&&a(e,["description"],u);const c=s(n,["epochCount"]);e!==void 0&&c!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);e!==void 0&&d!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const m=s(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=s(n,["labels"]);return e!==void 0&&g!=null&&a(e,["labels"],g),t}function YN(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const r=s(n,["preTunedModel"]);r!=null&&a(e,["preTunedModel"],r);const o=s(n,["trainingDataset"]);o!=null&&a(e,["tuningTask","trainingData"],uD(o));const u=s(n,["config"]);return u!=null&&WN(u,e),e}function QN(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const r=s(n,["preTunedModel"]);r!=null&&a(e,["preTunedModel"],r);const o=s(n,["trainingDataset"]);o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],aD(o,e));const u=s(n,["config"]);return u!=null&&KN(u,e),e}function XN(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function ZN(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function jN(n,e){const t={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const o=s(n,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const u=s(n,["filter"]);return e!==void 0&&u!=null&&a(e,["_query","filter"],u),t}function eD(n,e){const t={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const o=s(n,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const u=s(n,["filter"]);return e!==void 0&&u!=null&&a(e,["_query","filter"],u),t}function nD(n){const e={},t=s(n,["config"]);return t!=null&&jN(t,e),e}function tD(n){const e={},t=s(n,["config"]);return t!=null&&eD(t,e),e}function rD(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Bg(c))),a(e,["tuningJobs"],u)}return e}function iD(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const o=s(n,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Ta(c))),a(e,["tuningJobs"],u)}return e}function oD(n){const e={},t=s(n,["checkpointId"]);t!=null&&a(e,["checkpointId"],t);const r=s(n,["epoch"]);r!=null&&a(e,["epoch"],r);const o=s(n,["step"]);o!=null&&a(e,["step"],o);const u=s(n,["endpoint"]);return u!=null&&a(e,["endpoint"],u),e}function lD(n){const e={},t=s(n,["name"]);t!=null&&a(e,["model"],t);const r=s(n,["name"]);return r!=null&&a(e,["endpoint"],r),e}function sD(n){const e={},t=s(n,["model"]);t!=null&&a(e,["model"],t);const r=s(n,["endpoint"]);r!=null&&a(e,["endpoint"],r);const o=s(n,["checkpoints"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>oD(c))),a(e,["checkpoints"],u)}return e}function uD(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const t=s(n,["examples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>cD(o))),a(e,["examples","examples"],r)}return e}function aD(n,e){const t={},r=s(n,["gcsUri"]);e!==void 0&&r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],r);const o=s(n,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],o),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return t}function cD(n){const e={},t=s(n,["textInput"]);t!=null&&a(e,["textInput"],t);const r=s(n,["output"]);return r!=null&&a(e,["output"],r),e}function Bg(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["state"]);o!=null&&a(e,["state"],dg(o));const u=s(n,["createTime"]);u!=null&&a(e,["createTime"],u);const c=s(n,["tuningTask","startTime"]);c!=null&&a(e,["startTime"],c);const d=s(n,["tuningTask","completeTime"]);d!=null&&a(e,["endTime"],d);const m=s(n,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=s(n,["description"]);p!=null&&a(e,["description"],p);const g=s(n,["baseModel"]);g!=null&&a(e,["baseModel"],g);const y=s(n,["_self"]);y!=null&&a(e,["tunedModel"],lD(y));const C=s(n,["customBaseModel"]);C!=null&&a(e,["customBaseModel"],C);const T=s(n,["experiment"]);T!=null&&a(e,["experiment"],T);const E=s(n,["labels"]);E!=null&&a(e,["labels"],E);const _=s(n,["outputUri"]);_!=null&&a(e,["outputUri"],_);const R=s(n,["pipelineJob"]);R!=null&&a(e,["pipelineJob"],R);const A=s(n,["serviceAccount"]);A!=null&&a(e,["serviceAccount"],A);const z=s(n,["tunedModelDisplayName"]);z!=null&&a(e,["tunedModelDisplayName"],z);const U=s(n,["veoTuningSpec"]);return U!=null&&a(e,["veoTuningSpec"],U),e}function Ta(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["state"]);o!=null&&a(e,["state"],dg(o));const u=s(n,["createTime"]);u!=null&&a(e,["createTime"],u);const c=s(n,["startTime"]);c!=null&&a(e,["startTime"],c);const d=s(n,["endTime"]);d!=null&&a(e,["endTime"],d);const m=s(n,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=s(n,["error"]);p!=null&&a(e,["error"],p);const g=s(n,["description"]);g!=null&&a(e,["description"],g);const y=s(n,["baseModel"]);y!=null&&a(e,["baseModel"],y);const C=s(n,["tunedModel"]);C!=null&&a(e,["tunedModel"],sD(C));const T=s(n,["preTunedModel"]);T!=null&&a(e,["preTunedModel"],T);const E=s(n,["supervisedTuningSpec"]);E!=null&&a(e,["supervisedTuningSpec"],E);const _=s(n,["tuningDataStats"]);_!=null&&a(e,["tuningDataStats"],_);const R=s(n,["encryptionSpec"]);R!=null&&a(e,["encryptionSpec"],R);const A=s(n,["partnerModelTuningSpec"]);A!=null&&a(e,["partnerModelTuningSpec"],A);const z=s(n,["customBaseModel"]);z!=null&&a(e,["customBaseModel"],z);const U=s(n,["experiment"]);U!=null&&a(e,["experiment"],U);const $=s(n,["labels"]);$!=null&&a(e,["labels"],$);const J=s(n,["outputUri"]);J!=null&&a(e,["outputUri"],J);const L=s(n,["pipelineJob"]);L!=null&&a(e,["pipelineJob"],L);const K=s(n,["serviceAccount"]);K!=null&&a(e,["serviceAccount"],K);const ce=s(n,["tunedModelDisplayName"]);ce!=null&&a(e,["tunedModelDisplayName"],ce);const Z=s(n,["veoTuningSpec"]);return Z!=null&&a(e,["veoTuningSpec"],Z),e}function fD(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const r=s(n,["name"]);r!=null&&a(e,["name"],r);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const u=s(n,["done"]);u!=null&&a(e,["done"],u);const c=s(n,["error"]);return c!=null&&a(e,["error"],c),e}function dD(n,e){const t={},r=s(n,["gcsUri"]);r!=null&&a(t,["validationDatasetUri"],r);const o=s(n,["vertexDatasetResource"]);return e!==void 0&&o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pD extends sr{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new no(or.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const o={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=t.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},t),{preTunedModel:o});return u.baseModel=void 0,await this.tuneInternal(u)}else{const o=Object.assign({},t);return await this.tuneInternal(o)}else{const o=Object.assign({},t),u=await this.tuneMldevInternal(o);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:da.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=ZN(e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>Ta(g))}else{const p=XN(e);return d=le("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>Bg(g))}}async listInternal(e){var t,r,o,u;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=tD(e);return d=le("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=iD(g),C=new Im;return Object.assign(C,y),C})}else{const p=nD(e);return d=le("tunedModels",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),c.then(g=>{const y=rD(g),C=new Im;return Object.assign(C,y),C})}}async cancel(e){var t,r,o,u;let c="",d={};if(this.apiClient.isVertexAI()){const m=JN(e);c=le("{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const m=ON(e);c=le("{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=QN(e);return u=le("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:m.headers},g})),o.then(m=>Ta(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=YN(e);return u=le("tunedModels",d._url),c=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:m.headers},g})),o.then(m=>fD(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mD{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hD=1024*1024*8,gD=3,yD=1e3,vD=2,Zu="x-goog-upload-status";async function CD(n,e,t){var r,o,u;let c=0,d=0,m=new pa(new Response),p="upload";for(c=n.size;d<c;){const y=Math.min(hD,c-d),C=n.slice(d,d+y);d+y>=c&&(p+=", finalize");let T=0,E=yD;for(;T<gD&&(m=await t.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(d),"Content-Length":String(y)}}}),!(!((r=m==null?void 0:m.headers)===null||r===void 0)&&r[Zu]));)T++,await TD(E),E=E*vD;if(d+=y,((o=m==null?void 0:m.headers)===null||o===void 0?void 0:o[Zu])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(m==null?void 0:m.json());if(((u=m==null?void 0:m.headers)===null||u===void 0?void 0:u[Zu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function xD(n){return{size:n.size,type:n.type}}function TD(n){return new Promise(e=>setTimeout(e,n))}class SD{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await CD(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ED{create(e,t,r){return new wD(e,t,r)}}class wD{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zm="x-goog-api-key";class kD{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Zm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Zm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _D="gl-node/";class qg{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=Pw(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new kD(this.apiKey);this.apiClient=new GR({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:_D+"web",uploader:new SD,downloader:new mD}),this.models=new cN(this.apiClient),this.live=new rN(this.apiClient,o,new ED),this.batches=new S_(this.apiClient),this.chats=new P1(this.models,this.apiClient),this.caches=new I1(this.apiClient),this.files=new $1(this.apiClient),this.operations=new fN(this.apiClient),this.authTokens=new GN(this.apiClient),this.tunings=new pD(this.apiClient)}}const Dl=class Dl{async compressPdfContent(e,t={}){try{const r={...Dl.DEFAULT_OPTIONS,...t};if(console.log("PDF 압축 시작..."),console.log(`원본 크기: ${e.length.toLocaleString()}자`),!e||e.trim().length===0)throw new Error("입력 텍스트가 비어있습니다.");if(e.length<100)return console.warn("입력 텍스트가 매우 짧습니다. 압축이 필요하지 않을 수 있습니다."),this.createMinimalResult(e);const o=[()=>this.cleanPdfText(e),g=>this.extractImportantSections(g,r.preserveKeywords),g=>this.processChunks(g,r),g=>this.applyLengthLimit(g,r)];let u=e;if(u=o[0](),u.length===0)throw new Error("텍스트 정리 후 내용이 비어있습니다.");console.log(`1단계 (기본 정리) 완료: ${u.length.toLocaleString()}자`);try{const g=o[1](u);g.length<u.length&&g.length>0&&(u=g,console.log(`2단계 (구조적 압축) 완료: ${u.length.toLocaleString()}자`))}catch(g){console.warn("구조적 압축 중 오류 발생, 기본 정리 결과 사용:",g)}try{const g=o[2](u);g.length>0&&(u=g.join(`

---

`),console.log(`3단계 (청크 선택) 완료: ${u.length.toLocaleString()}자`))}catch(g){console.warn("청크 선택 중 오류 발생, 원본 텍스트 사용:",g),u=e}const c=this.tokensToCharacters(r.maxTokens);if(u.length>c)try{const g=o[3](u.split(`

---

`));g.length>0&&(u=g.join(`

---

`),console.log(`4단계 (길이 제한) 완료: ${u.length.toLocaleString()}자`))}catch(g){console.warn("길이 제한 중 오류 발생, 현재 결과 유지:",g)}if(u.length===0)throw new Error("압축 결과가 비어있습니다.");const[d,m]=await Promise.all([Promise.resolve(this.calculateQualityScore(e,u,r.preserveKeywords)),Promise.resolve(this.estimateTokens(u))]),p={compressedText:u,originalLength:e.length,compressedLength:u.length,compressionRatio:u.length/e.length,estimatedTokens:m,qualityScore:d};return console.log(`압축 완료: ${(p.compressionRatio*100).toFixed(1)}% 압축, ${m.toLocaleString()} 토큰, 품질 점수: ${d.toFixed(2)}`),p}catch(r){return console.error("PDF 압축 중 오류 발생:",r),this.createFallbackResult(e,r)}}processChunks(e,t){const r=this.splitIntoMeaningfulChunks(e,t.maxChunkSize);if(r.length===0)throw new Error("청크 분할 결과가 비어있습니다.");const o=this.selectImportantChunks(r,t.preserveKeywords,t.maxChunks);return o.length===0?(console.warn("선택된 청크가 없습니다. 원본 텍스트를 사용합니다."),[e]):o}applyLengthLimit(e,t){const r=this.tokensToCharacters(t.maxTokens);if(e.join(`

---

`).length<=r)return e;const u=this.splitIntoMeaningfulChunks(e.join(`

---

`),t.minChunkSize);return this.selectImportantChunks(u,t.preserveKeywords,Math.floor(t.maxChunks*.7))}createMinimalResult(e){return{compressedText:e,originalLength:e.length,compressedLength:e.length,compressionRatio:1,estimatedTokens:this.estimateTokens(e),qualityScore:100}}createFallbackResult(e,t){const r=this.tokensToCharacters(2e5),o=e.length>r?e.substring(0,r):e;return{compressedText:o,originalLength:e.length,compressedLength:o.length,compressionRatio:o.length/e.length,estimatedTokens:this.estimateTokens(o),qualityScore:50}}cleanPdfText(e){return e.replace(/^\s*\d+\s*$/gm,"").replace(/^.*(페이지|Page|page)\s*\d+.*$/gm,"").replace(/^.*\d+\s*\/\s*\d+.*$/gm,"").replace(/[^\w\s가-힣.,;:!?()[\]{}'"-]/g," ").replace(/\s+/g," ").replace(/\b(그|이|저|것|수|등|및|또|또한|그리고|하지만|그러나|따라서|그런데|그러므로)\b/g,"").replace(/\n\s*\n/g,`
`).trim()}extractImportantSections(e,t){return e.split(/\n\s*제\d+[장조항]|\n\s*[가-힣]{2,}.*규정|\n\s*[가-힣]{2,}.*지침|\n\s*[가-힣]{2,}.*업무/g).filter(u=>{if(u.trim().length<100)return!1;let c=0;return t.forEach(d=>{const m=(u.match(new RegExp(d,"gi"))||[]).length;c+=m*2}),u.length>500&&u.length<5e3&&(c+=1),c>0}).join(`

---

`)}splitIntoMeaningfulChunks(e,t){const r=[],o=e.split(/[.!?]\s+/);let u="";for(const c of o){const d=c.trim();d&&(u.length+d.length>t&&u.trim()?(r.push(u.trim()),u=d):u+=(u?". ":"")+d)}return u.trim()&&r.push(u.trim()),r}selectImportantChunks(e,t,r){const u=e.map(c=>{let d=0;const m=this.calculateKeywordWeights(t);t.forEach(y=>{const C=(c.match(new RegExp(y,"gi"))||[]).length,T=m[y]||1;d+=C*T*3}),c.length>500&&c.length<3e3?d+=3:c.length>200&&c.length<5e3?d+=2:c.length>100&&c.length<8e3&&(d+=1),c.includes("제")&&c.includes("조")&&(d+=4),(c.includes("규정")||c.includes("지침")||c.includes("업무"))&&(d+=2),(c.includes("시행령")||c.includes("시행규칙"))&&(d+=3),(c.includes("|")||c.includes("•")||c.includes("·"))&&(d+=2);const p=(c.match(/[.!?]/g)||[]).length;p>0&&(d+=Math.min(2,p));const g=(c.match(/\d+/g)||[]).length;return g>0&&(d+=Math.min(2,g*.5)),(c.includes("?")||c.includes("어떻게")||c.includes("무엇")||c.includes("언제"))&&(d+=1),c.length<50&&(d-=5),c.match(/^[^가-힣]*$/)&&(d-=3),{chunk:c,score:Math.max(0,d)}}).sort((c,d)=>d.score-c.score).slice(0,r).map(c=>c.chunk);return this.validateSelectedChunks(u,t)}calculateKeywordWeights(e){const t={};return["금연","금연구역","건강증진","시행령","시행규칙"].forEach(u=>{e.includes(u)&&(t[u]=3)}),["지정","관리","업무","지침","서비스","통합","사업","지원"].forEach(u=>{e.includes(u)&&(t[u]=2)}),e.forEach(u=>{t[u]||(t[u]=1)}),t}validateSelectedChunks(e,t){const r=new Set;return e.forEach(o=>{t.forEach(u=>{o.includes(u)&&r.add(u)})}),r.size<t.length*.3&&console.warn("키워드 커버리지가 낮습니다. 추가 청크를 선택합니다."),e}calculateQualityScore(e,t,r){let o=0;const u=100,c=t.length/e.length;c>.1&&c<.5?o+=30:c>.05&&c<.8?o+=20:o+=10;const d=r.reduce((C,T)=>C+(e.match(new RegExp(T,"gi"))||[]).length,0),m=r.reduce((C,T)=>C+(t.match(new RegExp(T,"gi"))||[]).length,0);if(d>0){const C=m/d;o+=Math.min(40,C*40)}const p=["제","조","항","목","규정","지침","업무"],g=p.reduce((C,T)=>C+(e.match(new RegExp(T,"gi"))||[]).length,0),y=p.reduce((C,T)=>C+(t.match(new RegExp(T,"gi"))||[]).length,0);if(g>0){const C=y/g;o+=Math.min(30,C*30)}return Math.min(u,o)}estimateTokens(e){return Math.ceil(e.length/4)}tokensToCharacters(e){return e*4}splitIntoChunks(e,t="PDF Document"){const r=[];let c=0,d=0;for(;c<e.length;){const m=Math.min(c+2e3,e.length);let p=e.substring(c,m);if(m<e.length){const y=p.lastIndexOf(".");y>2e3*.7&&(p=p.substring(0,y+1))}const g={id:`chunk_${d}`,content:p.trim(),metadata:{source:t,title:t,chunkIndex:d,startPosition:c,endPosition:c+p.length},keywords:this.extractChunkKeywords(p),location:{document:t,section:this.extractSection(p),subsection:this.extractSubsection(p)}};r.push(g),d++,c+=p.length-200}return console.log(`PDF를 ${r.length}개 청크로 분할 완료`),r}extractChunkKeywords(e){return["금연","금연구역","건강증진","시행령","시행규칙","지정","관리","업무","지침","서비스","통합","사업","지원","규정","법률","조항","항목","절차","방법","기준","요건","조건","제한","신고","신청","처리","심사","승인","허가","등록","변경","취소","정지","폐지","해제","위반","과태료","벌금","처벌","제재","조치","시설","장소","구역","지역","범위","대상","기관","단체","조직","협회","연합","연합회","담당","책임","의무","권한","기능","역할"].filter(r=>e.toLowerCase().includes(r.toLowerCase()))}extractSection(e){const t=[/제\d+장\s*([^\.\n]+)/g,/제\d+절\s*([^\.\n]+)/g,/([가-힣]{2,})\s*규정/g,/([가-힣]{2,})\s*지침/g];for(const r of t){const o=e.match(r);if(o)return o[0].trim()}}extractSubsection(e){const t=[/제\d+조\s*([^\.\n]+)/g,/제\d+항\s*([^\.\n]+)/g,/\([가-힣]+\)\s*([^\.\n]+)/g];for(const r of t){const o=e.match(r);if(o)return o[0].trim()}}selectChunksByRelevance(e,t,r=1e5){const o=e.map(d=>({chunk:d,score:this.calculateChunkRelevanceScore(d,t)}));o.sort((d,m)=>m.score-d.score);const u=[];let c=0;for(const{chunk:d}of o){const m=this.estimateTokens(d.content);if(c+m<=r)u.push({...d,relevanceScore:this.calculateChunkRelevanceScore(d,t)}),c+=m;else break}return console.log(`관련도 기반 청크 선택: ${u.length}개, 예상 토큰: ${c.toLocaleString()}개`),u}calculateChunkRelevanceScore(e,t){let r=0;const o=t.filter(p=>e.content.toLowerCase().includes(p.toLowerCase())).length;r+=o*10;const u=e.keywords,c=t.filter(p=>u.some(g=>g.toLowerCase().includes(p.toLowerCase())||p.toLowerCase().includes(g.toLowerCase()))).length;r+=c*15;const d=this.calculateChunkQuality(e);r+=d;const m=this.calculatePositionWeight(e,chunks.length);return r*=m,Math.max(0,r)}calculateChunkQuality(e){let t=0;e.content.length>500&&e.content.length<3e3?t+=5:e.content.length>200&&e.content.length<5e3&&(t+=3),e.content.includes("제")&&e.content.includes("조")&&(t+=3),(e.content.includes("규정")||e.content.includes("지침"))&&(t+=2);const r=(e.content.match(/[.!?]/g)||[]).length;return r>0&&(t+=Math.min(2,r)),t}calculatePositionWeight(e,t){return 1.2-e.metadata.chunkIndex/t*.4}validateCompression(e){const t=[],r=[];return e.estimatedTokens>2e5&&(t.push(`토큰 수가 많습니다: ${e.estimatedTokens.toLocaleString()}개`),r.push("더 많은 청크를 제거하거나 압축률을 높이세요.")),e.compressionRatio<.05&&(t.push(`압축률이 너무 높습니다: ${(e.compressionRatio*100).toFixed(1)}%`),r.push("중요한 정보가 손실될 수 있습니다. 압축률을 조정하세요.")),e.compressionRatio>.8&&(t.push(`압축률이 낮습니다: ${(e.compressionRatio*100).toFixed(1)}%`),r.push("더 많은 압축이 가능합니다.")),e.qualityScore<60&&(t.push(`품질 점수가 낮습니다: ${e.qualityScore.toFixed(1)}점`),r.push("키워드 보존을 개선하거나 압축 전략을 조정하세요.")),{isValid:t.length===0,warnings:t,recommendations:r}}};Dl.DEFAULT_OPTIONS={maxTokens:2e5,preserveKeywords:["금연","금연구역","건강증진","시행령","시행규칙","지정","관리","업무","지침","서비스","통합","사업","지원","규정","법률","조항","항목","절차","방법","기준","요건","조건","제한","신고","신청","처리","심사","승인","허가","등록","변경","취소","정지","폐지","해제","위반","과태료","벌금","처벌","제재","조치","시설","장소","구역","지역","범위","대상","기관","단체","조직","협회","연합","연합회","담당","책임","의무","권한","기능","역할"],minChunkSize:1e3,maxChunkSize:1e4,maxChunks:50};let Sa=Dl;const ju=new Sa;var jm,eh;const br=typeof window<"u"&&((eh=(jm=window.process)==null?void 0:jm.env)==null?void 0:eh.VITE_GEMINI_API_KEY);class ID{constructor(){if(this.ai=null,console.log("QuestionAnalyzer 초기화 중..."),console.log("API_KEY:",br?"설정됨":"설정되지 않음"),console.log("API_KEY 길이:",br?br.length:0),br&&br!=="YOUR_GEMINI_API_KEY_HERE")try{this.ai=new qg({apiKey:br}),console.log("GoogleGenAI 인스턴스 생성 성공"),console.log("AI 객체 메서드들:",Object.getOwnPropertyNames(Object.getPrototypeOf(this.ai)))}catch(e){console.error("GoogleGenAI 초기화 실패:",e),this.ai=null}else console.warn("API_KEY가 설정되지 않았습니다.")}async analyzeQuestion(e){if(!this.ai)return this.basicAnalysis(e);try{const t=`
다음 질문을 분석하여 JSON 형태로 답변해주세요:

질문: "${e}"

다음 형식으로 분석해주세요:
{
  "intent": "질문의 의도 (예: 금연구역 지정 절차 문의, 규정 내용 확인 등)",
  "keywords": ["핵심 키워드 배열"],
  "category": "질문 카테고리 (definition/procedure/regulation/comparison/analysis/general)",
  "complexity": "복잡도 (simple/medium/complex)",
  "entities": ["질문에서 언급된 구체적 개체들"],
  "context": "질문의 맥락 설명"
}

분석 기준:
- category: definition(정의), procedure(절차), regulation(규정), comparison(비교), analysis(분석), general(일반)
- complexity: simple(단순), medium(중간), complex(복잡)
- keywords: 질문의 핵심을 나타내는 중요한 단어들
- entities: 구체적인 명사, 기관명, 법령명 등
`;let r;try{const d=await this.ai.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:"You are a helpful assistant that analyzes questions and returns JSON responses."},history:[]}).sendMessageStream({message:t});let m="";for await(const p of d)p.text&&(m+=p.text);r={response:{text:()=>m}},console.log("AI 질문 분석 성공 (GeminiService 방식)")}catch(c){throw console.error("AI API 호출 실패:",c),c}let o;return r&&r.response?o=r.response.text():r&&typeof r.text=="function"?o=r.text():r&&r.text?o=r.text:typeof r=="string"?o=r:o=String(r),this.parseAnalysisResponse(o)}catch(t){return console.warn("AI 질문 분석 실패, 기본 분석 사용:",t),this.basicAnalysis(e)}}basicAnalysis(e){const t=this.extractKeywords(e),r=this.classifyCategory(e),o=this.assessComplexity(e),u=this.extractEntities(e);return{intent:this.generateIntent(e,t),keywords:t,category:r,complexity:o,entities:u,context:e}}parseAnalysisResponse(e){try{const t=e.match(/\{[\s\S]*\}/);if(t){const r=JSON.parse(t[0]);return{intent:r.intent||"",keywords:r.keywords||[],category:r.category||"general",complexity:r.complexity||"medium",entities:r.entities||[],context:r.context||""}}}catch(t){console.warn("AI 응답 파싱 실패:",t)}return this.basicAnalysis("")}extractKeywords(e){return["금연","금연구역","건강증진","시행령","시행규칙","지정","관리","업무","지침","서비스","통합","사업","지원","규정","법률","조항","항목","절차","방법","기준","요건","조건","제한","신고","신청","처리","심사","승인","허가","등록","변경","취소","정지","폐지","해제","위반","과태료","벌금","처벌","제재","조치","시설","장소","구역","지역","범위","대상","기관","단체","조직","협회","연합","연합회","담당","책임","의무","권한","기능","역할"].filter(r=>e.toLowerCase().includes(r.toLowerCase()))}classifyCategory(e){const t=e.toLowerCase();return t.includes("무엇")||t.includes("정의")||t.includes("의미")||t.includes("개념")?"definition":t.includes("절차")||t.includes("방법")||t.includes("과정")||t.includes("단계")?"procedure":t.includes("규정")||t.includes("법령")||t.includes("조항")||t.includes("규칙")?"regulation":t.includes("비교")||t.includes("차이")||t.includes("구분")||t.includes("vs")?"comparison":t.includes("분석")||t.includes("검토")||t.includes("평가")||t.includes("고려")?"analysis":"general"}assessComplexity(e){const t=e.toLowerCase();return t.length<20&&!t.includes("?")&&!t.includes("어떻게")?"simple":t.length>50||t.includes("여러")||t.includes("복합")||t.includes("종합")?"complex":"medium"}extractEntities(e){const t=[];return[/국민건강증진법률/gi,/시행령/gi,/시행규칙/gi,/질서위반행위규제법/gi].forEach(u=>{const c=e.match(u);c&&t.push(...c)}),[/보건복지부/gi,/시도/gi,/시군구/gi,/지역사회/gi].forEach(u=>{const c=e.match(u);c&&t.push(...c)}),[...new Set(t)]}generateIntent(e,t){if(t.length===0)return"일반적인 문의";const r=t[0];switch(this.classifyCategory(e)){case"definition":return`${r}에 대한 정의나 개념 문의`;case"procedure":return`${r} 관련 절차나 방법 문의`;case"regulation":return`${r} 관련 규정이나 법령 문의`;case"comparison":return`${r} 관련 비교나 차이점 문의`;case"analysis":return`${r} 관련 분석이나 검토 문의`;default:return`${r} 관련 일반 문의`}}}class AD{constructor(){this.allChunks=[],this.TARGET_TOKENS=1e5,this.KOREAN_SYNONYMS={금연:["금연사업","담배금지","흡연금지","금연정책","금연운동","금연지원"],지정:["선정","고시","공시","발표","선정","지정고시"],관리:["운영","관할","담당","처리","관리운영","관리업무"],절차:["방법","과정","순서","단계","절차방법","처리절차"],신청:["접수","제출","등록","신고","신청접수","제출신청"],심사:["검토","심의","평가","심사검토","심의평가"],승인:["허가","인가","승인허가","인가승인"],규정:["법령","규칙","지침","규정사항","법규"],지침:["가이드","매뉴얼","지침서","운영지침"],서비스:["지원","제공","서비스지원","지원서비스"],건강증진:["건강향상","건강증진사업","건강관리"],시설:["장소","시설물","건물","공간"],위반:["위반행위","위반사항","위반처리"],과태료:["벌금","과금","처벌","제재"],보고:["제출","보고서","보고사항","보고제출"],교육:["훈련","교육프로그램","교육과정","연수"],홍보:["선전","홍보활동","홍보사업","홍보물"],점검:["검사","점검사항","점검업무","모니터링"],통계:["통계자료","통계분석","통계수집","데이터"],분석:["검토","분석자료","분석결과","연구"],개선:["향상","개선사항","개선방안","개선계획"],지원:["도움","지원사업","지원활동","지원정책"],협력:["협조","협력사업","협력활동","연계"],평가:["검증","평가사항","평가결과","성과평가"],운영:["관리","운영방법","운영계획","운영지침"],개발:["구축","개발사업","개발계획","시스템개발"],보안:["안전","보안관리","보안사항","정보보안"],업데이트:["갱신","수정","변경","개선"],장애:["문제","오류","장애처리","문제해결"],대응:["처리","대응방안","대응절차","대응계획"]}}setChunks(e){this.allChunks=e}async selectRelevantContext(e,t){if(this.allChunks.length===0)return[];console.log("🔍 다단계 검색 시스템 시작..."),console.log("1단계: 정확한 키워드 매칭");const r=this.findExactMatches(e,t);console.log(`정확한 매칭: ${r.length}개 청크`),console.log("2단계: 동의어/유사어 검색");const o=this.findSynonymMatches(e,t);console.log(`동의어 매칭: ${o.length}개 청크`),console.log("3단계: 의미적 유사성 검색");const u=this.findSemanticMatches(e,t);console.log(`의미적 매칭: ${u.length}개 청크`),console.log("4단계: 관련 청크 확장");const c=this.expandRelatedChunks(r);console.log(`확장된 매칭: ${c.length}개 청크`),console.log("5단계: 질문 유형별 맞춤 검색");const d=this.getSearchStrategy(t);console.log(`유형별 매칭: ${d.length}개 청크`),console.log("6단계: 최종 통합 및 정렬");const m=this.mergeAndRankChunks([r,o,u,c,d]);console.log("7단계: 품질 검증");const p=this.validateSearchResults(m,e);console.log(`검증된 청크: ${p.length}개`);const g=this.selectFinalChunks(p,t);return console.log(`최종 선택된 청크: ${g.length}개, 예상 토큰: ${this.calculateTotalTokens(g).toLocaleString()}개`),g}calculateRelevanceScore(e,t){let r=0;const o=t.keywords.filter(p=>e.content.toLowerCase().includes(p.toLowerCase())).length;r+=o*10;const u=t.entities.filter(p=>e.content.toLowerCase().includes(p.toLowerCase())).length;r+=u*15;const c=this.getCategoryWeight(t.category);r*=c;const d=this.calculateChunkQuality(e);r+=d;const m=this.calculatePositionWeight(e);return r*=m,Math.max(0,r)}getCategoryWeight(e){switch(e){case"definition":return 1.2;case"procedure":return 1.1;case"regulation":return 1.3;case"comparison":return 1;case"analysis":return 1.1;default:return 1}}calculateChunkQuality(e){let t=0;e.content.length>500&&e.content.length<3e3?t+=5:e.content.length>200&&e.content.length<5e3&&(t+=3),e.content.includes("제")&&e.content.includes("조")&&(t+=3),(e.content.includes("규정")||e.content.includes("지침"))&&(t+=2);const r=(e.content.match(/[.!?]/g)||[]).length;return r>0&&(t+=Math.min(2,r)),t}calculatePositionWeight(e){return 1.2-e.metadata.chunkIndex/this.allChunks.length*.4}estimateTokens(e){return Math.ceil(e.length/4)}findExactMatches(e,t){return this.allChunks.slice(0,Math.min(200,this.allChunks.length)).filter(o=>this.calculateRelevanceScore(o,t)>.1).sort((o,u)=>this.calculateRelevanceScore(u,t)-this.calculateRelevanceScore(o,t)).slice(0,20)}findSynonymMatches(e,t){const r=this.extractSynonyms(e),o=[...t.keywords,...r],u={...t,keywords:o};return this.allChunks.slice(0,Math.min(300,this.allChunks.length)).filter(d=>this.calculateRelevanceScore(d,u)>.05).sort((d,m)=>this.calculateRelevanceScore(m,u)-this.calculateRelevanceScore(d,u)).slice(0,30)}findSemanticMatches(e,t){const r=this.vectorizeText(e);return this.allChunks.slice(0,Math.min(400,this.allChunks.length)).filter(u=>{const c=this.vectorizeText(u.content);return this.calculateCosineSimilarity(r,c)>.3}).sort((u,c)=>{const d=this.calculateCosineSimilarity(r,this.vectorizeText(u.content));return this.calculateCosineSimilarity(r,this.vectorizeText(c.content))-d}).slice(0,25)}expandRelatedChunks(e){const t=new Set(e);return e.forEach(r=>{this.getAdjacentChunks(r).forEach(c=>t.add(c)),this.getChunksInSameSection(r).forEach(c=>t.add(c))}),Array.from(t)}getSearchStrategy(e){switch(e.category){case"definition":return this.searchForDefinitions(e);case"procedure":return this.searchForProcedures(e);case"regulation":return this.searchForRegulations(e);case"comparison":return this.searchForComparisons(e);case"analysis":return this.searchForAnalysis(e);default:return this.searchGeneral(e)}}mergeAndRankChunks(e){const t=new Map;return e.forEach((r,o)=>{r.forEach(u=>{const c=u.id;if(t.has(c)){const d=t.get(c);d.totalScore+=u.relevanceScore||0,d.sourceCount+=1}else t.set(c,{...u,totalScore:u.relevanceScore||0,sourceCount:1})})}),Array.from(t.values()).sort((r,o)=>{const u=r.totalScore*(1+r.sourceCount*.1);return o.totalScore*(1+o.sourceCount*.1)-u}).slice(0,100)}validateSearchResults(e,t){return e.filter(r=>this.calculateBasicRelevanceScore(r,t)<.05||this.checkContentCompleteness(r)<.3?!1:!this.isDuplicateContent(r,e))}selectFinalChunks(e,t){const r=[];let o=0;for(const u of e){const c=this.estimateTokens(u.content);if(o+c<=this.TARGET_TOKENS)r.push({...u,relevanceScore:this.calculateRelevanceScore(u,t)}),o+=c;else{c<=this.TARGET_TOKENS*.1&&(r.push({...u,relevanceScore:this.calculateRelevanceScore(u,t)}),o+=c);break}}return r}extractSynonyms(e){const t=[];return e.split(/\s+/).forEach(o=>{const u=o.replace(/[^\w가-힣]/g,"");this.KOREAN_SYNONYMS[u]&&t.push(...this.KOREAN_SYNONYMS[u])}),[...new Set(t)]}vectorizeText(e){const t=e.toLowerCase().split(/\s+/),r={};t.forEach(c=>{const d=c.replace(/[^\w가-힣]/g,"");d.length>1&&(r[d]=(r[d]||0)+1)});const o=Object.keys(r),u=new Array(100).fill(0);return o.forEach((c,d)=>{d<100&&(u[d]=r[c])}),u}calculateCosineSimilarity(e,t){if(e.length!==t.length)return 0;let r=0,o=0,u=0;for(let c=0;c<e.length;c++)r+=e[c]*t[c],o+=e[c]*e[c],u+=t[c]*t[c];return o===0||u===0?0:r/(Math.sqrt(o)*Math.sqrt(u))}getAdjacentChunks(e){const t=e.metadata.chunkIndex,r=[];if(t>0){const u=this.allChunks.find(c=>c.metadata.chunkIndex===t-1);u&&r.push(u)}const o=this.allChunks.find(u=>u.metadata.chunkIndex===t+1);return o&&r.push(o),r}getChunksInSameSection(e){const t=e.location.section;return t?this.allChunks.filter(r=>r.location.section===t&&r.id!==e.id).slice(0,5):[]}searchForDefinitions(e){return this.allChunks.filter(t=>t.content.includes("정의")||t.content.includes("의미")||t.content.includes("뜻은")||t.content.includes("이란")).slice(0,15)}searchForProcedures(e){return this.allChunks.filter(t=>t.content.includes("절차")||t.content.includes("방법")||t.content.includes("과정")||t.content.includes("단계")).slice(0,15)}searchForRegulations(e){return this.allChunks.filter(t=>t.content.includes("규정")||t.content.includes("법령")||t.content.includes("지침")||t.content.includes("제")&&t.content.includes("조")).slice(0,20)}searchForComparisons(e){return this.allChunks.filter(t=>t.content.includes("비교")||t.content.includes("차이")||t.content.includes("구분")||t.content.includes("대비")).slice(0,10)}searchForAnalysis(e){return this.allChunks.filter(t=>t.content.includes("분석")||t.content.includes("검토")||t.content.includes("평가")||t.content.includes("통계")).slice(0,15)}searchGeneral(e){return this.allChunks.slice(0,50)}calculateBasicRelevanceScore(e,t){const r=t.toLowerCase().split(/\s+/);let o=0;return r.forEach(u=>{e.content.toLowerCase().includes(u)&&(o+=1)}),o/r.length}checkContentCompleteness(e){let t=0;e.content.length>100&&(t+=.3),e.content.length>500&&(t+=.3);const r=(e.content.match(/[.!?]/g)||[]).length;return r>0&&(t+=.2),r>2&&(t+=.2),Math.min(1,t)}isDuplicateContent(e,t){const r=e.content.toLowerCase();return t.some(o=>o.id!==e.id&&o.content.toLowerCase().includes(r.substring(0,50)))}calculateTotalTokens(e){return e.reduce((t,r)=>t+this.estimateTokens(r.content),0)}}const MD=new ID,ea=new AD;var nh,th;const Sl=typeof window<"u"&&((th=(nh=window.process)==null?void 0:nh.env)==null?void 0:th.VITE_GEMINI_API_KEY),PD=`You are an expert assistant specialized in Korean legal and administrative documents. Your name is NotebookLM Assistant. 

IMPORTANT INSTRUCTIONS:
1. Answer questions based ONLY on the provided source material
2. Do NOT use external knowledge or pre-trained information
3. If information is not found in the source, clearly state "제공된 자료에서 해당 정보를 찾을 수 없습니다"
4. Always cite specific documents and sections when possible
5. For Korean legal/administrative terms, use the exact terminology from the source
6. Provide comprehensive answers by combining information from multiple relevant sections
7. If multiple documents contain related information, synthesize them coherently
8. Pay special attention to procedural steps, definitions, and regulatory requirements
9. Use formal Korean language appropriate for official documents
10. When presenting structured data (lists, comparisons, procedures, criteria), ALWAYS use Markdown tables for better readability
11. Use Markdown formatting for better presentation (bold, lists, tables, headings, etc.)
12. For tabular data, use proper Markdown table syntax with headers and aligned columns
13. IMPORTANT: When asked to create a table or present data in table format, use this exact Markdown table syntax:
    | Column 1 | Column 2 | Column 3 |
    |----------|----------|----------|
    | Data 1   | Data 2   | Data 3   |
14. Always include the separator row (---) between header and data rows
15. For source citations in tables, use abbreviated document names with page references:
    - "건강증진법(p.3)" for 국민건강증진법률 시행령 시행규칙
    - "업무지침(p.5)" for 금연구역 지정 관리 업무지침
    - "가이드라인(p.2)" for 유치원 어린이집 가이드라인
    - "매뉴얼(p.7)" for 금연지원서비스 통합시스템 매뉴얼
    - IMPORTANT: When multiple pages from the same document are referenced, combine them as: "업무지침(p.60, 105, 108)" instead of "업무지침(p.60), 업무지침(p.105), 업무지침(p.108)"
    - Group page numbers by document and separate different documents with commas
16. If the table already includes a "출처" or "관련 출처" column, do NOT add a separate 참조문서 section below
17. If the table does NOT have a source column, then add a "참조문서" section below with full document names and page numbers
18. IMPORTANT: If sources are already cited inline within the main text (e.g., "(건강증진법, p.6, 7; 업무지침, p.9)"), do NOT add a separate 참조문서 section below
19. Only add 참조문서 section when sources are NOT already mentioned in the main content
20. When citing sources, include page numbers or section references when available
21. Format the 참조문서 section (only when needed) as follows:
    ### 참조문서
    - **건강증진법**: 국민건강증진법률 시행령 시행규칙(202508) - p.3, 5, 8
    - **업무지침**: 금연구역 지정 관리 업무지침_2025개정판 - p.2, 4, 6, 60, 105, 108
    - **가이드라인**: 유치원, 어린이집 경계 10m 금연구역 관리 가이드라인 - p.1, 2, 3
    - **매뉴얼**: 금연지원서비스 통합시스템 사용자매뉴얼 - p.7, 9
    - Group all page numbers for each document in ascending order

Here is the source material:
---START OF SOURCE---
{sourceText}
---END OF SOURCE---`;class RD{constructor(){this.sources=[],this.ai=null,this.currentChatSession=null,this.cachedSourceText=null,this.isInitialized=!1,this.compressionResult=null,this.allChunks=[],this.fullPdfText="",this.currentAbortController=null,this.initializeAI()}initializeAI(){if(console.log("GeminiService AI 초기화 중..."),console.log("API_KEY:",Sl?"설정됨":"설정되지 않음"),Sl&&Sl!=="YOUR_GEMINI_API_KEY_HERE")try{this.ai=new qg({apiKey:Sl}),console.log("GeminiService GoogleGenAI 인스턴스 생성 성공"),console.log("AI 객체 메서드들:",Object.getOwnPropertyNames(Object.getPrototypeOf(this.ai)))}catch(e){console.error("GeminiService GoogleGenAI 초기화 실패:",e),this.ai=null}else console.warn("API_KEY is not configured. Chat functionality will be limited.")}async loadDefaultSources(){try{const e="./pdf/manifest.json";console.log("Loading PDF sources from manifest:",e);const t=await fetch(e);if(!t.ok){console.warn(`Manifest not found (${t.status}), using empty sources`),this.sources=[];return}const r=await t.json();if(console.log("Found PDF files in manifest:",r),!Array.isArray(r)||r.length===0){console.warn("No PDF files found in manifest.json"),this.sources=[];return}this.sources=r.map((o,u)=>({id:(u+1).toString(),title:o,content:"",type:"pdf"})),console.log("Dynamic sources loaded:",this.sources)}catch(e){console.error("Failed to load sources from manifest:",e),this.sources=[]}}addSource(e){this.sources.push(e)}getSources(){return this.sources}async loadPdfJs(){return window.pdfjsLib?(console.log("PDF.js already loaded"),window.pdfjsLib):new Promise((e,t)=>{let r=0;const o=50,u=()=>{if(r++,window.pdfjsLib){console.log("PDF.js loaded from pre-loaded local script"),e(window.pdfjsLib);return}if(r>=o){console.log("PDF.js not pre-loaded, falling back to CDN..."),this.loadPdfJsFromCDN().then(e).catch(t);return}setTimeout(u,100)};u()})}async loadPdfJsFromCDN(){return new Promise((e,t)=>{const r=document.createElement("script");r.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js",r.async=!0,r.defer=!0;const o=setTimeout(()=>{t(new Error("PDF.js loading timeout"))},1e4);r.onload=()=>{clearTimeout(o),window.pdfjsLib?(window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js",e(window.pdfjsLib)):t(new Error("Failed to load PDF.js"))},r.onerror=()=>{clearTimeout(o),t(new Error("Failed to load PDF.js script"))},document.head.appendChild(r)})}async parsePdfFromUrl(e){try{const t=await fetch(e).then(c=>{if(!c.ok)throw new Error(`Failed to fetch ${e}: ${c.statusText}`);return c.arrayBuffer()}),o=await(await this.loadPdfJs()).getDocument({data:new Uint8Array(t),useWorkerFetch:!0,verbosity:0}).promise;let u="";for(let c=1;c<=o.numPages;c++){const p=(await(await o.getPage(c)).getTextContent()).items.map(g=>g.str).join(" ");u+=p+`

`}return u}catch(t){throw console.error(`Error parsing PDF from ${e}:`,t),new Error(`Failed to parse ${e.split("/").pop()}: ${t.message}`)}}async initializeWithPdfSources(){if(this.isInitialized&&this.cachedSourceText){console.log("PDF sources already initialized");return}try{if(console.log("Initializing PDF sources..."),await this.loadDefaultSources(),await this.loadPreprocessedData()){console.log("사전 처리된 데이터 사용 완료");return}console.log("사전 처리된 데이터 없음, 실시간 파싱 시작...");const t=await this.loadPdfSourcesOptimized();if(!t||t.trim().length===0)throw new Error("PDF 내용을 로드할 수 없습니다.");console.log(`Original PDF text loaded: ${t.length.toLocaleString()} characters`),this.fullPdfText=t,console.log("Splitting PDF into chunks..."),this.allChunks=ju.splitIntoChunks(t,"PDF Document"),console.log(`PDF split into ${this.allChunks.length} chunks`),ea.setChunks(this.allChunks),console.log("Compressing PDF content..."),this.compressionResult=await ju.compressPdfContent(t),this.cachedSourceText=this.compressionResult.compressedText,this.isInitialized=!0;const r=ju.validateCompression(this.compressionResult);r.isValid||(console.warn("Compression validation warnings:",r.warnings),console.log("Recommendations:",r.recommendations)),console.log("PDF sources initialized, chunked, and compressed successfully")}catch(e){console.error("Failed to initialize PDF sources:",e),console.log("Falling back to default sources..."),this.cachedSourceText=this.sources.map(t=>`[${t.title}]
${t.content}`).join(`

`),this.isInitialized=!0,this.compressionResult={compressedText:this.cachedSourceText,originalLength:this.cachedSourceText.length,compressedLength:this.cachedSourceText.length,compressionRatio:1,estimatedTokens:Math.ceil(this.cachedSourceText.length/4),qualityScore:60},console.log("Fallback initialization completed")}}async loadPreprocessedData(){var e,t,r,o;try{console.log("사전 처리된 데이터 로드 시도...");const u=await fetch("./data/processed-pdfs.json");if(!u.ok)throw new Error(`사전 처리된 데이터를 찾을 수 없습니다: ${u.status}`);const c=await u.json();if(!c.compressedText||!c.chunks)throw new Error("사전 처리된 데이터 형식이 올바르지 않습니다.");return this.cachedSourceText=c.compressedText,this.fullPdfText=c.fullText||c.compressedText,this.allChunks=c.chunks||[],this.isInitialized=!0,this.compressionResult={compressedText:c.compressedText,originalLength:((e=c.metadata)==null?void 0:e.originalSize)||c.compressedText.length,compressedLength:c.compressedText.length,compressionRatio:((t=c.metadata)==null?void 0:t.compressionRatio)||1,estimatedTokens:((r=c.metadata)==null?void 0:r.estimatedTokens)||Math.ceil(c.compressedText.length/4),qualityScore:((o=c.metadata)==null?void 0:o.qualityScore)||85},ea.setChunks(this.allChunks),console.log(`사전 처리된 데이터 로드 완료: ${c.compressedText.length.toLocaleString()}자, ${this.allChunks.length}개 청크`),console.log(`압축률: ${(this.compressionResult.compressionRatio*100).toFixed(1)}%`),c.compressedText}catch(u){return console.warn("사전 처리된 데이터 로드 실패, 실시간 파싱으로 폴백:",u),console.log("폴백 원인:",u instanceof Error?u.message:"Unknown error"),null}}async loadPdfSourcesOptimized(){const e="./pdf/";try{console.log("Attempting to load PDF sources from:",e);const t=`${e}manifest.json`;console.log("Fetching manifest from:",t);const r=await fetch(t);if(!r.ok)throw console.warn(`Manifest not found (${r.status}), falling back to default sources`),new Error(`Could not load file list (manifest.json). Status: ${r.statusText}`);const o=await r.json();if(console.log("Found PDF files:",o),!Array.isArray(o)||o.length===0)throw new Error("No PDF files found in manifest.json or the file is invalid.");console.log("Pre-loading PDF.js..."),await this.loadPdfJs();const u=3,c=[];for(let m=0;m<o.length;m+=u){const p=o.slice(m,m+u);console.log(`Processing batch ${Math.floor(m/u)+1}/${Math.ceil(o.length/u)}`);const g=p.map(C=>this.parsePdfFromUrl(e+C)),y=await Promise.all(g);c.push(...y)}const d=c.join(`
--- END OF DOCUMENT ---

--- START OF DOCUMENT ---
`);return console.log("Successfully loaded PDF sources"),d}catch(t){return console.warn("Error loading PDFs, using default sources:",t),this.sources.map(r=>`[${r.title}]
${r.content}`).join(`

`)}}async loadPdfSources(){return this.loadPdfSourcesOptimized()}async createNotebookChatSession(e){if(!this.ai)throw new Error("API 키가 설정되지 않았습니다. 실제 API 키를 설정해주세요.");this.isInitialized||await this.initializeWithPdfSources();const t=e||this.cachedSourceText||"",r=PD.replace("{sourceText}",t);console.log(`Creating chat session with compressed text: ${t.length.toLocaleString()} characters`);const o=this.ai.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:r},history:[]});return this.currentChatSession=o,o}async generateStreamingResponse(e){try{console.log("Analyzing question...");const t=await MD.analyzeQuestion(e);console.log("Question analysis:",t),console.log("Selecting relevant context...");const r=await ea.selectRelevantContext(e,t);console.log(`Selected ${r.length} relevant chunks`);const o=r.map((d,m)=>{const p=d.relevanceScore||0;return`[문서 ${m+1}: ${d.metadata.title} - ${d.location.section||"일반"}]
관련도: ${p.toFixed(2)}
${d.content}`}).join(`

---

`);console.log(`Creating new session with ${o.length.toLocaleString()} characters of context`),console.log(`Selected ${r.length} chunks with enhanced context`);const c=await(await this.createNotebookChatSession(o)).sendMessageStream({message:e});return(async function*(){for await(const d of c)d.text&&(yield d.text)})()}catch(t){console.error("Question-based context selection failed, falling back to full context:",t),this.currentChatSession||await this.createNotebookChatSession();try{const r=await this.currentChatSession.sendMessageStream({message:e});return(async function*(){for await(const o of r)o.text&&(yield o.text)})()}catch(r){if(console.error("Fallback also failed:",r),r instanceof Error){if(r.message.includes("429")||r.message.includes("RESOURCE_EXHAUSTED"))throw new Error("답변 요청 한도를 초과했습니다. 잠시 후 다시 시도해 주세요.");if(r.message.includes("quota")||r.message.includes("Quota"))throw new Error("답변 요청 한도를 초과했습니다. 잠시 후 다시 시도해 주세요.");if(r.message.includes("rate limit"))throw new Error("답변 요청 한도를 초과했습니다. 잠시 후 다시 시도해 주세요.")}throw new Error(`API 호출 중 오류가 발생했습니다: ${r.message}`)}}}async generateResponse(e){this.currentChatSession||await this.createNotebookChatSession();try{const t=await this.currentChatSession.sendMessageStream({message:e});let r="";for await(const o of t)o.text&&(r+=o.text);return console.log("Generated response:",r),r}catch(t){if(console.error("Gemini API Error:",t),t instanceof Error){if(t.message.includes("429")||t.message.includes("RESOURCE_EXHAUSTED"))return"답변 요청 한도를 초과했습니다. 잠시 후 다시 시도해 주세요.";if(t.message.includes("quota")||t.message.includes("Quota"))return"답변 요청 한도를 초과했습니다. 잠시 후 다시 시도해 주세요.";if(t.message.includes("rate limit"))return"답변 요청 한도를 초과했습니다. 잠시 후 다시 시도해 주세요."}throw new Error(`API 호출 중 오류가 발생했습니다: ${t.message}`)}}async resetChatSession(){try{console.log("Resetting chat session..."),this.cancelCurrentRequest(),this.currentChatSession=null,await this.createNotebookChatSession(),console.log("Chat session reset successfully")}catch(e){throw console.error("Failed to reset chat session:",e),e}}cancelCurrentRequest(){this.currentAbortController&&(console.log("Cancelling current request..."),this.currentAbortController.abort(),this.currentAbortController=null)}getCompressionStats(){return this.compressionResult}async recompressPdfSources(){this.isInitialized=!1,this.cachedSourceText=null,this.compressionResult=null,await this.initializeWithPdfSources()}}const rt=new RD;function ND(){const[n,e]=gn.useState(rt.getSources()),[t,r]=gn.useState(!0),[o,u]=gn.useState(!1),[c,d]=gn.useState(!1),[m,p]=gn.useState(!1),[g,y]=gn.useState([]);gn.useEffect(()=>{(async()=>{try{console.log("Starting PDF initialization...");const A=rt.initializeWithPdfSources(),z=rt.createNotebookChatSession();await Promise.all([A,z]),e(rt.getSources()),console.log("Initialization completed successfully"),r(!1)}catch(A){console.error("Failed to initialize chat session:",A),r(!1)}})()},[]);const C=async R=>await rt.generateResponse(R),T=async R=>await rt.generateStreamingResponse(R),E=()=>{p(!0)},_=async()=>{try{p(!1),await rt.resetChatSession(),y([]),await rt.initializeWithPdfSources(),e(rt.getSources()),console.log("새 대화가 시작되었습니다.")}catch(R){console.error("Failed to reset chat session:",R)}};return t?D.jsx("div",{className:"min-h-screen bg-brand-bg text-brand-text-primary flex items-center justify-center",children:D.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[D.jsxs("div",{className:"relative mb-6",children:[D.jsx("div",{className:"w-16 h-16 border-4 border-brand-secondary rounded-full mx-auto"}),D.jsx("div",{className:"w-16 h-16 border-4 border-brand-primary border-t-transparent rounded-full animate-spin absolute top-0 left-1/2 transform -translate-x-1/2"})]}),D.jsx("h2",{className:"text-2xl font-bold text-brand-text-primary mb-3",children:"AI 사업문의 지원 Chatbot4"}),D.jsx("p",{className:"text-brand-text-secondary mb-4",children:"문서를 준비하고 있습니다..."}),D.jsxs("div",{className:"space-y-2 text-sm text-brand-text-secondary",children:[D.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[D.jsx("div",{className:"w-2 h-2 bg-brand-primary rounded-full animate-pulse"}),D.jsx("span",{children:"사전 처리된 데이터 로딩 중..."})]}),D.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[D.jsx("div",{className:"w-2 h-2 bg-brand-primary rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),D.jsx("span",{children:"PDF 문서 파싱 중 (폴백 모드)"})]}),D.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[D.jsx("div",{className:"w-2 h-2 bg-brand-primary rounded-full animate-pulse",style:{animationDelay:"0.4s"}}),D.jsx("span",{children:"AI 모델 준비 중..."})]})]}),D.jsx("div",{className:"mt-6 text-xs text-brand-text-secondary",children:"잠시만 기다려주세요. 첫 로딩은 시간이 걸릴 수 있습니다."})]})}):D.jsxs("div",{className:"min-h-screen bg-brand-bg text-brand-text-primary",children:[D.jsxs("div",{className:"max-w-7xl mx-auto h-screen flex flex-col",children:[D.jsx("header",{className:"bg-brand-surface border-b border-brand-secondary p-4",children:D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("button",{onClick:()=>u(!o),className:"md:hidden p-2 rounded-lg bg-brand-secondary hover:bg-opacity-80 transition-colors",children:D.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),D.jsxs("div",{children:[D.jsx("h1",{className:"text-xl md:text-2xl font-bold text-brand-primary",children:"AI 사업문의 지원 Chatbot4"}),D.jsx("p",{className:"text-brand-text-secondary text-xs md:text-sm mt-1",children:"금연사업 관련 문의사항을 AI가 도와드립니다"})]})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>d(!0),className:"px-3 py-2 bg-brand-secondary text-brand-text-primary rounded-lg hover:bg-opacity-80 transition-colors text-xs md:text-sm",children:"압축 통계"}),D.jsx("button",{onClick:E,className:"px-3 py-2 bg-brand-secondary text-brand-text-primary rounded-lg hover:bg-opacity-80 transition-colors text-xs md:text-sm",children:"새 대화 시작"})]})]})}),D.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[o&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>u(!1)}),D.jsxs("div",{className:`
            fixed md:relative z-50 md:z-auto
            w-80 h-full bg-brand-surface border-r border-brand-secondary p-4 overflow-y-auto
            transform transition-transform duration-300 ease-in-out
            ${o?"translate-x-0":"-translate-x-full"}
            md:translate-x-0 md:block
          `,children:[D.jsx("div",{className:"mb-4",children:D.jsxs("div",{className:"flex justify-between items-center mb-2",children:[D.jsx("h2",{className:"text-lg font-semibold text-brand-text-primary",children:"자료 출처"}),D.jsx("button",{onClick:()=>u(!1),className:"md:hidden p-1 rounded-lg hover:bg-brand-secondary",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("h3",{className:"text-md font-medium text-brand-text-primary",children:"현재 자료"}),D.jsx(ww,{sources:n})]})]}),D.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:D.jsx(Ew,{onSendMessage:C,onStreamingMessage:T,onResetMessages:()=>y([]),placeholder:"금연사업 관련 문의사항을 입력하세요..."})})]})]}),D.jsx(kw,{compressionResult:rt.getCompressionStats(),isVisible:c,onClose:()=>d(!1)}),D.jsx(_w,{isOpen:m,title:"새 대화 시작",message:"현재 대화 내용이 모두 삭제됩니다. 계속하시겠습니까?",confirmText:"새 대화 시작",cancelText:"취소",onConfirm:_,onCancel:()=>p(!1),isDestructive:!0})]})}const DD=Jv.createRoot(document.getElementById("root"));DD.render(D.jsx(zv.StrictMode,{children:D.jsx(ND,{})}));
